function bA(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in n)){const a=Object.getOwnPropertyDescriptor(r,o);a&&Object.defineProperty(n,o,a.get?a:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function kA(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var kf={exports:{}},Tl={},Cf={exports:{}},ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv;function CA(){if(Uv)return ze;Uv=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.iterator;function T(N){return N===null||typeof N!="object"?null:(N=w&&N[w]||N["@@iterator"],typeof N=="function"?N:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,B={};function L(N,H,le){this.props=N,this.context=H,this.refs=B,this.updater=le||I}L.prototype.isReactComponent={},L.prototype.setState=function(N,H){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,H,"setState")},L.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function K(){}K.prototype=L.prototype;function Q(N,H,le){this.props=N,this.context=H,this.refs=B,this.updater=le||I}var Y=Q.prototype=new K;Y.constructor=Q,O(Y,L.prototype),Y.isPureReactComponent=!0;var ue=Array.isArray,ae=Object.prototype.hasOwnProperty,ie={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function A(N,H,le){var re,de={},we=null,he=null;if(H!=null)for(re in H.ref!==void 0&&(he=H.ref),H.key!==void 0&&(we=""+H.key),H)ae.call(H,re)&&!P.hasOwnProperty(re)&&(de[re]=H[re]);var Me=arguments.length-2;if(Me===1)de.children=le;else if(1<Me){for(var Ue=Array(Me),st=0;st<Me;st++)Ue[st]=arguments[st+2];de.children=Ue}if(N&&N.defaultProps)for(re in Me=N.defaultProps,Me)de[re]===void 0&&(de[re]=Me[re]);return{$$typeof:n,type:N,key:we,ref:he,props:de,_owner:ie.current}}function b(N,H){return{$$typeof:n,type:N.type,key:H,ref:N.ref,props:N.props,_owner:N._owner}}function D(N){return typeof N=="object"&&N!==null&&N.$$typeof===n}function R(N){var H={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(le){return H[le]})}var F=/\/+/g;function C(N,H){return typeof N=="object"&&N!==null&&N.key!=null?R(""+N.key):H.toString(36)}function Le(N,H,le,re,de){var we=typeof N;(we==="undefined"||we==="boolean")&&(N=null);var he=!1;if(N===null)he=!0;else switch(we){case"string":case"number":he=!0;break;case"object":switch(N.$$typeof){case n:case e:he=!0}}if(he)return he=N,de=de(he),N=re===""?"."+C(he,0):re,ue(de)?(le="",N!=null&&(le=N.replace(F,"$&/")+"/"),Le(de,H,le,"",function(st){return st})):de!=null&&(D(de)&&(de=b(de,le+(!de.key||he&&he.key===de.key?"":(""+de.key).replace(F,"$&/")+"/")+N)),H.push(de)),1;if(he=0,re=re===""?".":re+":",ue(N))for(var Me=0;Me<N.length;Me++){we=N[Me];var Ue=re+C(we,Me);he+=Le(we,H,le,Ue,de)}else if(Ue=T(N),typeof Ue=="function")for(N=Ue.call(N),Me=0;!(we=N.next()).done;)we=we.value,Ue=re+C(we,Me++),he+=Le(we,H,le,Ue,de);else if(we==="object")throw H=String(N),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return he}function Ge(N,H,le){if(N==null)return N;var re=[],de=0;return Le(N,re,"","",function(we){return H.call(le,we,de++)}),re}function Ye(N){if(N._status===-1){var H=N._result;H=H(),H.then(function(le){(N._status===0||N._status===-1)&&(N._status=1,N._result=le)},function(le){(N._status===0||N._status===-1)&&(N._status=2,N._result=le)}),N._status===-1&&(N._status=0,N._result=H)}if(N._status===1)return N._result.default;throw N._result}var Te={current:null},j={transition:null},J={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:j,ReactCurrentOwner:ie};function U(){throw Error("act(...) is not supported in production builds of React.")}return ze.Children={map:Ge,forEach:function(N,H,le){Ge(N,function(){H.apply(this,arguments)},le)},count:function(N){var H=0;return Ge(N,function(){H++}),H},toArray:function(N){return Ge(N,function(H){return H})||[]},only:function(N){if(!D(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},ze.Component=L,ze.Fragment=t,ze.Profiler=o,ze.PureComponent=Q,ze.StrictMode=r,ze.Suspense=f,ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J,ze.act=U,ze.cloneElement=function(N,H,le){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var re=O({},N.props),de=N.key,we=N.ref,he=N._owner;if(H!=null){if(H.ref!==void 0&&(we=H.ref,he=ie.current),H.key!==void 0&&(de=""+H.key),N.type&&N.type.defaultProps)var Me=N.type.defaultProps;for(Ue in H)ae.call(H,Ue)&&!P.hasOwnProperty(Ue)&&(re[Ue]=H[Ue]===void 0&&Me!==void 0?Me[Ue]:H[Ue])}var Ue=arguments.length-2;if(Ue===1)re.children=le;else if(1<Ue){Me=Array(Ue);for(var st=0;st<Ue;st++)Me[st]=arguments[st+2];re.children=Me}return{$$typeof:n,type:N.type,key:de,ref:we,props:re,_owner:he}},ze.createContext=function(N){return N={$$typeof:c,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:a,_context:N},N.Consumer=N},ze.createElement=A,ze.createFactory=function(N){var H=A.bind(null,N);return H.type=N,H},ze.createRef=function(){return{current:null}},ze.forwardRef=function(N){return{$$typeof:d,render:N}},ze.isValidElement=D,ze.lazy=function(N){return{$$typeof:_,_payload:{_status:-1,_result:N},_init:Ye}},ze.memo=function(N,H){return{$$typeof:m,type:N,compare:H===void 0?null:H}},ze.startTransition=function(N){var H=j.transition;j.transition={};try{N()}finally{j.transition=H}},ze.unstable_act=U,ze.useCallback=function(N,H){return Te.current.useCallback(N,H)},ze.useContext=function(N){return Te.current.useContext(N)},ze.useDebugValue=function(){},ze.useDeferredValue=function(N){return Te.current.useDeferredValue(N)},ze.useEffect=function(N,H){return Te.current.useEffect(N,H)},ze.useId=function(){return Te.current.useId()},ze.useImperativeHandle=function(N,H,le){return Te.current.useImperativeHandle(N,H,le)},ze.useInsertionEffect=function(N,H){return Te.current.useInsertionEffect(N,H)},ze.useLayoutEffect=function(N,H){return Te.current.useLayoutEffect(N,H)},ze.useMemo=function(N,H){return Te.current.useMemo(N,H)},ze.useReducer=function(N,H,le){return Te.current.useReducer(N,H,le)},ze.useRef=function(N){return Te.current.useRef(N)},ze.useState=function(N){return Te.current.useState(N)},ze.useSyncExternalStore=function(N,H,le){return Te.current.useSyncExternalStore(N,H,le)},ze.useTransition=function(){return Te.current.useTransition()},ze.version="18.3.1",ze}var zv;function sm(){return zv||(zv=1,Cf.exports=CA()),Cf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $v;function PA(){if($v)return Tl;$v=1;var n=sm(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(d,f,m){var _,w={},T=null,I=null;m!==void 0&&(T=""+m),f.key!==void 0&&(T=""+f.key),f.ref!==void 0&&(I=f.ref);for(_ in f)r.call(f,_)&&!a.hasOwnProperty(_)&&(w[_]=f[_]);if(d&&d.defaultProps)for(_ in f=d.defaultProps,f)w[_]===void 0&&(w[_]=f[_]);return{$$typeof:e,type:d,key:T,ref:I,props:w,_owner:o.current}}return Tl.Fragment=t,Tl.jsx=c,Tl.jsxs=c,Tl}var Wv;function RA(){return Wv||(Wv=1,kf.exports=PA()),kf.exports}var v=RA(),ku={},Pf={exports:{}},En={},Rf={exports:{}},Nf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hv;function NA(){return Hv||(Hv=1,(function(n){function e(j,J){var U=j.length;j.push(J);e:for(;0<U;){var N=U-1>>>1,H=j[N];if(0<o(H,J))j[N]=J,j[U]=H,U=N;else break e}}function t(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var J=j[0],U=j.pop();if(U!==J){j[0]=U;e:for(var N=0,H=j.length,le=H>>>1;N<le;){var re=2*(N+1)-1,de=j[re],we=re+1,he=j[we];if(0>o(de,U))we<H&&0>o(he,de)?(j[N]=he,j[we]=U,N=we):(j[N]=de,j[re]=U,N=re);else if(we<H&&0>o(he,U))j[N]=he,j[we]=U,N=we;else break e}}return J}function o(j,J){var U=j.sortIndex-J.sortIndex;return U!==0?U:j.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var f=[],m=[],_=1,w=null,T=3,I=!1,O=!1,B=!1,L=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Y(j){for(var J=t(m);J!==null;){if(J.callback===null)r(m);else if(J.startTime<=j)r(m),J.sortIndex=J.expirationTime,e(f,J);else break;J=t(m)}}function ue(j){if(B=!1,Y(j),!O)if(t(f)!==null)O=!0,Ye(ae);else{var J=t(m);J!==null&&Te(ue,J.startTime-j)}}function ae(j,J){O=!1,B&&(B=!1,K(A),A=-1),I=!0;var U=T;try{for(Y(J),w=t(f);w!==null&&(!(w.expirationTime>J)||j&&!R());){var N=w.callback;if(typeof N=="function"){w.callback=null,T=w.priorityLevel;var H=N(w.expirationTime<=J);J=n.unstable_now(),typeof H=="function"?w.callback=H:w===t(f)&&r(f),Y(J)}else r(f);w=t(f)}if(w!==null)var le=!0;else{var re=t(m);re!==null&&Te(ue,re.startTime-J),le=!1}return le}finally{w=null,T=U,I=!1}}var ie=!1,P=null,A=-1,b=5,D=-1;function R(){return!(n.unstable_now()-D<b)}function F(){if(P!==null){var j=n.unstable_now();D=j;var J=!0;try{J=P(!0,j)}finally{J?C():(ie=!1,P=null)}}else ie=!1}var C;if(typeof Q=="function")C=function(){Q(F)};else if(typeof MessageChannel<"u"){var Le=new MessageChannel,Ge=Le.port2;Le.port1.onmessage=F,C=function(){Ge.postMessage(null)}}else C=function(){L(F,0)};function Ye(j){P=j,ie||(ie=!0,C())}function Te(j,J){A=L(function(){j(n.unstable_now())},J)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(j){j.callback=null},n.unstable_continueExecution=function(){O||I||(O=!0,Ye(ae))},n.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<j?Math.floor(1e3/j):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(j){switch(T){case 1:case 2:case 3:var J=3;break;default:J=T}var U=T;T=J;try{return j()}finally{T=U}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(j,J){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var U=T;T=j;try{return J()}finally{T=U}},n.unstable_scheduleCallback=function(j,J,U){var N=n.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?N+U:N):U=N,j){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=U+H,j={id:_++,callback:J,priorityLevel:j,startTime:U,expirationTime:H,sortIndex:-1},U>N?(j.sortIndex=U,e(m,j),t(f)===null&&j===t(m)&&(B?(K(A),A=-1):B=!0,Te(ue,U-N))):(j.sortIndex=H,e(f,j),O||I||(O=!0,Ye(ae))),j},n.unstable_shouldYield=R,n.unstable_wrapCallback=function(j){var J=T;return function(){var U=T;T=J;try{return j.apply(this,arguments)}finally{T=U}}}})(Nf)),Nf}var qv;function DA(){return qv||(qv=1,Rf.exports=NA()),Rf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gv;function VA(){if(Gv)return En;Gv=1;var n=sm(),e=DA();function t(s){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+s,l=1;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(s,i){c(s,i),c(s+"Capture",i)}function c(s,i){for(o[s]=i,s=0;s<i.length;s++)r.add(i[s])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},w={};function T(s){return f.call(w,s)?!0:f.call(_,s)?!1:m.test(s)?w[s]=!0:(_[s]=!0,!1)}function I(s,i,l,h){if(l!==null&&l.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function O(s,i,l,h){if(i===null||typeof i>"u"||I(s,i,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function B(s,i,l,h,p,g,x){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=h,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=s,this.type=i,this.sanitizeURL=g,this.removeEmptyString=x}var L={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){L[s]=new B(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var i=s[0];L[i]=new B(i,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){L[s]=new B(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){L[s]=new B(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){L[s]=new B(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){L[s]=new B(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){L[s]=new B(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){L[s]=new B(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){L[s]=new B(s,5,!1,s.toLowerCase(),null,!1,!1)});var K=/[\-:]([a-z])/g;function Q(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var i=s.replace(K,Q);L[i]=new B(i,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var i=s.replace(K,Q);L[i]=new B(i,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var i=s.replace(K,Q);L[i]=new B(i,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){L[s]=new B(s,1,!1,s.toLowerCase(),null,!1,!1)}),L.xlinkHref=new B("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){L[s]=new B(s,1,!1,s.toLowerCase(),null,!0,!0)});function Y(s,i,l,h){var p=L.hasOwnProperty(i)?L[i]:null;(p!==null?p.type!==0:h||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(O(i,l,p,h)&&(l=null),h||p===null?T(i)&&(l===null?s.removeAttribute(i):s.setAttribute(i,""+l)):p.mustUseProperty?s[p.propertyName]=l===null?p.type===3?!1:"":l:(i=p.attributeName,h=p.attributeNamespace,l===null?s.removeAttribute(i):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,h?s.setAttributeNS(h,i,l):s.setAttribute(i,l))))}var ue=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ae=Symbol.for("react.element"),ie=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),R=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),Le=Symbol.for("react.suspense_list"),Ge=Symbol.for("react.memo"),Ye=Symbol.for("react.lazy"),Te=Symbol.for("react.offscreen"),j=Symbol.iterator;function J(s){return s===null||typeof s!="object"?null:(s=j&&s[j]||s["@@iterator"],typeof s=="function"?s:null)}var U=Object.assign,N;function H(s){if(N===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);N=i&&i[1]||""}return`
`+N+s}var le=!1;function re(s,i){if(!s||le)return"";le=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(q){var h=q}Reflect.construct(s,[],i)}else{try{i.call()}catch(q){h=q}s.call(i.prototype)}else{try{throw Error()}catch(q){h=q}s()}}catch(q){if(q&&h&&typeof q.stack=="string"){for(var p=q.stack.split(`
`),g=h.stack.split(`
`),x=p.length-1,k=g.length-1;1<=x&&0<=k&&p[x]!==g[k];)k--;for(;1<=x&&0<=k;x--,k--)if(p[x]!==g[k]){if(x!==1||k!==1)do if(x--,k--,0>k||p[x]!==g[k]){var V=`
`+p[x].replace(" at new "," at ");return s.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",s.displayName)),V}while(1<=x&&0<=k);break}}}finally{le=!1,Error.prepareStackTrace=l}return(s=s?s.displayName||s.name:"")?H(s):""}function de(s){switch(s.tag){case 5:return H(s.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return s=re(s.type,!1),s;case 11:return s=re(s.type.render,!1),s;case 1:return s=re(s.type,!0),s;default:return""}}function we(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case P:return"Fragment";case ie:return"Portal";case b:return"Profiler";case A:return"StrictMode";case C:return"Suspense";case Le:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case R:return(s.displayName||"Context")+".Consumer";case D:return(s._context.displayName||"Context")+".Provider";case F:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Ge:return i=s.displayName||null,i!==null?i:we(s.type)||"Memo";case Ye:i=s._payload,s=s._init;try{return we(s(i))}catch{}}return null}function he(s){var i=s.type;switch(s.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=i.render,s=s.displayName||s.name||"",i.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return we(i);case 8:return i===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Me(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ue(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function st(s){var i=Ue(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),h=""+s[i];if(!s.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,g=l.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return p.call(this)},set:function(x){h=""+x,g.call(this,x)}}),Object.defineProperty(s,i,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(x){h=""+x},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function Je(s){s._valueTracker||(s._valueTracker=st(s))}function an(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var l=i.getValue(),h="";return s&&(h=Ue(s)?s.checked?"true":"false":s.value),s=h,s!==l?(i.setValue(s),!0):!1}function An(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Jn(s,i){var l=i.checked;return U({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??s._wrapperState.initialChecked})}function ln(s,i){var l=i.defaultValue==null?"":i.defaultValue,h=i.checked!=null?i.checked:i.defaultChecked;l=Me(i.value!=null?i.value:l),s._wrapperState={initialChecked:h,initialValue:l,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Zn(s,i){i=i.checked,i!=null&&Y(s,"checked",i,!1)}function xt(s,i){Zn(s,i);var l=Me(i.value),h=i.type;if(l!=null)h==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+l):s.value!==""+l&&(s.value=""+l);else if(h==="submit"||h==="reset"){s.removeAttribute("value");return}i.hasOwnProperty("value")?ht(s,i.type,l):i.hasOwnProperty("defaultValue")&&ht(s,i.type,Me(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(s.defaultChecked=!!i.defaultChecked)}function fr(s,i,l){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var h=i.type;if(!(h!=="submit"&&h!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+s._wrapperState.initialValue,l||i===s.value||(s.value=i),s.defaultValue=i}l=s.name,l!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,l!==""&&(s.name=l)}function ht(s,i,l){(i!=="number"||An(s.ownerDocument)!==s)&&(l==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+l&&(s.defaultValue=""+l))}var it=Array.isArray;function je(s,i,l,h){if(s=s.options,i){i={};for(var p=0;p<l.length;p++)i["$"+l[p]]=!0;for(l=0;l<s.length;l++)p=i.hasOwnProperty("$"+s[l].value),s[l].selected!==p&&(s[l].selected=p),p&&h&&(s[l].defaultSelected=!0)}else{for(l=""+Me(l),i=null,p=0;p<s.length;p++){if(s[p].value===l){s[p].selected=!0,h&&(s[p].defaultSelected=!0);return}i!==null||s[p].disabled||(i=s[p])}i!==null&&(i.selected=!0)}}function jn(s,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return U({},i,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function qr(s,i){var l=i.value;if(l==null){if(l=i.children,i=i.defaultValue,l!=null){if(i!=null)throw Error(t(92));if(it(l)){if(1<l.length)throw Error(t(93));l=l[0]}i=l}i==null&&(i=""),l=i}s._wrapperState={initialValue:Me(l)}}function Ts(s,i){var l=Me(i.value),h=Me(i.defaultValue);l!=null&&(l=""+l,l!==s.value&&(s.value=l),i.defaultValue==null&&s.defaultValue!==l&&(s.defaultValue=l)),h!=null&&(s.defaultValue=""+h)}function On(s){var i=s.textContent;i===s._wrapperState.initialValue&&i!==""&&i!==null&&(s.value=i)}function er(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ln(s,i){return s==null||s==="http://www.w3.org/1999/xhtml"?er(i):s==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var fn,pr=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,l,h,p){MSApp.execUnsafeLocalFunction(function(){return s(i,l,h,p)})}:s})(function(s,i){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=i;else{for(fn=fn||document.createElement("div"),fn.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=fn.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;i.firstChild;)s.appendChild(i.firstChild)}});function Sn(s,i){if(i){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=i;return}}s.textContent=i}var pn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ho=["Webkit","ms","Moz","O"];Object.keys(pn).forEach(function(s){ho.forEach(function(i){i=i+s.charAt(0).toUpperCase()+s.substring(1),pn[i]=pn[s]})});function mr(s,i,l){return i==null||typeof i=="boolean"||i===""?"":l||typeof i!="number"||i===0||pn.hasOwnProperty(s)&&pn[s]?(""+i).trim():i+"px"}function As(s,i){s=s.style;for(var l in i)if(i.hasOwnProperty(l)){var h=l.indexOf("--")===0,p=mr(l,i[l],h);l==="float"&&(l="cssFloat"),h?s.setProperty(l,p):s[l]=p}}var _i=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ce(s,i){if(i){if(_i[s]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function et(s,i){if(s.indexOf("-")===-1)return typeof i.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ss=null;function fo(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Gr=null,Kr=null,_t=null;function Ma(s){if(s=ll(s)){if(typeof Gr!="function")throw Error(t(280));var i=s.stateNode;i&&(i=$c(i),Gr(s.stateNode,s.type,i))}}function Is(s){Kr?_t?_t.push(s):_t=[s]:Kr=s}function bs(){if(Kr){var s=Kr,i=_t;if(_t=Kr=null,Ma(s),i)for(s=0;s<i.length;s++)Ma(i[s])}}function yc(s,i){return s(i)}function vc(){}var gr=!1;function _c(s,i,l){if(gr)return s(i,l);gr=!0;try{return yc(s,i,l)}finally{gr=!1,(Kr!==null||_t!==null)&&(vc(),bs())}}function Ei(s,i){var l=s.stateNode;if(l===null)return null;var h=$c(l);if(h===null)return null;l=h[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(t(231,i,typeof l));return l}var ks=!1;if(d)try{var Cs={};Object.defineProperty(Cs,"passive",{get:function(){ks=!0}}),window.addEventListener("test",Cs,Cs),window.removeEventListener("test",Cs,Cs)}catch{ks=!1}function Ec(s,i,l,h,p,g,x,k,V){var q=Array.prototype.slice.call(arguments,3);try{i.apply(l,q)}catch(ne){this.onError(ne)}}var Qr=!1,yr=null,po=!1,Fn=null,wc={onError:function(s){Qr=!0,yr=s}};function xc(s,i,l,h,p,g,x,k,V){Qr=!1,yr=null,Ec.apply(wc,arguments)}function ja(s,i,l,h,p,g,x,k,V){if(xc.apply(this,arguments),Qr){if(Qr){var q=yr;Qr=!1,yr=null}else throw Error(t(198));po||(po=!0,Fn=q)}}function tr(s){var i=s,l=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(l=i.return),s=i.return;while(s)}return i.tag===3?l:null}function Oa(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function Tc(s){if(tr(s)!==s)throw Error(t(188))}function Ac(s){var i=s.alternate;if(!i){if(i=tr(s),i===null)throw Error(t(188));return i!==s?null:s}for(var l=s,h=i;;){var p=l.return;if(p===null)break;var g=p.alternate;if(g===null){if(h=p.return,h!==null){l=h;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===l)return Tc(p),s;if(g===h)return Tc(p),i;g=g.sibling}throw Error(t(188))}if(l.return!==h.return)l=p,h=g;else{for(var x=!1,k=p.child;k;){if(k===l){x=!0,l=p,h=g;break}if(k===h){x=!0,h=p,l=g;break}k=k.sibling}if(!x){for(k=g.child;k;){if(k===l){x=!0,l=g,h=p;break}if(k===h){x=!0,h=g,l=p;break}k=k.sibling}if(!x)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?s:i}function Sc(s){return s=Ac(s),s!==null?wi(s):null}function wi(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var i=wi(s);if(i!==null)return i;s=s.sibling}return null}var La=e.unstable_scheduleCallback,mo=e.unstable_cancelCallback,xi=e.unstable_shouldYield,Yr=e.unstable_requestPaint,at=e.unstable_now,sd=e.unstable_getCurrentPriorityLevel,go=e.unstable_ImmediatePriority,Fa=e.unstable_UserBlockingPriority,Ti=e.unstable_NormalPriority,Ba=e.unstable_LowPriority,yo=e.unstable_IdlePriority,Ai=null,In=null;function Ic(s){if(In&&typeof In.onCommitFiberRoot=="function")try{In.onCommitFiberRoot(Ai,s,void 0,(s.current.flags&128)===128)}catch{}}var bn=Math.clz32?Math.clz32:Si,vr=Math.log,Bn=Math.LN2;function Si(s){return s>>>=0,s===0?32:31-(vr(s)/Bn|0)|0}var _r=64,Ps=4194304;function Ze(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Xr(s,i){var l=s.pendingLanes;if(l===0)return 0;var h=0,p=s.suspendedLanes,g=s.pingedLanes,x=l&268435455;if(x!==0){var k=x&~p;k!==0?h=Ze(k):(g&=x,g!==0&&(h=Ze(g)))}else x=l&~p,x!==0?h=Ze(x):g!==0&&(h=Ze(g));if(h===0)return 0;if(i!==0&&i!==h&&(i&p)===0&&(p=h&-h,g=i&-i,p>=g||p===16&&(g&4194240)!==0))return i;if((h&4)!==0&&(h|=l&16),i=s.entangledLanes,i!==0)for(s=s.entanglements,i&=h;0<i;)l=31-bn(i),p=1<<l,h|=s[l],i&=~p;return h}function Ii(s,i){switch(s){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bi(s,i){for(var l=s.suspendedLanes,h=s.pingedLanes,p=s.expirationTimes,g=s.pendingLanes;0<g;){var x=31-bn(g),k=1<<x,V=p[x];V===-1?((k&l)===0||(k&h)!==0)&&(p[x]=Ii(k,i)):V<=i&&(s.expiredLanes|=k),g&=~k}}function Ua(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function za(){var s=_r;return _r<<=1,(_r&4194240)===0&&(_r=64),s}function $a(s){for(var i=[],l=0;31>l;l++)i.push(s);return i}function ki(s,i,l){s.pendingLanes|=i,i!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,i=31-bn(i),s[i]=l}function id(s,i){var l=s.pendingLanes&~i;s.pendingLanes=i,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=i,s.mutableReadLanes&=i,s.entangledLanes&=i,i=s.entanglements;var h=s.eventTimes;for(s=s.expirationTimes;0<l;){var p=31-bn(l),g=1<<p;i[p]=0,h[p]=-1,s[p]=-1,l&=~g}}function Wa(s,i){var l=s.entangledLanes|=i;for(s=s.entanglements;l;){var h=31-bn(l),p=1<<h;p&i|s[h]&i&&(s[h]|=i),l&=~p}}var qe=0;function Er(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Ha,vo,qa,Ga,Ka,wr=!1,_o=[],xr=null,Tr=null,zt=null,Ci=new Map,Jr=new Map,kn=[],bc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rs(s,i){switch(s){case"focusin":case"focusout":xr=null;break;case"dragenter":case"dragleave":Tr=null;break;case"mouseover":case"mouseout":zt=null;break;case"pointerover":case"pointerout":Ci.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jr.delete(i.pointerId)}}function nr(s,i,l,h,p,g){return s===null||s.nativeEvent!==g?(s={blockedOn:i,domEventName:l,eventSystemFlags:h,nativeEvent:g,targetContainers:[p]},i!==null&&(i=ll(i),i!==null&&vo(i)),s):(s.eventSystemFlags|=h,i=s.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),s)}function kc(s,i,l,h,p){switch(i){case"focusin":return xr=nr(xr,s,i,l,h,p),!0;case"dragenter":return Tr=nr(Tr,s,i,l,h,p),!0;case"mouseover":return zt=nr(zt,s,i,l,h,p),!0;case"pointerover":var g=p.pointerId;return Ci.set(g,nr(Ci.get(g)||null,s,i,l,h,p)),!0;case"gotpointercapture":return g=p.pointerId,Jr.set(g,nr(Jr.get(g)||null,s,i,l,h,p)),!0}return!1}function Eo(s){var i=Di(s.target);if(i!==null){var l=tr(i);if(l!==null){if(i=l.tag,i===13){if(i=Oa(l),i!==null){s.blockedOn=i,Ka(s.priority,function(){qa(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function rt(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var l=wo(s.domEventName,s.eventSystemFlags,i[0],s.nativeEvent);if(l===null){l=s.nativeEvent;var h=new l.constructor(l.type,l);Ss=h,l.target.dispatchEvent(h),Ss=null}else return i=ll(l),i!==null&&vo(i),s.blockedOn=l,!1;i.shift()}return!0}function Cc(s,i,l){rt(s)&&l.delete(i)}function od(){wr=!1,xr!==null&&rt(xr)&&(xr=null),Tr!==null&&rt(Tr)&&(Tr=null),zt!==null&&rt(zt)&&(zt=null),Ci.forEach(Cc),Jr.forEach(Cc)}function Ns(s,i){s.blockedOn===i&&(s.blockedOn=null,wr||(wr=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,od)))}function Ds(s){function i(p){return Ns(p,s)}if(0<_o.length){Ns(_o[0],s);for(var l=1;l<_o.length;l++){var h=_o[l];h.blockedOn===s&&(h.blockedOn=null)}}for(xr!==null&&Ns(xr,s),Tr!==null&&Ns(Tr,s),zt!==null&&Ns(zt,s),Ci.forEach(i),Jr.forEach(i),l=0;l<kn.length;l++)h=kn[l],h.blockedOn===s&&(h.blockedOn=null);for(;0<kn.length&&(l=kn[0],l.blockedOn===null);)Eo(l),l.blockedOn===null&&kn.shift()}var Zr=ue.ReactCurrentBatchConfig,es=!0;function Ar(s,i,l,h){var p=qe,g=Zr.transition;Zr.transition=null;try{qe=1,Qa(s,i,l,h)}finally{qe=p,Zr.transition=g}}function Pc(s,i,l,h){var p=qe,g=Zr.transition;Zr.transition=null;try{qe=4,Qa(s,i,l,h)}finally{qe=p,Zr.transition=g}}function Qa(s,i,l,h){if(es){var p=wo(s,i,l,h);if(p===null)yd(s,i,h,Sr,l),Rs(s,h);else if(kc(p,s,i,l,h))h.stopPropagation();else if(Rs(s,h),i&4&&-1<bc.indexOf(s)){for(;p!==null;){var g=ll(p);if(g!==null&&Ha(g),g=wo(s,i,l,h),g===null&&yd(s,i,h,Sr,l),g===p)break;p=g}p!==null&&h.stopPropagation()}else yd(s,i,h,null,l)}}var Sr=null;function wo(s,i,l,h){if(Sr=null,s=fo(h),s=Di(s),s!==null)if(i=tr(s),i===null)s=null;else if(l=i.tag,l===13){if(s=Oa(i),s!==null)return s;s=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null);return Sr=s,null}function xo(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sd()){case go:return 1;case Fa:return 4;case Ti:case Ba:return 16;case yo:return 536870912;default:return 16}default:return 16}}var Cn=null,To=null,ts=null;function Rc(){if(ts)return ts;var s,i=To,l=i.length,h,p="value"in Cn?Cn.value:Cn.textContent,g=p.length;for(s=0;s<l&&i[s]===p[s];s++);var x=l-s;for(h=1;h<=x&&i[l-h]===p[g-h];h++);return ts=p.slice(s,1<h?1-h:void 0)}function Pi(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function Ir(){return!0}function Ya(){return!1}function Yt(s){function i(l,h,p,g,x){this._reactName=l,this._targetInst=p,this.type=h,this.nativeEvent=g,this.target=x,this.currentTarget=null;for(var k in s)s.hasOwnProperty(k)&&(l=s[k],this[k]=l?l(g):g[k]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ir:Ya,this.isPropagationStopped=Ya,this}return U(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ir)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ir)},persist:function(){},isPersistent:Ir}),i}var br={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ri=Yt(br),Vs=U({},br,{view:0,detail:0}),Ao=Yt(Vs),So,Io,Pn,Ni=U({},Vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:De,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Pn&&(Pn&&s.type==="mousemove"?(So=s.screenX-Pn.screenX,Io=s.screenY-Pn.screenY):Io=So=0,Pn=s),So)},movementY:function(s){return"movementY"in s?s.movementY:Io}}),Xa=Yt(Ni),Nc=U({},Ni,{dataTransfer:0}),Dc=Yt(Nc),bo=U({},Vs,{relatedTarget:0}),$t=Yt(bo),Vc=U({},br,{animationName:0,elapsedTime:0,pseudoElement:0}),Mc=Yt(Vc),Ms=U({},br,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),u=Yt(Ms),y=U({},br,{data:0}),E=Yt(y),S={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},G={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ce(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=G[s])?!!i[s]:!1}function De(){return ce}var Tt=U({},Vs,{key:function(s){if(s.key){var i=S[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=Pi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?$[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:De,charCode:function(s){return s.type==="keypress"?Pi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Pi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),nt=Yt(Tt),bt=U({},Ni,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rn=Yt(bt),ns=U({},Vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:De}),kr=Yt(ns),Cr=U({},br,{propertyName:0,elapsedTime:0,pseudoElement:0}),ko=Yt(Cr),Ja=U({},Ni,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),wT=Yt(Ja),xT=[9,13,27,32],ad=d&&"CompositionEvent"in window,Za=null;d&&"documentMode"in document&&(Za=document.documentMode);var TT=d&&"TextEvent"in window&&!Za,Dg=d&&(!ad||Za&&8<Za&&11>=Za),Vg=" ",Mg=!1;function jg(s,i){switch(s){case"keyup":return xT.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Og(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Co=!1;function AT(s,i){switch(s){case"compositionend":return Og(i);case"keypress":return i.which!==32?null:(Mg=!0,Vg);case"textInput":return s=i.data,s===Vg&&Mg?null:s;default:return null}}function ST(s,i){if(Co)return s==="compositionend"||!ad&&jg(s,i)?(s=Rc(),ts=To=Cn=null,Co=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Dg&&i.locale!=="ko"?null:i.data;default:return null}}var IT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lg(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!IT[s.type]:i==="textarea"}function Fg(s,i,l,h){Is(h),i=Bc(i,"onChange"),0<i.length&&(l=new Ri("onChange","change",null,l,h),s.push({event:l,listeners:i}))}var el=null,tl=null;function bT(s){ry(s,0)}function jc(s){var i=Vo(s);if(an(i))return s}function kT(s,i){if(s==="change")return i}var Bg=!1;if(d){var ld;if(d){var cd="oninput"in document;if(!cd){var Ug=document.createElement("div");Ug.setAttribute("oninput","return;"),cd=typeof Ug.oninput=="function"}ld=cd}else ld=!1;Bg=ld&&(!document.documentMode||9<document.documentMode)}function zg(){el&&(el.detachEvent("onpropertychange",$g),tl=el=null)}function $g(s){if(s.propertyName==="value"&&jc(tl)){var i=[];Fg(i,tl,s,fo(s)),_c(bT,i)}}function CT(s,i,l){s==="focusin"?(zg(),el=i,tl=l,el.attachEvent("onpropertychange",$g)):s==="focusout"&&zg()}function PT(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return jc(tl)}function RT(s,i){if(s==="click")return jc(i)}function NT(s,i){if(s==="input"||s==="change")return jc(i)}function DT(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var rr=typeof Object.is=="function"?Object.is:DT;function nl(s,i){if(rr(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var l=Object.keys(s),h=Object.keys(i);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var p=l[h];if(!f.call(i,p)||!rr(s[p],i[p]))return!1}return!0}function Wg(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Hg(s,i){var l=Wg(s);s=0;for(var h;l;){if(l.nodeType===3){if(h=s+l.textContent.length,s<=i&&h>=i)return{node:l,offset:i-s};s=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Wg(l)}}function qg(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?qg(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function Gg(){for(var s=window,i=An();i instanceof s.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)s=i.contentWindow;else break;i=An(s.document)}return i}function ud(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}function VT(s){var i=Gg(),l=s.focusedElem,h=s.selectionRange;if(i!==l&&l&&l.ownerDocument&&qg(l.ownerDocument.documentElement,l)){if(h!==null&&ud(l)){if(i=h.start,s=h.end,s===void 0&&(s=i),"selectionStart"in l)l.selectionStart=i,l.selectionEnd=Math.min(s,l.value.length);else if(s=(i=l.ownerDocument||document)&&i.defaultView||window,s.getSelection){s=s.getSelection();var p=l.textContent.length,g=Math.min(h.start,p);h=h.end===void 0?g:Math.min(h.end,p),!s.extend&&g>h&&(p=h,h=g,g=p),p=Hg(l,g);var x=Hg(l,h);p&&x&&(s.rangeCount!==1||s.anchorNode!==p.node||s.anchorOffset!==p.offset||s.focusNode!==x.node||s.focusOffset!==x.offset)&&(i=i.createRange(),i.setStart(p.node,p.offset),s.removeAllRanges(),g>h?(s.addRange(i),s.extend(x.node,x.offset)):(i.setEnd(x.node,x.offset),s.addRange(i)))}}for(i=[],s=l;s=s.parentNode;)s.nodeType===1&&i.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<i.length;l++)s=i[l],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var MT=d&&"documentMode"in document&&11>=document.documentMode,Po=null,hd=null,rl=null,dd=!1;function Kg(s,i,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;dd||Po==null||Po!==An(h)||(h=Po,"selectionStart"in h&&ud(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),rl&&nl(rl,h)||(rl=h,h=Bc(hd,"onSelect"),0<h.length&&(i=new Ri("onSelect","select",null,i,l),s.push({event:i,listeners:h}),i.target=Po)))}function Oc(s,i){var l={};return l[s.toLowerCase()]=i.toLowerCase(),l["Webkit"+s]="webkit"+i,l["Moz"+s]="moz"+i,l}var Ro={animationend:Oc("Animation","AnimationEnd"),animationiteration:Oc("Animation","AnimationIteration"),animationstart:Oc("Animation","AnimationStart"),transitionend:Oc("Transition","TransitionEnd")},fd={},Qg={};d&&(Qg=document.createElement("div").style,"AnimationEvent"in window||(delete Ro.animationend.animation,delete Ro.animationiteration.animation,delete Ro.animationstart.animation),"TransitionEvent"in window||delete Ro.transitionend.transition);function Lc(s){if(fd[s])return fd[s];if(!Ro[s])return s;var i=Ro[s],l;for(l in i)if(i.hasOwnProperty(l)&&l in Qg)return fd[s]=i[l];return s}var Yg=Lc("animationend"),Xg=Lc("animationiteration"),Jg=Lc("animationstart"),Zg=Lc("transitionend"),ey=new Map,ty="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function js(s,i){ey.set(s,i),a(i,[s])}for(var pd=0;pd<ty.length;pd++){var md=ty[pd],jT=md.toLowerCase(),OT=md[0].toUpperCase()+md.slice(1);js(jT,"on"+OT)}js(Yg,"onAnimationEnd"),js(Xg,"onAnimationIteration"),js(Jg,"onAnimationStart"),js("dblclick","onDoubleClick"),js("focusin","onFocus"),js("focusout","onBlur"),js(Zg,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LT=new Set("cancel close invalid load scroll toggle".split(" ").concat(sl));function ny(s,i,l){var h=s.type||"unknown-event";s.currentTarget=l,ja(h,i,void 0,s),s.currentTarget=null}function ry(s,i){i=(i&4)!==0;for(var l=0;l<s.length;l++){var h=s[l],p=h.event;h=h.listeners;e:{var g=void 0;if(i)for(var x=h.length-1;0<=x;x--){var k=h[x],V=k.instance,q=k.currentTarget;if(k=k.listener,V!==g&&p.isPropagationStopped())break e;ny(p,k,q),g=V}else for(x=0;x<h.length;x++){if(k=h[x],V=k.instance,q=k.currentTarget,k=k.listener,V!==g&&p.isPropagationStopped())break e;ny(p,k,q),g=V}}}if(po)throw s=Fn,po=!1,Fn=null,s}function lt(s,i){var l=i[Td];l===void 0&&(l=i[Td]=new Set);var h=s+"__bubble";l.has(h)||(sy(i,s,2,!1),l.add(h))}function gd(s,i,l){var h=0;i&&(h|=4),sy(l,s,h,i)}var Fc="_reactListening"+Math.random().toString(36).slice(2);function il(s){if(!s[Fc]){s[Fc]=!0,r.forEach(function(l){l!=="selectionchange"&&(LT.has(l)||gd(l,!1,s),gd(l,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[Fc]||(i[Fc]=!0,gd("selectionchange",!1,i))}}function sy(s,i,l,h){switch(xo(i)){case 1:var p=Ar;break;case 4:p=Pc;break;default:p=Qa}l=p.bind(null,i,l,s),p=void 0,!ks||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),h?p!==void 0?s.addEventListener(i,l,{capture:!0,passive:p}):s.addEventListener(i,l,!0):p!==void 0?s.addEventListener(i,l,{passive:p}):s.addEventListener(i,l,!1)}function yd(s,i,l,h,p){var g=h;if((i&1)===0&&(i&2)===0&&h!==null)e:for(;;){if(h===null)return;var x=h.tag;if(x===3||x===4){var k=h.stateNode.containerInfo;if(k===p||k.nodeType===8&&k.parentNode===p)break;if(x===4)for(x=h.return;x!==null;){var V=x.tag;if((V===3||V===4)&&(V=x.stateNode.containerInfo,V===p||V.nodeType===8&&V.parentNode===p))return;x=x.return}for(;k!==null;){if(x=Di(k),x===null)return;if(V=x.tag,V===5||V===6){h=g=x;continue e}k=k.parentNode}}h=h.return}_c(function(){var q=g,ne=fo(l),se=[];e:{var ee=ey.get(s);if(ee!==void 0){var fe=Ri,ge=s;switch(s){case"keypress":if(Pi(l)===0)break e;case"keydown":case"keyup":fe=nt;break;case"focusin":ge="focus",fe=$t;break;case"focusout":ge="blur",fe=$t;break;case"beforeblur":case"afterblur":fe=$t;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=Xa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=Dc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=kr;break;case Yg:case Xg:case Jg:fe=Mc;break;case Zg:fe=ko;break;case"scroll":fe=Ao;break;case"wheel":fe=wT;break;case"copy":case"cut":case"paste":fe=u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=Rn}var _e=(i&4)!==0,At=!_e&&s==="scroll",z=_e?ee!==null?ee+"Capture":null:ee;_e=[];for(var M=q,W;M!==null;){W=M;var oe=W.stateNode;if(W.tag===5&&oe!==null&&(W=oe,z!==null&&(oe=Ei(M,z),oe!=null&&_e.push(ol(M,oe,W)))),At)break;M=M.return}0<_e.length&&(ee=new fe(ee,ge,null,l,ne),se.push({event:ee,listeners:_e}))}}if((i&7)===0){e:{if(ee=s==="mouseover"||s==="pointerover",fe=s==="mouseout"||s==="pointerout",ee&&l!==Ss&&(ge=l.relatedTarget||l.fromElement)&&(Di(ge)||ge[rs]))break e;if((fe||ee)&&(ee=ne.window===ne?ne:(ee=ne.ownerDocument)?ee.defaultView||ee.parentWindow:window,fe?(ge=l.relatedTarget||l.toElement,fe=q,ge=ge?Di(ge):null,ge!==null&&(At=tr(ge),ge!==At||ge.tag!==5&&ge.tag!==6)&&(ge=null)):(fe=null,ge=q),fe!==ge)){if(_e=Xa,oe="onMouseLeave",z="onMouseEnter",M="mouse",(s==="pointerout"||s==="pointerover")&&(_e=Rn,oe="onPointerLeave",z="onPointerEnter",M="pointer"),At=fe==null?ee:Vo(fe),W=ge==null?ee:Vo(ge),ee=new _e(oe,M+"leave",fe,l,ne),ee.target=At,ee.relatedTarget=W,oe=null,Di(ne)===q&&(_e=new _e(z,M+"enter",ge,l,ne),_e.target=W,_e.relatedTarget=At,oe=_e),At=oe,fe&&ge)t:{for(_e=fe,z=ge,M=0,W=_e;W;W=No(W))M++;for(W=0,oe=z;oe;oe=No(oe))W++;for(;0<M-W;)_e=No(_e),M--;for(;0<W-M;)z=No(z),W--;for(;M--;){if(_e===z||z!==null&&_e===z.alternate)break t;_e=No(_e),z=No(z)}_e=null}else _e=null;fe!==null&&iy(se,ee,fe,_e,!1),ge!==null&&At!==null&&iy(se,At,ge,_e,!0)}}e:{if(ee=q?Vo(q):window,fe=ee.nodeName&&ee.nodeName.toLowerCase(),fe==="select"||fe==="input"&&ee.type==="file")var Ee=kT;else if(Lg(ee))if(Bg)Ee=NT;else{Ee=PT;var Ae=CT}else(fe=ee.nodeName)&&fe.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(Ee=RT);if(Ee&&(Ee=Ee(s,q))){Fg(se,Ee,l,ne);break e}Ae&&Ae(s,ee,q),s==="focusout"&&(Ae=ee._wrapperState)&&Ae.controlled&&ee.type==="number"&&ht(ee,"number",ee.value)}switch(Ae=q?Vo(q):window,s){case"focusin":(Lg(Ae)||Ae.contentEditable==="true")&&(Po=Ae,hd=q,rl=null);break;case"focusout":rl=hd=Po=null;break;case"mousedown":dd=!0;break;case"contextmenu":case"mouseup":case"dragend":dd=!1,Kg(se,l,ne);break;case"selectionchange":if(MT)break;case"keydown":case"keyup":Kg(se,l,ne)}var Se;if(ad)e:{switch(s){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Co?jg(s,l)&&(Pe="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Pe="onCompositionStart");Pe&&(Dg&&l.locale!=="ko"&&(Co||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Co&&(Se=Rc()):(Cn=ne,To="value"in Cn?Cn.value:Cn.textContent,Co=!0)),Ae=Bc(q,Pe),0<Ae.length&&(Pe=new E(Pe,s,null,l,ne),se.push({event:Pe,listeners:Ae}),Se?Pe.data=Se:(Se=Og(l),Se!==null&&(Pe.data=Se)))),(Se=TT?AT(s,l):ST(s,l))&&(q=Bc(q,"onBeforeInput"),0<q.length&&(ne=new E("onBeforeInput","beforeinput",null,l,ne),se.push({event:ne,listeners:q}),ne.data=Se))}ry(se,i)})}function ol(s,i,l){return{instance:s,listener:i,currentTarget:l}}function Bc(s,i){for(var l=i+"Capture",h=[];s!==null;){var p=s,g=p.stateNode;p.tag===5&&g!==null&&(p=g,g=Ei(s,l),g!=null&&h.unshift(ol(s,g,p)),g=Ei(s,i),g!=null&&h.push(ol(s,g,p))),s=s.return}return h}function No(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function iy(s,i,l,h,p){for(var g=i._reactName,x=[];l!==null&&l!==h;){var k=l,V=k.alternate,q=k.stateNode;if(V!==null&&V===h)break;k.tag===5&&q!==null&&(k=q,p?(V=Ei(l,g),V!=null&&x.unshift(ol(l,V,k))):p||(V=Ei(l,g),V!=null&&x.push(ol(l,V,k)))),l=l.return}x.length!==0&&s.push({event:i,listeners:x})}var FT=/\r\n?/g,BT=/\u0000|\uFFFD/g;function oy(s){return(typeof s=="string"?s:""+s).replace(FT,`
`).replace(BT,"")}function Uc(s,i,l){if(i=oy(i),oy(s)!==i&&l)throw Error(t(425))}function zc(){}var vd=null,_d=null;function Ed(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var wd=typeof setTimeout=="function"?setTimeout:void 0,UT=typeof clearTimeout=="function"?clearTimeout:void 0,ay=typeof Promise=="function"?Promise:void 0,zT=typeof queueMicrotask=="function"?queueMicrotask:typeof ay<"u"?function(s){return ay.resolve(null).then(s).catch($T)}:wd;function $T(s){setTimeout(function(){throw s})}function xd(s,i){var l=i,h=0;do{var p=l.nextSibling;if(s.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(h===0){s.removeChild(p),Ds(i);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=p}while(l);Ds(i)}function Os(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return s}function ly(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return s;i--}else l==="/$"&&i++}s=s.previousSibling}return null}var Do=Math.random().toString(36).slice(2),Pr="__reactFiber$"+Do,al="__reactProps$"+Do,rs="__reactContainer$"+Do,Td="__reactEvents$"+Do,WT="__reactListeners$"+Do,HT="__reactHandles$"+Do;function Di(s){var i=s[Pr];if(i)return i;for(var l=s.parentNode;l;){if(i=l[rs]||l[Pr]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(s=ly(s);s!==null;){if(l=s[Pr])return l;s=ly(s)}return i}s=l,l=s.parentNode}return null}function ll(s){return s=s[Pr]||s[rs],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Vo(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function $c(s){return s[al]||null}var Ad=[],Mo=-1;function Ls(s){return{current:s}}function ct(s){0>Mo||(s.current=Ad[Mo],Ad[Mo]=null,Mo--)}function ot(s,i){Mo++,Ad[Mo]=s.current,s.current=i}var Fs={},Xt=Ls(Fs),mn=Ls(!1),Vi=Fs;function jo(s,i){var l=s.type.contextTypes;if(!l)return Fs;var h=s.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===i)return h.__reactInternalMemoizedMaskedChildContext;var p={},g;for(g in l)p[g]=i[g];return h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=i,s.__reactInternalMemoizedMaskedChildContext=p),p}function gn(s){return s=s.childContextTypes,s!=null}function Wc(){ct(mn),ct(Xt)}function cy(s,i,l){if(Xt.current!==Fs)throw Error(t(168));ot(Xt,i),ot(mn,l)}function uy(s,i,l){var h=s.stateNode;if(i=i.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var p in h)if(!(p in i))throw Error(t(108,he(s)||"Unknown",p));return U({},l,h)}function Hc(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Fs,Vi=Xt.current,ot(Xt,s),ot(mn,mn.current),!0}function hy(s,i,l){var h=s.stateNode;if(!h)throw Error(t(169));l?(s=uy(s,i,Vi),h.__reactInternalMemoizedMergedChildContext=s,ct(mn),ct(Xt),ot(Xt,s)):ct(mn),ot(mn,l)}var ss=null,qc=!1,Sd=!1;function dy(s){ss===null?ss=[s]:ss.push(s)}function qT(s){qc=!0,dy(s)}function Bs(){if(!Sd&&ss!==null){Sd=!0;var s=0,i=qe;try{var l=ss;for(qe=1;s<l.length;s++){var h=l[s];do h=h(!0);while(h!==null)}ss=null,qc=!1}catch(p){throw ss!==null&&(ss=ss.slice(s+1)),La(go,Bs),p}finally{qe=i,Sd=!1}}return null}var Oo=[],Lo=0,Gc=null,Kc=0,Un=[],zn=0,Mi=null,is=1,os="";function ji(s,i){Oo[Lo++]=Kc,Oo[Lo++]=Gc,Gc=s,Kc=i}function fy(s,i,l){Un[zn++]=is,Un[zn++]=os,Un[zn++]=Mi,Mi=s;var h=is;s=os;var p=32-bn(h)-1;h&=~(1<<p),l+=1;var g=32-bn(i)+p;if(30<g){var x=p-p%5;g=(h&(1<<x)-1).toString(32),h>>=x,p-=x,is=1<<32-bn(i)+p|l<<p|h,os=g+s}else is=1<<g|l<<p|h,os=s}function Id(s){s.return!==null&&(ji(s,1),fy(s,1,0))}function bd(s){for(;s===Gc;)Gc=Oo[--Lo],Oo[Lo]=null,Kc=Oo[--Lo],Oo[Lo]=null;for(;s===Mi;)Mi=Un[--zn],Un[zn]=null,os=Un[--zn],Un[zn]=null,is=Un[--zn],Un[zn]=null}var Nn=null,Dn=null,dt=!1,sr=null;function py(s,i){var l=qn(5,null,null,0);l.elementType="DELETED",l.stateNode=i,l.return=s,i=s.deletions,i===null?(s.deletions=[l],s.flags|=16):i.push(l)}function my(s,i){switch(s.tag){case 5:var l=s.type;return i=i.nodeType!==1||l.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(s.stateNode=i,Nn=s,Dn=Os(i.firstChild),!0):!1;case 6:return i=s.pendingProps===""||i.nodeType!==3?null:i,i!==null?(s.stateNode=i,Nn=s,Dn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(l=Mi!==null?{id:is,overflow:os}:null,s.memoizedState={dehydrated:i,treeContext:l,retryLane:1073741824},l=qn(18,null,null,0),l.stateNode=i,l.return=s,s.child=l,Nn=s,Dn=null,!0):!1;default:return!1}}function kd(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Cd(s){if(dt){var i=Dn;if(i){var l=i;if(!my(s,i)){if(kd(s))throw Error(t(418));i=Os(l.nextSibling);var h=Nn;i&&my(s,i)?py(h,l):(s.flags=s.flags&-4097|2,dt=!1,Nn=s)}}else{if(kd(s))throw Error(t(418));s.flags=s.flags&-4097|2,dt=!1,Nn=s}}}function gy(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Nn=s}function Qc(s){if(s!==Nn)return!1;if(!dt)return gy(s),dt=!0,!1;var i;if((i=s.tag!==3)&&!(i=s.tag!==5)&&(i=s.type,i=i!=="head"&&i!=="body"&&!Ed(s.type,s.memoizedProps)),i&&(i=Dn)){if(kd(s))throw yy(),Error(t(418));for(;i;)py(s,i),i=Os(i.nextSibling)}if(gy(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"){if(i===0){Dn=Os(s.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++}s=s.nextSibling}Dn=null}}else Dn=Nn?Os(s.stateNode.nextSibling):null;return!0}function yy(){for(var s=Dn;s;)s=Os(s.nextSibling)}function Fo(){Dn=Nn=null,dt=!1}function Pd(s){sr===null?sr=[s]:sr.push(s)}var GT=ue.ReactCurrentBatchConfig;function cl(s,i,l){if(s=l.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,s));var p=h,g=""+s;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===g?i.ref:(i=function(x){var k=p.refs;x===null?delete k[g]:k[g]=x},i._stringRef=g,i)}if(typeof s!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,s))}return s}function Yc(s,i){throw s=Object.prototype.toString.call(i),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s))}function vy(s){var i=s._init;return i(s._payload)}function _y(s){function i(z,M){if(s){var W=z.deletions;W===null?(z.deletions=[M],z.flags|=16):W.push(M)}}function l(z,M){if(!s)return null;for(;M!==null;)i(z,M),M=M.sibling;return null}function h(z,M){for(z=new Map;M!==null;)M.key!==null?z.set(M.key,M):z.set(M.index,M),M=M.sibling;return z}function p(z,M){return z=Ks(z,M),z.index=0,z.sibling=null,z}function g(z,M,W){return z.index=W,s?(W=z.alternate,W!==null?(W=W.index,W<M?(z.flags|=2,M):W):(z.flags|=2,M)):(z.flags|=1048576,M)}function x(z){return s&&z.alternate===null&&(z.flags|=2),z}function k(z,M,W,oe){return M===null||M.tag!==6?(M=xf(W,z.mode,oe),M.return=z,M):(M=p(M,W),M.return=z,M)}function V(z,M,W,oe){var Ee=W.type;return Ee===P?ne(z,M,W.props.children,oe,W.key):M!==null&&(M.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===Ye&&vy(Ee)===M.type)?(oe=p(M,W.props),oe.ref=cl(z,M,W),oe.return=z,oe):(oe=Eu(W.type,W.key,W.props,null,z.mode,oe),oe.ref=cl(z,M,W),oe.return=z,oe)}function q(z,M,W,oe){return M===null||M.tag!==4||M.stateNode.containerInfo!==W.containerInfo||M.stateNode.implementation!==W.implementation?(M=Tf(W,z.mode,oe),M.return=z,M):(M=p(M,W.children||[]),M.return=z,M)}function ne(z,M,W,oe,Ee){return M===null||M.tag!==7?(M=Wi(W,z.mode,oe,Ee),M.return=z,M):(M=p(M,W),M.return=z,M)}function se(z,M,W){if(typeof M=="string"&&M!==""||typeof M=="number")return M=xf(""+M,z.mode,W),M.return=z,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case ae:return W=Eu(M.type,M.key,M.props,null,z.mode,W),W.ref=cl(z,null,M),W.return=z,W;case ie:return M=Tf(M,z.mode,W),M.return=z,M;case Ye:var oe=M._init;return se(z,oe(M._payload),W)}if(it(M)||J(M))return M=Wi(M,z.mode,W,null),M.return=z,M;Yc(z,M)}return null}function ee(z,M,W,oe){var Ee=M!==null?M.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return Ee!==null?null:k(z,M,""+W,oe);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case ae:return W.key===Ee?V(z,M,W,oe):null;case ie:return W.key===Ee?q(z,M,W,oe):null;case Ye:return Ee=W._init,ee(z,M,Ee(W._payload),oe)}if(it(W)||J(W))return Ee!==null?null:ne(z,M,W,oe,null);Yc(z,W)}return null}function fe(z,M,W,oe,Ee){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return z=z.get(W)||null,k(M,z,""+oe,Ee);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case ae:return z=z.get(oe.key===null?W:oe.key)||null,V(M,z,oe,Ee);case ie:return z=z.get(oe.key===null?W:oe.key)||null,q(M,z,oe,Ee);case Ye:var Ae=oe._init;return fe(z,M,W,Ae(oe._payload),Ee)}if(it(oe)||J(oe))return z=z.get(W)||null,ne(M,z,oe,Ee,null);Yc(M,oe)}return null}function ge(z,M,W,oe){for(var Ee=null,Ae=null,Se=M,Pe=M=0,Bt=null;Se!==null&&Pe<W.length;Pe++){Se.index>Pe?(Bt=Se,Se=null):Bt=Se.sibling;var Xe=ee(z,Se,W[Pe],oe);if(Xe===null){Se===null&&(Se=Bt);break}s&&Se&&Xe.alternate===null&&i(z,Se),M=g(Xe,M,Pe),Ae===null?Ee=Xe:Ae.sibling=Xe,Ae=Xe,Se=Bt}if(Pe===W.length)return l(z,Se),dt&&ji(z,Pe),Ee;if(Se===null){for(;Pe<W.length;Pe++)Se=se(z,W[Pe],oe),Se!==null&&(M=g(Se,M,Pe),Ae===null?Ee=Se:Ae.sibling=Se,Ae=Se);return dt&&ji(z,Pe),Ee}for(Se=h(z,Se);Pe<W.length;Pe++)Bt=fe(Se,z,Pe,W[Pe],oe),Bt!==null&&(s&&Bt.alternate!==null&&Se.delete(Bt.key===null?Pe:Bt.key),M=g(Bt,M,Pe),Ae===null?Ee=Bt:Ae.sibling=Bt,Ae=Bt);return s&&Se.forEach(function(Qs){return i(z,Qs)}),dt&&ji(z,Pe),Ee}function _e(z,M,W,oe){var Ee=J(W);if(typeof Ee!="function")throw Error(t(150));if(W=Ee.call(W),W==null)throw Error(t(151));for(var Ae=Ee=null,Se=M,Pe=M=0,Bt=null,Xe=W.next();Se!==null&&!Xe.done;Pe++,Xe=W.next()){Se.index>Pe?(Bt=Se,Se=null):Bt=Se.sibling;var Qs=ee(z,Se,Xe.value,oe);if(Qs===null){Se===null&&(Se=Bt);break}s&&Se&&Qs.alternate===null&&i(z,Se),M=g(Qs,M,Pe),Ae===null?Ee=Qs:Ae.sibling=Qs,Ae=Qs,Se=Bt}if(Xe.done)return l(z,Se),dt&&ji(z,Pe),Ee;if(Se===null){for(;!Xe.done;Pe++,Xe=W.next())Xe=se(z,Xe.value,oe),Xe!==null&&(M=g(Xe,M,Pe),Ae===null?Ee=Xe:Ae.sibling=Xe,Ae=Xe);return dt&&ji(z,Pe),Ee}for(Se=h(z,Se);!Xe.done;Pe++,Xe=W.next())Xe=fe(Se,z,Pe,Xe.value,oe),Xe!==null&&(s&&Xe.alternate!==null&&Se.delete(Xe.key===null?Pe:Xe.key),M=g(Xe,M,Pe),Ae===null?Ee=Xe:Ae.sibling=Xe,Ae=Xe);return s&&Se.forEach(function(IA){return i(z,IA)}),dt&&ji(z,Pe),Ee}function At(z,M,W,oe){if(typeof W=="object"&&W!==null&&W.type===P&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case ae:e:{for(var Ee=W.key,Ae=M;Ae!==null;){if(Ae.key===Ee){if(Ee=W.type,Ee===P){if(Ae.tag===7){l(z,Ae.sibling),M=p(Ae,W.props.children),M.return=z,z=M;break e}}else if(Ae.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===Ye&&vy(Ee)===Ae.type){l(z,Ae.sibling),M=p(Ae,W.props),M.ref=cl(z,Ae,W),M.return=z,z=M;break e}l(z,Ae);break}else i(z,Ae);Ae=Ae.sibling}W.type===P?(M=Wi(W.props.children,z.mode,oe,W.key),M.return=z,z=M):(oe=Eu(W.type,W.key,W.props,null,z.mode,oe),oe.ref=cl(z,M,W),oe.return=z,z=oe)}return x(z);case ie:e:{for(Ae=W.key;M!==null;){if(M.key===Ae)if(M.tag===4&&M.stateNode.containerInfo===W.containerInfo&&M.stateNode.implementation===W.implementation){l(z,M.sibling),M=p(M,W.children||[]),M.return=z,z=M;break e}else{l(z,M);break}else i(z,M);M=M.sibling}M=Tf(W,z.mode,oe),M.return=z,z=M}return x(z);case Ye:return Ae=W._init,At(z,M,Ae(W._payload),oe)}if(it(W))return ge(z,M,W,oe);if(J(W))return _e(z,M,W,oe);Yc(z,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,M!==null&&M.tag===6?(l(z,M.sibling),M=p(M,W),M.return=z,z=M):(l(z,M),M=xf(W,z.mode,oe),M.return=z,z=M),x(z)):l(z,M)}return At}var Bo=_y(!0),Ey=_y(!1),Xc=Ls(null),Jc=null,Uo=null,Rd=null;function Nd(){Rd=Uo=Jc=null}function Dd(s){var i=Xc.current;ct(Xc),s._currentValue=i}function Vd(s,i,l){for(;s!==null;){var h=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,h!==null&&(h.childLanes|=i)):h!==null&&(h.childLanes&i)!==i&&(h.childLanes|=i),s===l)break;s=s.return}}function zo(s,i){Jc=s,Rd=Uo=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&i)!==0&&(yn=!0),s.firstContext=null)}function $n(s){var i=s._currentValue;if(Rd!==s)if(s={context:s,memoizedValue:i,next:null},Uo===null){if(Jc===null)throw Error(t(308));Uo=s,Jc.dependencies={lanes:0,firstContext:s}}else Uo=Uo.next=s;return i}var Oi=null;function Md(s){Oi===null?Oi=[s]:Oi.push(s)}function wy(s,i,l,h){var p=i.interleaved;return p===null?(l.next=l,Md(i)):(l.next=p.next,p.next=l),i.interleaved=l,as(s,h)}function as(s,i){s.lanes|=i;var l=s.alternate;for(l!==null&&(l.lanes|=i),l=s,s=s.return;s!==null;)s.childLanes|=i,l=s.alternate,l!==null&&(l.childLanes|=i),l=s,s=s.return;return l.tag===3?l.stateNode:null}var Us=!1;function jd(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xy(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function ls(s,i){return{eventTime:s,lane:i,tag:0,payload:null,callback:null,next:null}}function zs(s,i,l){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(Qe&2)!==0){var p=h.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),h.pending=i,as(s,l)}return p=h.interleaved,p===null?(i.next=i,Md(h)):(i.next=p.next,p.next=i),h.interleaved=i,as(s,l)}function Zc(s,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194240)!==0)){var h=i.lanes;h&=s.pendingLanes,l|=h,i.lanes=l,Wa(s,l)}}function Ty(s,i){var l=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var p=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var x={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};g===null?p=g=x:g=g.next=x,l=l.next}while(l!==null);g===null?p=g=i:g=g.next=i}else p=g=i;l={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:h.shared,effects:h.effects},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=i:s.next=i,l.lastBaseUpdate=i}function eu(s,i,l,h){var p=s.updateQueue;Us=!1;var g=p.firstBaseUpdate,x=p.lastBaseUpdate,k=p.shared.pending;if(k!==null){p.shared.pending=null;var V=k,q=V.next;V.next=null,x===null?g=q:x.next=q,x=V;var ne=s.alternate;ne!==null&&(ne=ne.updateQueue,k=ne.lastBaseUpdate,k!==x&&(k===null?ne.firstBaseUpdate=q:k.next=q,ne.lastBaseUpdate=V))}if(g!==null){var se=p.baseState;x=0,ne=q=V=null,k=g;do{var ee=k.lane,fe=k.eventTime;if((h&ee)===ee){ne!==null&&(ne=ne.next={eventTime:fe,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var ge=s,_e=k;switch(ee=i,fe=l,_e.tag){case 1:if(ge=_e.payload,typeof ge=="function"){se=ge.call(fe,se,ee);break e}se=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=_e.payload,ee=typeof ge=="function"?ge.call(fe,se,ee):ge,ee==null)break e;se=U({},se,ee);break e;case 2:Us=!0}}k.callback!==null&&k.lane!==0&&(s.flags|=64,ee=p.effects,ee===null?p.effects=[k]:ee.push(k))}else fe={eventTime:fe,lane:ee,tag:k.tag,payload:k.payload,callback:k.callback,next:null},ne===null?(q=ne=fe,V=se):ne=ne.next=fe,x|=ee;if(k=k.next,k===null){if(k=p.shared.pending,k===null)break;ee=k,k=ee.next,ee.next=null,p.lastBaseUpdate=ee,p.shared.pending=null}}while(!0);if(ne===null&&(V=se),p.baseState=V,p.firstBaseUpdate=q,p.lastBaseUpdate=ne,i=p.shared.interleaved,i!==null){p=i;do x|=p.lane,p=p.next;while(p!==i)}else g===null&&(p.shared.lanes=0);Bi|=x,s.lanes=x,s.memoizedState=se}}function Ay(s,i,l){if(s=i.effects,i.effects=null,s!==null)for(i=0;i<s.length;i++){var h=s[i],p=h.callback;if(p!==null){if(h.callback=null,h=l,typeof p!="function")throw Error(t(191,p));p.call(h)}}}var ul={},Rr=Ls(ul),hl=Ls(ul),dl=Ls(ul);function Li(s){if(s===ul)throw Error(t(174));return s}function Od(s,i){switch(ot(dl,i),ot(hl,s),ot(Rr,ul),s=i.nodeType,s){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Ln(null,"");break;default:s=s===8?i.parentNode:i,i=s.namespaceURI||null,s=s.tagName,i=Ln(i,s)}ct(Rr),ot(Rr,i)}function $o(){ct(Rr),ct(hl),ct(dl)}function Sy(s){Li(dl.current);var i=Li(Rr.current),l=Ln(i,s.type);i!==l&&(ot(hl,s),ot(Rr,l))}function Ld(s){hl.current===s&&(ct(Rr),ct(hl))}var pt=Ls(0);function tu(s){for(var i=s;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Fd=[];function Bd(){for(var s=0;s<Fd.length;s++)Fd[s]._workInProgressVersionPrimary=null;Fd.length=0}var nu=ue.ReactCurrentDispatcher,Ud=ue.ReactCurrentBatchConfig,Fi=0,mt=null,Nt=null,Lt=null,ru=!1,fl=!1,pl=0,KT=0;function Jt(){throw Error(t(321))}function zd(s,i){if(i===null)return!1;for(var l=0;l<i.length&&l<s.length;l++)if(!rr(s[l],i[l]))return!1;return!0}function $d(s,i,l,h,p,g){if(Fi=g,mt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,nu.current=s===null||s.memoizedState===null?JT:ZT,s=l(h,p),fl){g=0;do{if(fl=!1,pl=0,25<=g)throw Error(t(301));g+=1,Lt=Nt=null,i.updateQueue=null,nu.current=eA,s=l(h,p)}while(fl)}if(nu.current=ou,i=Nt!==null&&Nt.next!==null,Fi=0,Lt=Nt=mt=null,ru=!1,i)throw Error(t(300));return s}function Wd(){var s=pl!==0;return pl=0,s}function Nr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?mt.memoizedState=Lt=s:Lt=Lt.next=s,Lt}function Wn(){if(Nt===null){var s=mt.alternate;s=s!==null?s.memoizedState:null}else s=Nt.next;var i=Lt===null?mt.memoizedState:Lt.next;if(i!==null)Lt=i,Nt=s;else{if(s===null)throw Error(t(310));Nt=s,s={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},Lt===null?mt.memoizedState=Lt=s:Lt=Lt.next=s}return Lt}function ml(s,i){return typeof i=="function"?i(s):i}function Hd(s){var i=Wn(),l=i.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=s;var h=Nt,p=h.baseQueue,g=l.pending;if(g!==null){if(p!==null){var x=p.next;p.next=g.next,g.next=x}h.baseQueue=p=g,l.pending=null}if(p!==null){g=p.next,h=h.baseState;var k=x=null,V=null,q=g;do{var ne=q.lane;if((Fi&ne)===ne)V!==null&&(V=V.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),h=q.hasEagerState?q.eagerState:s(h,q.action);else{var se={lane:ne,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};V===null?(k=V=se,x=h):V=V.next=se,mt.lanes|=ne,Bi|=ne}q=q.next}while(q!==null&&q!==g);V===null?x=h:V.next=k,rr(h,i.memoizedState)||(yn=!0),i.memoizedState=h,i.baseState=x,i.baseQueue=V,l.lastRenderedState=h}if(s=l.interleaved,s!==null){p=s;do g=p.lane,mt.lanes|=g,Bi|=g,p=p.next;while(p!==s)}else p===null&&(l.lanes=0);return[i.memoizedState,l.dispatch]}function qd(s){var i=Wn(),l=i.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=s;var h=l.dispatch,p=l.pending,g=i.memoizedState;if(p!==null){l.pending=null;var x=p=p.next;do g=s(g,x.action),x=x.next;while(x!==p);rr(g,i.memoizedState)||(yn=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),l.lastRenderedState=g}return[g,h]}function Iy(){}function by(s,i){var l=mt,h=Wn(),p=i(),g=!rr(h.memoizedState,p);if(g&&(h.memoizedState=p,yn=!0),h=h.queue,Gd(Py.bind(null,l,h,s),[s]),h.getSnapshot!==i||g||Lt!==null&&Lt.memoizedState.tag&1){if(l.flags|=2048,gl(9,Cy.bind(null,l,h,p,i),void 0,null),Ft===null)throw Error(t(349));(Fi&30)!==0||ky(l,i,p)}return p}function ky(s,i,l){s.flags|=16384,s={getSnapshot:i,value:l},i=mt.updateQueue,i===null?(i={lastEffect:null,stores:null},mt.updateQueue=i,i.stores=[s]):(l=i.stores,l===null?i.stores=[s]:l.push(s))}function Cy(s,i,l,h){i.value=l,i.getSnapshot=h,Ry(i)&&Ny(s)}function Py(s,i,l){return l(function(){Ry(i)&&Ny(s)})}function Ry(s){var i=s.getSnapshot;s=s.value;try{var l=i();return!rr(s,l)}catch{return!0}}function Ny(s){var i=as(s,1);i!==null&&lr(i,s,1,-1)}function Dy(s){var i=Nr();return typeof s=="function"&&(s=s()),i.memoizedState=i.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ml,lastRenderedState:s},i.queue=s,s=s.dispatch=XT.bind(null,mt,s),[i.memoizedState,s]}function gl(s,i,l,h){return s={tag:s,create:i,destroy:l,deps:h,next:null},i=mt.updateQueue,i===null?(i={lastEffect:null,stores:null},mt.updateQueue=i,i.lastEffect=s.next=s):(l=i.lastEffect,l===null?i.lastEffect=s.next=s:(h=l.next,l.next=s,s.next=h,i.lastEffect=s)),s}function Vy(){return Wn().memoizedState}function su(s,i,l,h){var p=Nr();mt.flags|=s,p.memoizedState=gl(1|i,l,void 0,h===void 0?null:h)}function iu(s,i,l,h){var p=Wn();h=h===void 0?null:h;var g=void 0;if(Nt!==null){var x=Nt.memoizedState;if(g=x.destroy,h!==null&&zd(h,x.deps)){p.memoizedState=gl(i,l,g,h);return}}mt.flags|=s,p.memoizedState=gl(1|i,l,g,h)}function My(s,i){return su(8390656,8,s,i)}function Gd(s,i){return iu(2048,8,s,i)}function jy(s,i){return iu(4,2,s,i)}function Oy(s,i){return iu(4,4,s,i)}function Ly(s,i){if(typeof i=="function")return s=s(),i(s),function(){i(null)};if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function Fy(s,i,l){return l=l!=null?l.concat([s]):null,iu(4,4,Ly.bind(null,i,s),l)}function Kd(){}function By(s,i){var l=Wn();i=i===void 0?null:i;var h=l.memoizedState;return h!==null&&i!==null&&zd(i,h[1])?h[0]:(l.memoizedState=[s,i],s)}function Uy(s,i){var l=Wn();i=i===void 0?null:i;var h=l.memoizedState;return h!==null&&i!==null&&zd(i,h[1])?h[0]:(s=s(),l.memoizedState=[s,i],s)}function zy(s,i,l){return(Fi&21)===0?(s.baseState&&(s.baseState=!1,yn=!0),s.memoizedState=l):(rr(l,i)||(l=za(),mt.lanes|=l,Bi|=l,s.baseState=!0),i)}function QT(s,i){var l=qe;qe=l!==0&&4>l?l:4,s(!0);var h=Ud.transition;Ud.transition={};try{s(!1),i()}finally{qe=l,Ud.transition=h}}function $y(){return Wn().memoizedState}function YT(s,i,l){var h=qs(s);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},Wy(s))Hy(i,l);else if(l=wy(s,i,l,h),l!==null){var p=un();lr(l,s,h,p),qy(l,i,h)}}function XT(s,i,l){var h=qs(s),p={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(Wy(s))Hy(i,p);else{var g=s.alternate;if(s.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var x=i.lastRenderedState,k=g(x,l);if(p.hasEagerState=!0,p.eagerState=k,rr(k,x)){var V=i.interleaved;V===null?(p.next=p,Md(i)):(p.next=V.next,V.next=p),i.interleaved=p;return}}catch{}finally{}l=wy(s,i,p,h),l!==null&&(p=un(),lr(l,s,h,p),qy(l,i,h))}}function Wy(s){var i=s.alternate;return s===mt||i!==null&&i===mt}function Hy(s,i){fl=ru=!0;var l=s.pending;l===null?i.next=i:(i.next=l.next,l.next=i),s.pending=i}function qy(s,i,l){if((l&4194240)!==0){var h=i.lanes;h&=s.pendingLanes,l|=h,i.lanes=l,Wa(s,l)}}var ou={readContext:$n,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useInsertionEffect:Jt,useLayoutEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useMutableSource:Jt,useSyncExternalStore:Jt,useId:Jt,unstable_isNewReconciler:!1},JT={readContext:$n,useCallback:function(s,i){return Nr().memoizedState=[s,i===void 0?null:i],s},useContext:$n,useEffect:My,useImperativeHandle:function(s,i,l){return l=l!=null?l.concat([s]):null,su(4194308,4,Ly.bind(null,i,s),l)},useLayoutEffect:function(s,i){return su(4194308,4,s,i)},useInsertionEffect:function(s,i){return su(4,2,s,i)},useMemo:function(s,i){var l=Nr();return i=i===void 0?null:i,s=s(),l.memoizedState=[s,i],s},useReducer:function(s,i,l){var h=Nr();return i=l!==void 0?l(i):i,h.memoizedState=h.baseState=i,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:i},h.queue=s,s=s.dispatch=YT.bind(null,mt,s),[h.memoizedState,s]},useRef:function(s){var i=Nr();return s={current:s},i.memoizedState=s},useState:Dy,useDebugValue:Kd,useDeferredValue:function(s){return Nr().memoizedState=s},useTransition:function(){var s=Dy(!1),i=s[0];return s=QT.bind(null,s[1]),Nr().memoizedState=s,[i,s]},useMutableSource:function(){},useSyncExternalStore:function(s,i,l){var h=mt,p=Nr();if(dt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=i(),Ft===null)throw Error(t(349));(Fi&30)!==0||ky(h,i,l)}p.memoizedState=l;var g={value:l,getSnapshot:i};return p.queue=g,My(Py.bind(null,h,g,s),[s]),h.flags|=2048,gl(9,Cy.bind(null,h,g,l,i),void 0,null),l},useId:function(){var s=Nr(),i=Ft.identifierPrefix;if(dt){var l=os,h=is;l=(h&~(1<<32-bn(h)-1)).toString(32)+l,i=":"+i+"R"+l,l=pl++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=KT++,i=":"+i+"r"+l.toString(32)+":";return s.memoizedState=i},unstable_isNewReconciler:!1},ZT={readContext:$n,useCallback:By,useContext:$n,useEffect:Gd,useImperativeHandle:Fy,useInsertionEffect:jy,useLayoutEffect:Oy,useMemo:Uy,useReducer:Hd,useRef:Vy,useState:function(){return Hd(ml)},useDebugValue:Kd,useDeferredValue:function(s){var i=Wn();return zy(i,Nt.memoizedState,s)},useTransition:function(){var s=Hd(ml)[0],i=Wn().memoizedState;return[s,i]},useMutableSource:Iy,useSyncExternalStore:by,useId:$y,unstable_isNewReconciler:!1},eA={readContext:$n,useCallback:By,useContext:$n,useEffect:Gd,useImperativeHandle:Fy,useInsertionEffect:jy,useLayoutEffect:Oy,useMemo:Uy,useReducer:qd,useRef:Vy,useState:function(){return qd(ml)},useDebugValue:Kd,useDeferredValue:function(s){var i=Wn();return Nt===null?i.memoizedState=s:zy(i,Nt.memoizedState,s)},useTransition:function(){var s=qd(ml)[0],i=Wn().memoizedState;return[s,i]},useMutableSource:Iy,useSyncExternalStore:by,useId:$y,unstable_isNewReconciler:!1};function ir(s,i){if(s&&s.defaultProps){i=U({},i),s=s.defaultProps;for(var l in s)i[l]===void 0&&(i[l]=s[l]);return i}return i}function Qd(s,i,l,h){i=s.memoizedState,l=l(h,i),l=l==null?i:U({},i,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var au={isMounted:function(s){return(s=s._reactInternals)?tr(s)===s:!1},enqueueSetState:function(s,i,l){s=s._reactInternals;var h=un(),p=qs(s),g=ls(h,p);g.payload=i,l!=null&&(g.callback=l),i=zs(s,g,p),i!==null&&(lr(i,s,p,h),Zc(i,s,p))},enqueueReplaceState:function(s,i,l){s=s._reactInternals;var h=un(),p=qs(s),g=ls(h,p);g.tag=1,g.payload=i,l!=null&&(g.callback=l),i=zs(s,g,p),i!==null&&(lr(i,s,p,h),Zc(i,s,p))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var l=un(),h=qs(s),p=ls(l,h);p.tag=2,i!=null&&(p.callback=i),i=zs(s,p,h),i!==null&&(lr(i,s,h,l),Zc(i,s,h))}};function Gy(s,i,l,h,p,g,x){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,g,x):i.prototype&&i.prototype.isPureReactComponent?!nl(l,h)||!nl(p,g):!0}function Ky(s,i,l){var h=!1,p=Fs,g=i.contextType;return typeof g=="object"&&g!==null?g=$n(g):(p=gn(i)?Vi:Xt.current,h=i.contextTypes,g=(h=h!=null)?jo(s,p):Fs),i=new i(l,g),s.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=au,s.stateNode=i,i._reactInternals=s,h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=p,s.__reactInternalMemoizedMaskedChildContext=g),i}function Qy(s,i,l,h){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,h),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,h),i.state!==s&&au.enqueueReplaceState(i,i.state,null)}function Yd(s,i,l,h){var p=s.stateNode;p.props=l,p.state=s.memoizedState,p.refs={},jd(s);var g=i.contextType;typeof g=="object"&&g!==null?p.context=$n(g):(g=gn(i)?Vi:Xt.current,p.context=jo(s,g)),p.state=s.memoizedState,g=i.getDerivedStateFromProps,typeof g=="function"&&(Qd(s,i,g,l),p.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(i=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),i!==p.state&&au.enqueueReplaceState(p,p.state,null),eu(s,l,p,h),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308)}function Wo(s,i){try{var l="",h=i;do l+=de(h),h=h.return;while(h);var p=l}catch(g){p=`
Error generating stack: `+g.message+`
`+g.stack}return{value:s,source:i,stack:p,digest:null}}function Xd(s,i,l){return{value:s,source:null,stack:l??null,digest:i??null}}function Jd(s,i){try{console.error(i.value)}catch(l){setTimeout(function(){throw l})}}var tA=typeof WeakMap=="function"?WeakMap:Map;function Yy(s,i,l){l=ls(-1,l),l.tag=3,l.payload={element:null};var h=i.value;return l.callback=function(){pu||(pu=!0,pf=h),Jd(s,i)},l}function Xy(s,i,l){l=ls(-1,l),l.tag=3;var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var p=i.value;l.payload=function(){return h(p)},l.callback=function(){Jd(s,i)}}var g=s.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(l.callback=function(){Jd(s,i),typeof h!="function"&&(Ws===null?Ws=new Set([this]):Ws.add(this));var x=i.stack;this.componentDidCatch(i.value,{componentStack:x!==null?x:""})}),l}function Jy(s,i,l){var h=s.pingCache;if(h===null){h=s.pingCache=new tA;var p=new Set;h.set(i,p)}else p=h.get(i),p===void 0&&(p=new Set,h.set(i,p));p.has(l)||(p.add(l),s=mA.bind(null,s,i,l),i.then(s,s))}function Zy(s){do{var i;if((i=s.tag===13)&&(i=s.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return s;s=s.return}while(s!==null);return null}function ev(s,i,l,h,p){return(s.mode&1)===0?(s===i?s.flags|=65536:(s.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(i=ls(-1,1),i.tag=2,zs(l,i,1))),l.lanes|=1),s):(s.flags|=65536,s.lanes=p,s)}var nA=ue.ReactCurrentOwner,yn=!1;function cn(s,i,l,h){i.child=s===null?Ey(i,null,l,h):Bo(i,s.child,l,h)}function tv(s,i,l,h,p){l=l.render;var g=i.ref;return zo(i,p),h=$d(s,i,l,h,g,p),l=Wd(),s!==null&&!yn?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~p,cs(s,i,p)):(dt&&l&&Id(i),i.flags|=1,cn(s,i,h,p),i.child)}function nv(s,i,l,h,p){if(s===null){var g=l.type;return typeof g=="function"&&!wf(g)&&g.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(i.tag=15,i.type=g,rv(s,i,g,h,p)):(s=Eu(l.type,null,h,i,i.mode,p),s.ref=i.ref,s.return=i,i.child=s)}if(g=s.child,(s.lanes&p)===0){var x=g.memoizedProps;if(l=l.compare,l=l!==null?l:nl,l(x,h)&&s.ref===i.ref)return cs(s,i,p)}return i.flags|=1,s=Ks(g,h),s.ref=i.ref,s.return=i,i.child=s}function rv(s,i,l,h,p){if(s!==null){var g=s.memoizedProps;if(nl(g,h)&&s.ref===i.ref)if(yn=!1,i.pendingProps=h=g,(s.lanes&p)!==0)(s.flags&131072)!==0&&(yn=!0);else return i.lanes=s.lanes,cs(s,i,p)}return Zd(s,i,l,h,p)}function sv(s,i,l){var h=i.pendingProps,p=h.children,g=s!==null?s.memoizedState:null;if(h.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},ot(qo,Vn),Vn|=l;else{if((l&1073741824)===0)return s=g!==null?g.baseLanes|l:l,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:s,cachePool:null,transitions:null},i.updateQueue=null,ot(qo,Vn),Vn|=s,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=g!==null?g.baseLanes:l,ot(qo,Vn),Vn|=h}else g!==null?(h=g.baseLanes|l,i.memoizedState=null):h=l,ot(qo,Vn),Vn|=h;return cn(s,i,p,l),i.child}function iv(s,i){var l=i.ref;(s===null&&l!==null||s!==null&&s.ref!==l)&&(i.flags|=512,i.flags|=2097152)}function Zd(s,i,l,h,p){var g=gn(l)?Vi:Xt.current;return g=jo(i,g),zo(i,p),l=$d(s,i,l,h,g,p),h=Wd(),s!==null&&!yn?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~p,cs(s,i,p)):(dt&&h&&Id(i),i.flags|=1,cn(s,i,l,p),i.child)}function ov(s,i,l,h,p){if(gn(l)){var g=!0;Hc(i)}else g=!1;if(zo(i,p),i.stateNode===null)cu(s,i),Ky(i,l,h),Yd(i,l,h,p),h=!0;else if(s===null){var x=i.stateNode,k=i.memoizedProps;x.props=k;var V=x.context,q=l.contextType;typeof q=="object"&&q!==null?q=$n(q):(q=gn(l)?Vi:Xt.current,q=jo(i,q));var ne=l.getDerivedStateFromProps,se=typeof ne=="function"||typeof x.getSnapshotBeforeUpdate=="function";se||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(k!==h||V!==q)&&Qy(i,x,h,q),Us=!1;var ee=i.memoizedState;x.state=ee,eu(i,h,x,p),V=i.memoizedState,k!==h||ee!==V||mn.current||Us?(typeof ne=="function"&&(Qd(i,l,ne,h),V=i.memoizedState),(k=Us||Gy(i,l,k,h,ee,V,q))?(se||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(i.flags|=4194308)):(typeof x.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=h,i.memoizedState=V),x.props=h,x.state=V,x.context=q,h=k):(typeof x.componentDidMount=="function"&&(i.flags|=4194308),h=!1)}else{x=i.stateNode,xy(s,i),k=i.memoizedProps,q=i.type===i.elementType?k:ir(i.type,k),x.props=q,se=i.pendingProps,ee=x.context,V=l.contextType,typeof V=="object"&&V!==null?V=$n(V):(V=gn(l)?Vi:Xt.current,V=jo(i,V));var fe=l.getDerivedStateFromProps;(ne=typeof fe=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(k!==se||ee!==V)&&Qy(i,x,h,V),Us=!1,ee=i.memoizedState,x.state=ee,eu(i,h,x,p);var ge=i.memoizedState;k!==se||ee!==ge||mn.current||Us?(typeof fe=="function"&&(Qd(i,l,fe,h),ge=i.memoizedState),(q=Us||Gy(i,l,q,h,ee,ge,V)||!1)?(ne||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(h,ge,V),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(h,ge,V)),typeof x.componentDidUpdate=="function"&&(i.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof x.componentDidUpdate!="function"||k===s.memoizedProps&&ee===s.memoizedState||(i.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||k===s.memoizedProps&&ee===s.memoizedState||(i.flags|=1024),i.memoizedProps=h,i.memoizedState=ge),x.props=h,x.state=ge,x.context=V,h=q):(typeof x.componentDidUpdate!="function"||k===s.memoizedProps&&ee===s.memoizedState||(i.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||k===s.memoizedProps&&ee===s.memoizedState||(i.flags|=1024),h=!1)}return ef(s,i,l,h,g,p)}function ef(s,i,l,h,p,g){iv(s,i);var x=(i.flags&128)!==0;if(!h&&!x)return p&&hy(i,l,!1),cs(s,i,g);h=i.stateNode,nA.current=i;var k=x&&typeof l.getDerivedStateFromError!="function"?null:h.render();return i.flags|=1,s!==null&&x?(i.child=Bo(i,s.child,null,g),i.child=Bo(i,null,k,g)):cn(s,i,k,g),i.memoizedState=h.state,p&&hy(i,l,!0),i.child}function av(s){var i=s.stateNode;i.pendingContext?cy(s,i.pendingContext,i.pendingContext!==i.context):i.context&&cy(s,i.context,!1),Od(s,i.containerInfo)}function lv(s,i,l,h,p){return Fo(),Pd(p),i.flags|=256,cn(s,i,l,h),i.child}var tf={dehydrated:null,treeContext:null,retryLane:0};function nf(s){return{baseLanes:s,cachePool:null,transitions:null}}function cv(s,i,l){var h=i.pendingProps,p=pt.current,g=!1,x=(i.flags&128)!==0,k;if((k=x)||(k=s!==null&&s.memoizedState===null?!1:(p&2)!==0),k?(g=!0,i.flags&=-129):(s===null||s.memoizedState!==null)&&(p|=1),ot(pt,p&1),s===null)return Cd(i),s=i.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((i.mode&1)===0?i.lanes=1:s.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(x=h.children,s=h.fallback,g?(h=i.mode,g=i.child,x={mode:"hidden",children:x},(h&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=x):g=wu(x,h,0,null),s=Wi(s,h,l,null),g.return=i,s.return=i,g.sibling=s,i.child=g,i.child.memoizedState=nf(l),i.memoizedState=tf,s):rf(i,x));if(p=s.memoizedState,p!==null&&(k=p.dehydrated,k!==null))return rA(s,i,x,h,k,p,l);if(g){g=h.fallback,x=i.mode,p=s.child,k=p.sibling;var V={mode:"hidden",children:h.children};return(x&1)===0&&i.child!==p?(h=i.child,h.childLanes=0,h.pendingProps=V,i.deletions=null):(h=Ks(p,V),h.subtreeFlags=p.subtreeFlags&14680064),k!==null?g=Ks(k,g):(g=Wi(g,x,l,null),g.flags|=2),g.return=i,h.return=i,h.sibling=g,i.child=h,h=g,g=i.child,x=s.child.memoizedState,x=x===null?nf(l):{baseLanes:x.baseLanes|l,cachePool:null,transitions:x.transitions},g.memoizedState=x,g.childLanes=s.childLanes&~l,i.memoizedState=tf,h}return g=s.child,s=g.sibling,h=Ks(g,{mode:"visible",children:h.children}),(i.mode&1)===0&&(h.lanes=l),h.return=i,h.sibling=null,s!==null&&(l=i.deletions,l===null?(i.deletions=[s],i.flags|=16):l.push(s)),i.child=h,i.memoizedState=null,h}function rf(s,i){return i=wu({mode:"visible",children:i},s.mode,0,null),i.return=s,s.child=i}function lu(s,i,l,h){return h!==null&&Pd(h),Bo(i,s.child,null,l),s=rf(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function rA(s,i,l,h,p,g,x){if(l)return i.flags&256?(i.flags&=-257,h=Xd(Error(t(422))),lu(s,i,x,h)):i.memoizedState!==null?(i.child=s.child,i.flags|=128,null):(g=h.fallback,p=i.mode,h=wu({mode:"visible",children:h.children},p,0,null),g=Wi(g,p,x,null),g.flags|=2,h.return=i,g.return=i,h.sibling=g,i.child=h,(i.mode&1)!==0&&Bo(i,s.child,null,x),i.child.memoizedState=nf(x),i.memoizedState=tf,g);if((i.mode&1)===0)return lu(s,i,x,null);if(p.data==="$!"){if(h=p.nextSibling&&p.nextSibling.dataset,h)var k=h.dgst;return h=k,g=Error(t(419)),h=Xd(g,h,void 0),lu(s,i,x,h)}if(k=(x&s.childLanes)!==0,yn||k){if(h=Ft,h!==null){switch(x&-x){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(h.suspendedLanes|x))!==0?0:p,p!==0&&p!==g.retryLane&&(g.retryLane=p,as(s,p),lr(h,s,p,-1))}return Ef(),h=Xd(Error(t(421))),lu(s,i,x,h)}return p.data==="$?"?(i.flags|=128,i.child=s.child,i=gA.bind(null,s),p._reactRetry=i,null):(s=g.treeContext,Dn=Os(p.nextSibling),Nn=i,dt=!0,sr=null,s!==null&&(Un[zn++]=is,Un[zn++]=os,Un[zn++]=Mi,is=s.id,os=s.overflow,Mi=i),i=rf(i,h.children),i.flags|=4096,i)}function uv(s,i,l){s.lanes|=i;var h=s.alternate;h!==null&&(h.lanes|=i),Vd(s.return,i,l)}function sf(s,i,l,h,p){var g=s.memoizedState;g===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:p}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=h,g.tail=l,g.tailMode=p)}function hv(s,i,l){var h=i.pendingProps,p=h.revealOrder,g=h.tail;if(cn(s,i,h.children,l),h=pt.current,(h&2)!==0)h=h&1|2,i.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&uv(s,l,i);else if(s.tag===19)uv(s,l,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}if(ot(pt,h),(i.mode&1)===0)i.memoizedState=null;else switch(p){case"forwards":for(l=i.child,p=null;l!==null;)s=l.alternate,s!==null&&tu(s)===null&&(p=l),l=l.sibling;l=p,l===null?(p=i.child,i.child=null):(p=l.sibling,l.sibling=null),sf(i,!1,p,l,g);break;case"backwards":for(l=null,p=i.child,i.child=null;p!==null;){if(s=p.alternate,s!==null&&tu(s)===null){i.child=p;break}s=p.sibling,p.sibling=l,l=p,p=s}sf(i,!0,l,null,g);break;case"together":sf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function cu(s,i){(i.mode&1)===0&&s!==null&&(s.alternate=null,i.alternate=null,i.flags|=2)}function cs(s,i,l){if(s!==null&&(i.dependencies=s.dependencies),Bi|=i.lanes,(l&i.childLanes)===0)return null;if(s!==null&&i.child!==s.child)throw Error(t(153));if(i.child!==null){for(s=i.child,l=Ks(s,s.pendingProps),i.child=l,l.return=i;s.sibling!==null;)s=s.sibling,l=l.sibling=Ks(s,s.pendingProps),l.return=i;l.sibling=null}return i.child}function sA(s,i,l){switch(i.tag){case 3:av(i),Fo();break;case 5:Sy(i);break;case 1:gn(i.type)&&Hc(i);break;case 4:Od(i,i.stateNode.containerInfo);break;case 10:var h=i.type._context,p=i.memoizedProps.value;ot(Xc,h._currentValue),h._currentValue=p;break;case 13:if(h=i.memoizedState,h!==null)return h.dehydrated!==null?(ot(pt,pt.current&1),i.flags|=128,null):(l&i.child.childLanes)!==0?cv(s,i,l):(ot(pt,pt.current&1),s=cs(s,i,l),s!==null?s.sibling:null);ot(pt,pt.current&1);break;case 19:if(h=(l&i.childLanes)!==0,(s.flags&128)!==0){if(h)return hv(s,i,l);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ot(pt,pt.current),h)break;return null;case 22:case 23:return i.lanes=0,sv(s,i,l)}return cs(s,i,l)}var dv,of,fv,pv;dv=function(s,i){for(var l=i.child;l!==null;){if(l.tag===5||l.tag===6)s.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},of=function(){},fv=function(s,i,l,h){var p=s.memoizedProps;if(p!==h){s=i.stateNode,Li(Rr.current);var g=null;switch(l){case"input":p=Jn(s,p),h=Jn(s,h),g=[];break;case"select":p=U({},p,{value:void 0}),h=U({},h,{value:void 0}),g=[];break;case"textarea":p=jn(s,p),h=jn(s,h),g=[];break;default:typeof p.onClick!="function"&&typeof h.onClick=="function"&&(s.onclick=zc)}Ce(l,h);var x;l=null;for(q in p)if(!h.hasOwnProperty(q)&&p.hasOwnProperty(q)&&p[q]!=null)if(q==="style"){var k=p[q];for(x in k)k.hasOwnProperty(x)&&(l||(l={}),l[x]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(o.hasOwnProperty(q)?g||(g=[]):(g=g||[]).push(q,null));for(q in h){var V=h[q];if(k=p?.[q],h.hasOwnProperty(q)&&V!==k&&(V!=null||k!=null))if(q==="style")if(k){for(x in k)!k.hasOwnProperty(x)||V&&V.hasOwnProperty(x)||(l||(l={}),l[x]="");for(x in V)V.hasOwnProperty(x)&&k[x]!==V[x]&&(l||(l={}),l[x]=V[x])}else l||(g||(g=[]),g.push(q,l)),l=V;else q==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,k=k?k.__html:void 0,V!=null&&k!==V&&(g=g||[]).push(q,V)):q==="children"?typeof V!="string"&&typeof V!="number"||(g=g||[]).push(q,""+V):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(o.hasOwnProperty(q)?(V!=null&&q==="onScroll"&&lt("scroll",s),g||k===V||(g=[])):(g=g||[]).push(q,V))}l&&(g=g||[]).push("style",l);var q=g;(i.updateQueue=q)&&(i.flags|=4)}},pv=function(s,i,l,h){l!==h&&(i.flags|=4)};function yl(s,i){if(!dt)switch(s.tailMode){case"hidden":i=s.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function Zt(s){var i=s.alternate!==null&&s.alternate.child===s.child,l=0,h=0;if(i)for(var p=s.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags&14680064,h|=p.flags&14680064,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=h,s.childLanes=l,i}function iA(s,i,l){var h=i.pendingProps;switch(bd(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(i),null;case 1:return gn(i.type)&&Wc(),Zt(i),null;case 3:return h=i.stateNode,$o(),ct(mn),ct(Xt),Bd(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(Qc(i)?i.flags|=4:s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,sr!==null&&(yf(sr),sr=null))),of(s,i),Zt(i),null;case 5:Ld(i);var p=Li(dl.current);if(l=i.type,s!==null&&i.stateNode!=null)fv(s,i,l,h,p),s.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!h){if(i.stateNode===null)throw Error(t(166));return Zt(i),null}if(s=Li(Rr.current),Qc(i)){h=i.stateNode,l=i.type;var g=i.memoizedProps;switch(h[Pr]=i,h[al]=g,s=(i.mode&1)!==0,l){case"dialog":lt("cancel",h),lt("close",h);break;case"iframe":case"object":case"embed":lt("load",h);break;case"video":case"audio":for(p=0;p<sl.length;p++)lt(sl[p],h);break;case"source":lt("error",h);break;case"img":case"image":case"link":lt("error",h),lt("load",h);break;case"details":lt("toggle",h);break;case"input":ln(h,g),lt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!g.multiple},lt("invalid",h);break;case"textarea":qr(h,g),lt("invalid",h)}Ce(l,g),p=null;for(var x in g)if(g.hasOwnProperty(x)){var k=g[x];x==="children"?typeof k=="string"?h.textContent!==k&&(g.suppressHydrationWarning!==!0&&Uc(h.textContent,k,s),p=["children",k]):typeof k=="number"&&h.textContent!==""+k&&(g.suppressHydrationWarning!==!0&&Uc(h.textContent,k,s),p=["children",""+k]):o.hasOwnProperty(x)&&k!=null&&x==="onScroll"&&lt("scroll",h)}switch(l){case"input":Je(h),fr(h,g,!0);break;case"textarea":Je(h),On(h);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(h.onclick=zc)}h=p,i.updateQueue=h,h!==null&&(i.flags|=4)}else{x=p.nodeType===9?p:p.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=er(l)),s==="http://www.w3.org/1999/xhtml"?l==="script"?(s=x.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof h.is=="string"?s=x.createElement(l,{is:h.is}):(s=x.createElement(l),l==="select"&&(x=s,h.multiple?x.multiple=!0:h.size&&(x.size=h.size))):s=x.createElementNS(s,l),s[Pr]=i,s[al]=h,dv(s,i,!1,!1),i.stateNode=s;e:{switch(x=et(l,h),l){case"dialog":lt("cancel",s),lt("close",s),p=h;break;case"iframe":case"object":case"embed":lt("load",s),p=h;break;case"video":case"audio":for(p=0;p<sl.length;p++)lt(sl[p],s);p=h;break;case"source":lt("error",s),p=h;break;case"img":case"image":case"link":lt("error",s),lt("load",s),p=h;break;case"details":lt("toggle",s),p=h;break;case"input":ln(s,h),p=Jn(s,h),lt("invalid",s);break;case"option":p=h;break;case"select":s._wrapperState={wasMultiple:!!h.multiple},p=U({},h,{value:void 0}),lt("invalid",s);break;case"textarea":qr(s,h),p=jn(s,h),lt("invalid",s);break;default:p=h}Ce(l,p),k=p;for(g in k)if(k.hasOwnProperty(g)){var V=k[g];g==="style"?As(s,V):g==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,V!=null&&pr(s,V)):g==="children"?typeof V=="string"?(l!=="textarea"||V!=="")&&Sn(s,V):typeof V=="number"&&Sn(s,""+V):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?V!=null&&g==="onScroll"&&lt("scroll",s):V!=null&&Y(s,g,V,x))}switch(l){case"input":Je(s),fr(s,h,!1);break;case"textarea":Je(s),On(s);break;case"option":h.value!=null&&s.setAttribute("value",""+Me(h.value));break;case"select":s.multiple=!!h.multiple,g=h.value,g!=null?je(s,!!h.multiple,g,!1):h.defaultValue!=null&&je(s,!!h.multiple,h.defaultValue,!0);break;default:typeof p.onClick=="function"&&(s.onclick=zc)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Zt(i),null;case 6:if(s&&i.stateNode!=null)pv(s,i,s.memoizedProps,h);else{if(typeof h!="string"&&i.stateNode===null)throw Error(t(166));if(l=Li(dl.current),Li(Rr.current),Qc(i)){if(h=i.stateNode,l=i.memoizedProps,h[Pr]=i,(g=h.nodeValue!==l)&&(s=Nn,s!==null))switch(s.tag){case 3:Uc(h.nodeValue,l,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Uc(h.nodeValue,l,(s.mode&1)!==0)}g&&(i.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[Pr]=i,i.stateNode=h}return Zt(i),null;case 13:if(ct(pt),h=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(dt&&Dn!==null&&(i.mode&1)!==0&&(i.flags&128)===0)yy(),Fo(),i.flags|=98560,g=!1;else if(g=Qc(i),h!==null&&h.dehydrated!==null){if(s===null){if(!g)throw Error(t(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[Pr]=i}else Fo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Zt(i),g=!1}else sr!==null&&(yf(sr),sr=null),g=!0;if(!g)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=l,i):(h=h!==null,h!==(s!==null&&s.memoizedState!==null)&&h&&(i.child.flags|=8192,(i.mode&1)!==0&&(s===null||(pt.current&1)!==0?Dt===0&&(Dt=3):Ef())),i.updateQueue!==null&&(i.flags|=4),Zt(i),null);case 4:return $o(),of(s,i),s===null&&il(i.stateNode.containerInfo),Zt(i),null;case 10:return Dd(i.type._context),Zt(i),null;case 17:return gn(i.type)&&Wc(),Zt(i),null;case 19:if(ct(pt),g=i.memoizedState,g===null)return Zt(i),null;if(h=(i.flags&128)!==0,x=g.rendering,x===null)if(h)yl(g,!1);else{if(Dt!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(x=tu(s),x!==null){for(i.flags|=128,yl(g,!1),h=x.updateQueue,h!==null&&(i.updateQueue=h,i.flags|=4),i.subtreeFlags=0,h=l,l=i.child;l!==null;)g=l,s=h,g.flags&=14680066,x=g.alternate,x===null?(g.childLanes=0,g.lanes=s,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=x.childLanes,g.lanes=x.lanes,g.child=x.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=x.memoizedProps,g.memoizedState=x.memoizedState,g.updateQueue=x.updateQueue,g.type=x.type,s=x.dependencies,g.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),l=l.sibling;return ot(pt,pt.current&1|2),i.child}s=s.sibling}g.tail!==null&&at()>Go&&(i.flags|=128,h=!0,yl(g,!1),i.lanes=4194304)}else{if(!h)if(s=tu(x),s!==null){if(i.flags|=128,h=!0,l=s.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),yl(g,!0),g.tail===null&&g.tailMode==="hidden"&&!x.alternate&&!dt)return Zt(i),null}else 2*at()-g.renderingStartTime>Go&&l!==1073741824&&(i.flags|=128,h=!0,yl(g,!1),i.lanes=4194304);g.isBackwards?(x.sibling=i.child,i.child=x):(l=g.last,l!==null?l.sibling=x:i.child=x,g.last=x)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=at(),i.sibling=null,l=pt.current,ot(pt,h?l&1|2:l&1),i):(Zt(i),null);case 22:case 23:return _f(),h=i.memoizedState!==null,s!==null&&s.memoizedState!==null!==h&&(i.flags|=8192),h&&(i.mode&1)!==0?(Vn&1073741824)!==0&&(Zt(i),i.subtreeFlags&6&&(i.flags|=8192)):Zt(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function oA(s,i){switch(bd(i),i.tag){case 1:return gn(i.type)&&Wc(),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return $o(),ct(mn),ct(Xt),Bd(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 5:return Ld(i),null;case 13:if(ct(pt),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(t(340));Fo()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return ct(pt),null;case 4:return $o(),null;case 10:return Dd(i.type._context),null;case 22:case 23:return _f(),null;case 24:return null;default:return null}}var uu=!1,en=!1,aA=typeof WeakSet=="function"?WeakSet:Set,me=null;function Ho(s,i){var l=s.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){Et(s,i,h)}else l.current=null}function af(s,i,l){try{l()}catch(h){Et(s,i,h)}}var mv=!1;function lA(s,i){if(vd=es,s=Gg(),ud(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var p=h.anchorOffset,g=h.focusNode;h=h.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var x=0,k=-1,V=-1,q=0,ne=0,se=s,ee=null;t:for(;;){for(var fe;se!==l||p!==0&&se.nodeType!==3||(k=x+p),se!==g||h!==0&&se.nodeType!==3||(V=x+h),se.nodeType===3&&(x+=se.nodeValue.length),(fe=se.firstChild)!==null;)ee=se,se=fe;for(;;){if(se===s)break t;if(ee===l&&++q===p&&(k=x),ee===g&&++ne===h&&(V=x),(fe=se.nextSibling)!==null)break;se=ee,ee=se.parentNode}se=fe}l=k===-1||V===-1?null:{start:k,end:V}}else l=null}l=l||{start:0,end:0}}else l=null;for(_d={focusedElem:s,selectionRange:l},es=!1,me=i;me!==null;)if(i=me,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,me=s;else for(;me!==null;){i=me;try{var ge=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ge!==null){var _e=ge.memoizedProps,At=ge.memoizedState,z=i.stateNode,M=z.getSnapshotBeforeUpdate(i.elementType===i.type?_e:ir(i.type,_e),At);z.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var W=i.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(oe){Et(i,i.return,oe)}if(s=i.sibling,s!==null){s.return=i.return,me=s;break}me=i.return}return ge=mv,mv=!1,ge}function vl(s,i,l){var h=i.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var p=h=h.next;do{if((p.tag&s)===s){var g=p.destroy;p.destroy=void 0,g!==void 0&&af(i,l,g)}p=p.next}while(p!==h)}}function hu(s,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&s)===s){var h=l.create;l.destroy=h()}l=l.next}while(l!==i)}}function lf(s){var i=s.ref;if(i!==null){var l=s.stateNode;switch(s.tag){case 5:s=l;break;default:s=l}typeof i=="function"?i(s):i.current=s}}function gv(s){var i=s.alternate;i!==null&&(s.alternate=null,gv(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&(delete i[Pr],delete i[al],delete i[Td],delete i[WT],delete i[HT])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function yv(s){return s.tag===5||s.tag===3||s.tag===4}function vv(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||yv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function cf(s,i,l){var h=s.tag;if(h===5||h===6)s=s.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(s,i):l.insertBefore(s,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(s,l)):(i=l,i.appendChild(s)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=zc));else if(h!==4&&(s=s.child,s!==null))for(cf(s,i,l),s=s.sibling;s!==null;)cf(s,i,l),s=s.sibling}function uf(s,i,l){var h=s.tag;if(h===5||h===6)s=s.stateNode,i?l.insertBefore(s,i):l.appendChild(s);else if(h!==4&&(s=s.child,s!==null))for(uf(s,i,l),s=s.sibling;s!==null;)uf(s,i,l),s=s.sibling}var Wt=null,or=!1;function $s(s,i,l){for(l=l.child;l!==null;)_v(s,i,l),l=l.sibling}function _v(s,i,l){if(In&&typeof In.onCommitFiberUnmount=="function")try{In.onCommitFiberUnmount(Ai,l)}catch{}switch(l.tag){case 5:en||Ho(l,i);case 6:var h=Wt,p=or;Wt=null,$s(s,i,l),Wt=h,or=p,Wt!==null&&(or?(s=Wt,l=l.stateNode,s.nodeType===8?s.parentNode.removeChild(l):s.removeChild(l)):Wt.removeChild(l.stateNode));break;case 18:Wt!==null&&(or?(s=Wt,l=l.stateNode,s.nodeType===8?xd(s.parentNode,l):s.nodeType===1&&xd(s,l),Ds(s)):xd(Wt,l.stateNode));break;case 4:h=Wt,p=or,Wt=l.stateNode.containerInfo,or=!0,$s(s,i,l),Wt=h,or=p;break;case 0:case 11:case 14:case 15:if(!en&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){p=h=h.next;do{var g=p,x=g.destroy;g=g.tag,x!==void 0&&((g&2)!==0||(g&4)!==0)&&af(l,i,x),p=p.next}while(p!==h)}$s(s,i,l);break;case 1:if(!en&&(Ho(l,i),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(k){Et(l,i,k)}$s(s,i,l);break;case 21:$s(s,i,l);break;case 22:l.mode&1?(en=(h=en)||l.memoizedState!==null,$s(s,i,l),en=h):$s(s,i,l);break;default:$s(s,i,l)}}function Ev(s){var i=s.updateQueue;if(i!==null){s.updateQueue=null;var l=s.stateNode;l===null&&(l=s.stateNode=new aA),i.forEach(function(h){var p=yA.bind(null,s,h);l.has(h)||(l.add(h),h.then(p,p))})}}function ar(s,i){var l=i.deletions;if(l!==null)for(var h=0;h<l.length;h++){var p=l[h];try{var g=s,x=i,k=x;e:for(;k!==null;){switch(k.tag){case 5:Wt=k.stateNode,or=!1;break e;case 3:Wt=k.stateNode.containerInfo,or=!0;break e;case 4:Wt=k.stateNode.containerInfo,or=!0;break e}k=k.return}if(Wt===null)throw Error(t(160));_v(g,x,p),Wt=null,or=!1;var V=p.alternate;V!==null&&(V.return=null),p.return=null}catch(q){Et(p,i,q)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)wv(i,s),i=i.sibling}function wv(s,i){var l=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(ar(i,s),Dr(s),h&4){try{vl(3,s,s.return),hu(3,s)}catch(_e){Et(s,s.return,_e)}try{vl(5,s,s.return)}catch(_e){Et(s,s.return,_e)}}break;case 1:ar(i,s),Dr(s),h&512&&l!==null&&Ho(l,l.return);break;case 5:if(ar(i,s),Dr(s),h&512&&l!==null&&Ho(l,l.return),s.flags&32){var p=s.stateNode;try{Sn(p,"")}catch(_e){Et(s,s.return,_e)}}if(h&4&&(p=s.stateNode,p!=null)){var g=s.memoizedProps,x=l!==null?l.memoizedProps:g,k=s.type,V=s.updateQueue;if(s.updateQueue=null,V!==null)try{k==="input"&&g.type==="radio"&&g.name!=null&&Zn(p,g),et(k,x);var q=et(k,g);for(x=0;x<V.length;x+=2){var ne=V[x],se=V[x+1];ne==="style"?As(p,se):ne==="dangerouslySetInnerHTML"?pr(p,se):ne==="children"?Sn(p,se):Y(p,ne,se,q)}switch(k){case"input":xt(p,g);break;case"textarea":Ts(p,g);break;case"select":var ee=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!g.multiple;var fe=g.value;fe!=null?je(p,!!g.multiple,fe,!1):ee!==!!g.multiple&&(g.defaultValue!=null?je(p,!!g.multiple,g.defaultValue,!0):je(p,!!g.multiple,g.multiple?[]:"",!1))}p[al]=g}catch(_e){Et(s,s.return,_e)}}break;case 6:if(ar(i,s),Dr(s),h&4){if(s.stateNode===null)throw Error(t(162));p=s.stateNode,g=s.memoizedProps;try{p.nodeValue=g}catch(_e){Et(s,s.return,_e)}}break;case 3:if(ar(i,s),Dr(s),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Ds(i.containerInfo)}catch(_e){Et(s,s.return,_e)}break;case 4:ar(i,s),Dr(s);break;case 13:ar(i,s),Dr(s),p=s.child,p.flags&8192&&(g=p.memoizedState!==null,p.stateNode.isHidden=g,!g||p.alternate!==null&&p.alternate.memoizedState!==null||(ff=at())),h&4&&Ev(s);break;case 22:if(ne=l!==null&&l.memoizedState!==null,s.mode&1?(en=(q=en)||ne,ar(i,s),en=q):ar(i,s),Dr(s),h&8192){if(q=s.memoizedState!==null,(s.stateNode.isHidden=q)&&!ne&&(s.mode&1)!==0)for(me=s,ne=s.child;ne!==null;){for(se=me=ne;me!==null;){switch(ee=me,fe=ee.child,ee.tag){case 0:case 11:case 14:case 15:vl(4,ee,ee.return);break;case 1:Ho(ee,ee.return);var ge=ee.stateNode;if(typeof ge.componentWillUnmount=="function"){h=ee,l=ee.return;try{i=h,ge.props=i.memoizedProps,ge.state=i.memoizedState,ge.componentWillUnmount()}catch(_e){Et(h,l,_e)}}break;case 5:Ho(ee,ee.return);break;case 22:if(ee.memoizedState!==null){Av(se);continue}}fe!==null?(fe.return=ee,me=fe):Av(se)}ne=ne.sibling}e:for(ne=null,se=s;;){if(se.tag===5){if(ne===null){ne=se;try{p=se.stateNode,q?(g=p.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(k=se.stateNode,V=se.memoizedProps.style,x=V!=null&&V.hasOwnProperty("display")?V.display:null,k.style.display=mr("display",x))}catch(_e){Et(s,s.return,_e)}}}else if(se.tag===6){if(ne===null)try{se.stateNode.nodeValue=q?"":se.memoizedProps}catch(_e){Et(s,s.return,_e)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===s)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===s)break e;for(;se.sibling===null;){if(se.return===null||se.return===s)break e;ne===se&&(ne=null),se=se.return}ne===se&&(ne=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:ar(i,s),Dr(s),h&4&&Ev(s);break;case 21:break;default:ar(i,s),Dr(s)}}function Dr(s){var i=s.flags;if(i&2){try{e:{for(var l=s.return;l!==null;){if(yv(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var p=h.stateNode;h.flags&32&&(Sn(p,""),h.flags&=-33);var g=vv(s);uf(s,g,p);break;case 3:case 4:var x=h.stateNode.containerInfo,k=vv(s);cf(s,k,x);break;default:throw Error(t(161))}}catch(V){Et(s,s.return,V)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function cA(s,i,l){me=s,xv(s)}function xv(s,i,l){for(var h=(s.mode&1)!==0;me!==null;){var p=me,g=p.child;if(p.tag===22&&h){var x=p.memoizedState!==null||uu;if(!x){var k=p.alternate,V=k!==null&&k.memoizedState!==null||en;k=uu;var q=en;if(uu=x,(en=V)&&!q)for(me=p;me!==null;)x=me,V=x.child,x.tag===22&&x.memoizedState!==null?Sv(p):V!==null?(V.return=x,me=V):Sv(p);for(;g!==null;)me=g,xv(g),g=g.sibling;me=p,uu=k,en=q}Tv(s)}else(p.subtreeFlags&8772)!==0&&g!==null?(g.return=p,me=g):Tv(s)}}function Tv(s){for(;me!==null;){var i=me;if((i.flags&8772)!==0){var l=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:en||hu(5,i);break;case 1:var h=i.stateNode;if(i.flags&4&&!en)if(l===null)h.componentDidMount();else{var p=i.elementType===i.type?l.memoizedProps:ir(i.type,l.memoizedProps);h.componentDidUpdate(p,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var g=i.updateQueue;g!==null&&Ay(i,g,h);break;case 3:var x=i.updateQueue;if(x!==null){if(l=null,i.child!==null)switch(i.child.tag){case 5:l=i.child.stateNode;break;case 1:l=i.child.stateNode}Ay(i,x,l)}break;case 5:var k=i.stateNode;if(l===null&&i.flags&4){l=k;var V=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":V.autoFocus&&l.focus();break;case"img":V.src&&(l.src=V.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var q=i.alternate;if(q!==null){var ne=q.memoizedState;if(ne!==null){var se=ne.dehydrated;se!==null&&Ds(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}en||i.flags&512&&lf(i)}catch(ee){Et(i,i.return,ee)}}if(i===s){me=null;break}if(l=i.sibling,l!==null){l.return=i.return,me=l;break}me=i.return}}function Av(s){for(;me!==null;){var i=me;if(i===s){me=null;break}var l=i.sibling;if(l!==null){l.return=i.return,me=l;break}me=i.return}}function Sv(s){for(;me!==null;){var i=me;try{switch(i.tag){case 0:case 11:case 15:var l=i.return;try{hu(4,i)}catch(V){Et(i,l,V)}break;case 1:var h=i.stateNode;if(typeof h.componentDidMount=="function"){var p=i.return;try{h.componentDidMount()}catch(V){Et(i,p,V)}}var g=i.return;try{lf(i)}catch(V){Et(i,g,V)}break;case 5:var x=i.return;try{lf(i)}catch(V){Et(i,x,V)}}}catch(V){Et(i,i.return,V)}if(i===s){me=null;break}var k=i.sibling;if(k!==null){k.return=i.return,me=k;break}me=i.return}}var uA=Math.ceil,du=ue.ReactCurrentDispatcher,hf=ue.ReactCurrentOwner,Hn=ue.ReactCurrentBatchConfig,Qe=0,Ft=null,kt=null,Ht=0,Vn=0,qo=Ls(0),Dt=0,_l=null,Bi=0,fu=0,df=0,El=null,vn=null,ff=0,Go=1/0,us=null,pu=!1,pf=null,Ws=null,mu=!1,Hs=null,gu=0,wl=0,mf=null,yu=-1,vu=0;function un(){return(Qe&6)!==0?at():yu!==-1?yu:yu=at()}function qs(s){return(s.mode&1)===0?1:(Qe&2)!==0&&Ht!==0?Ht&-Ht:GT.transition!==null?(vu===0&&(vu=za()),vu):(s=qe,s!==0||(s=window.event,s=s===void 0?16:xo(s.type)),s)}function lr(s,i,l,h){if(50<wl)throw wl=0,mf=null,Error(t(185));ki(s,l,h),((Qe&2)===0||s!==Ft)&&(s===Ft&&((Qe&2)===0&&(fu|=l),Dt===4&&Gs(s,Ht)),_n(s,h),l===1&&Qe===0&&(i.mode&1)===0&&(Go=at()+500,qc&&Bs()))}function _n(s,i){var l=s.callbackNode;bi(s,i);var h=Xr(s,s===Ft?Ht:0);if(h===0)l!==null&&mo(l),s.callbackNode=null,s.callbackPriority=0;else if(i=h&-h,s.callbackPriority!==i){if(l!=null&&mo(l),i===1)s.tag===0?qT(bv.bind(null,s)):dy(bv.bind(null,s)),zT(function(){(Qe&6)===0&&Bs()}),l=null;else{switch(Er(h)){case 1:l=go;break;case 4:l=Fa;break;case 16:l=Ti;break;case 536870912:l=yo;break;default:l=Ti}l=Mv(l,Iv.bind(null,s))}s.callbackPriority=i,s.callbackNode=l}}function Iv(s,i){if(yu=-1,vu=0,(Qe&6)!==0)throw Error(t(327));var l=s.callbackNode;if(Ko()&&s.callbackNode!==l)return null;var h=Xr(s,s===Ft?Ht:0);if(h===0)return null;if((h&30)!==0||(h&s.expiredLanes)!==0||i)i=_u(s,h);else{i=h;var p=Qe;Qe|=2;var g=Cv();(Ft!==s||Ht!==i)&&(us=null,Go=at()+500,zi(s,i));do try{fA();break}catch(k){kv(s,k)}while(!0);Nd(),du.current=g,Qe=p,kt!==null?i=0:(Ft=null,Ht=0,i=Dt)}if(i!==0){if(i===2&&(p=Ua(s),p!==0&&(h=p,i=gf(s,p))),i===1)throw l=_l,zi(s,0),Gs(s,h),_n(s,at()),l;if(i===6)Gs(s,h);else{if(p=s.current.alternate,(h&30)===0&&!hA(p)&&(i=_u(s,h),i===2&&(g=Ua(s),g!==0&&(h=g,i=gf(s,g))),i===1))throw l=_l,zi(s,0),Gs(s,h),_n(s,at()),l;switch(s.finishedWork=p,s.finishedLanes=h,i){case 0:case 1:throw Error(t(345));case 2:$i(s,vn,us);break;case 3:if(Gs(s,h),(h&130023424)===h&&(i=ff+500-at(),10<i)){if(Xr(s,0)!==0)break;if(p=s.suspendedLanes,(p&h)!==h){un(),s.pingedLanes|=s.suspendedLanes&p;break}s.timeoutHandle=wd($i.bind(null,s,vn,us),i);break}$i(s,vn,us);break;case 4:if(Gs(s,h),(h&4194240)===h)break;for(i=s.eventTimes,p=-1;0<h;){var x=31-bn(h);g=1<<x,x=i[x],x>p&&(p=x),h&=~g}if(h=p,h=at()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*uA(h/1960))-h,10<h){s.timeoutHandle=wd($i.bind(null,s,vn,us),h);break}$i(s,vn,us);break;case 5:$i(s,vn,us);break;default:throw Error(t(329))}}}return _n(s,at()),s.callbackNode===l?Iv.bind(null,s):null}function gf(s,i){var l=El;return s.current.memoizedState.isDehydrated&&(zi(s,i).flags|=256),s=_u(s,i),s!==2&&(i=vn,vn=l,i!==null&&yf(i)),s}function yf(s){vn===null?vn=s:vn.push.apply(vn,s)}function hA(s){for(var i=s;;){if(i.flags&16384){var l=i.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var p=l[h],g=p.getSnapshot;p=p.value;try{if(!rr(g(),p))return!1}catch{return!1}}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Gs(s,i){for(i&=~df,i&=~fu,s.suspendedLanes|=i,s.pingedLanes&=~i,s=s.expirationTimes;0<i;){var l=31-bn(i),h=1<<l;s[l]=-1,i&=~h}}function bv(s){if((Qe&6)!==0)throw Error(t(327));Ko();var i=Xr(s,0);if((i&1)===0)return _n(s,at()),null;var l=_u(s,i);if(s.tag!==0&&l===2){var h=Ua(s);h!==0&&(i=h,l=gf(s,h))}if(l===1)throw l=_l,zi(s,0),Gs(s,i),_n(s,at()),l;if(l===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=i,$i(s,vn,us),_n(s,at()),null}function vf(s,i){var l=Qe;Qe|=1;try{return s(i)}finally{Qe=l,Qe===0&&(Go=at()+500,qc&&Bs())}}function Ui(s){Hs!==null&&Hs.tag===0&&(Qe&6)===0&&Ko();var i=Qe;Qe|=1;var l=Hn.transition,h=qe;try{if(Hn.transition=null,qe=1,s)return s()}finally{qe=h,Hn.transition=l,Qe=i,(Qe&6)===0&&Bs()}}function _f(){Vn=qo.current,ct(qo)}function zi(s,i){s.finishedWork=null,s.finishedLanes=0;var l=s.timeoutHandle;if(l!==-1&&(s.timeoutHandle=-1,UT(l)),kt!==null)for(l=kt.return;l!==null;){var h=l;switch(bd(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Wc();break;case 3:$o(),ct(mn),ct(Xt),Bd();break;case 5:Ld(h);break;case 4:$o();break;case 13:ct(pt);break;case 19:ct(pt);break;case 10:Dd(h.type._context);break;case 22:case 23:_f()}l=l.return}if(Ft=s,kt=s=Ks(s.current,null),Ht=Vn=i,Dt=0,_l=null,df=fu=Bi=0,vn=El=null,Oi!==null){for(i=0;i<Oi.length;i++)if(l=Oi[i],h=l.interleaved,h!==null){l.interleaved=null;var p=h.next,g=l.pending;if(g!==null){var x=g.next;g.next=p,h.next=x}l.pending=h}Oi=null}return s}function kv(s,i){do{var l=kt;try{if(Nd(),nu.current=ou,ru){for(var h=mt.memoizedState;h!==null;){var p=h.queue;p!==null&&(p.pending=null),h=h.next}ru=!1}if(Fi=0,Lt=Nt=mt=null,fl=!1,pl=0,hf.current=null,l===null||l.return===null){Dt=1,_l=i,kt=null;break}e:{var g=s,x=l.return,k=l,V=i;if(i=Ht,k.flags|=32768,V!==null&&typeof V=="object"&&typeof V.then=="function"){var q=V,ne=k,se=ne.tag;if((ne.mode&1)===0&&(se===0||se===11||se===15)){var ee=ne.alternate;ee?(ne.updateQueue=ee.updateQueue,ne.memoizedState=ee.memoizedState,ne.lanes=ee.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var fe=Zy(x);if(fe!==null){fe.flags&=-257,ev(fe,x,k,g,i),fe.mode&1&&Jy(g,q,i),i=fe,V=q;var ge=i.updateQueue;if(ge===null){var _e=new Set;_e.add(V),i.updateQueue=_e}else ge.add(V);break e}else{if((i&1)===0){Jy(g,q,i),Ef();break e}V=Error(t(426))}}else if(dt&&k.mode&1){var At=Zy(x);if(At!==null){(At.flags&65536)===0&&(At.flags|=256),ev(At,x,k,g,i),Pd(Wo(V,k));break e}}g=V=Wo(V,k),Dt!==4&&(Dt=2),El===null?El=[g]:El.push(g),g=x;do{switch(g.tag){case 3:g.flags|=65536,i&=-i,g.lanes|=i;var z=Yy(g,V,i);Ty(g,z);break e;case 1:k=V;var M=g.type,W=g.stateNode;if((g.flags&128)===0&&(typeof M.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(Ws===null||!Ws.has(W)))){g.flags|=65536,i&=-i,g.lanes|=i;var oe=Xy(g,k,i);Ty(g,oe);break e}}g=g.return}while(g!==null)}Rv(l)}catch(Ee){i=Ee,kt===l&&l!==null&&(kt=l=l.return);continue}break}while(!0)}function Cv(){var s=du.current;return du.current=ou,s===null?ou:s}function Ef(){(Dt===0||Dt===3||Dt===2)&&(Dt=4),Ft===null||(Bi&268435455)===0&&(fu&268435455)===0||Gs(Ft,Ht)}function _u(s,i){var l=Qe;Qe|=2;var h=Cv();(Ft!==s||Ht!==i)&&(us=null,zi(s,i));do try{dA();break}catch(p){kv(s,p)}while(!0);if(Nd(),Qe=l,du.current=h,kt!==null)throw Error(t(261));return Ft=null,Ht=0,Dt}function dA(){for(;kt!==null;)Pv(kt)}function fA(){for(;kt!==null&&!xi();)Pv(kt)}function Pv(s){var i=Vv(s.alternate,s,Vn);s.memoizedProps=s.pendingProps,i===null?Rv(s):kt=i,hf.current=null}function Rv(s){var i=s;do{var l=i.alternate;if(s=i.return,(i.flags&32768)===0){if(l=iA(l,i,Vn),l!==null){kt=l;return}}else{if(l=oA(l,i),l!==null){l.flags&=32767,kt=l;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Dt=6,kt=null;return}}if(i=i.sibling,i!==null){kt=i;return}kt=i=s}while(i!==null);Dt===0&&(Dt=5)}function $i(s,i,l){var h=qe,p=Hn.transition;try{Hn.transition=null,qe=1,pA(s,i,l,h)}finally{Hn.transition=p,qe=h}return null}function pA(s,i,l,h){do Ko();while(Hs!==null);if((Qe&6)!==0)throw Error(t(327));l=s.finishedWork;var p=s.finishedLanes;if(l===null)return null;if(s.finishedWork=null,s.finishedLanes=0,l===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var g=l.lanes|l.childLanes;if(id(s,g),s===Ft&&(kt=Ft=null,Ht=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||mu||(mu=!0,Mv(Ti,function(){return Ko(),null})),g=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||g){g=Hn.transition,Hn.transition=null;var x=qe;qe=1;var k=Qe;Qe|=4,hf.current=null,lA(s,l),wv(l,s),VT(_d),es=!!vd,_d=vd=null,s.current=l,cA(l),Yr(),Qe=k,qe=x,Hn.transition=g}else s.current=l;if(mu&&(mu=!1,Hs=s,gu=p),g=s.pendingLanes,g===0&&(Ws=null),Ic(l.stateNode),_n(s,at()),i!==null)for(h=s.onRecoverableError,l=0;l<i.length;l++)p=i[l],h(p.value,{componentStack:p.stack,digest:p.digest});if(pu)throw pu=!1,s=pf,pf=null,s;return(gu&1)!==0&&s.tag!==0&&Ko(),g=s.pendingLanes,(g&1)!==0?s===mf?wl++:(wl=0,mf=s):wl=0,Bs(),null}function Ko(){if(Hs!==null){var s=Er(gu),i=Hn.transition,l=qe;try{if(Hn.transition=null,qe=16>s?16:s,Hs===null)var h=!1;else{if(s=Hs,Hs=null,gu=0,(Qe&6)!==0)throw Error(t(331));var p=Qe;for(Qe|=4,me=s.current;me!==null;){var g=me,x=g.child;if((me.flags&16)!==0){var k=g.deletions;if(k!==null){for(var V=0;V<k.length;V++){var q=k[V];for(me=q;me!==null;){var ne=me;switch(ne.tag){case 0:case 11:case 15:vl(8,ne,g)}var se=ne.child;if(se!==null)se.return=ne,me=se;else for(;me!==null;){ne=me;var ee=ne.sibling,fe=ne.return;if(gv(ne),ne===q){me=null;break}if(ee!==null){ee.return=fe,me=ee;break}me=fe}}}var ge=g.alternate;if(ge!==null){var _e=ge.child;if(_e!==null){ge.child=null;do{var At=_e.sibling;_e.sibling=null,_e=At}while(_e!==null)}}me=g}}if((g.subtreeFlags&2064)!==0&&x!==null)x.return=g,me=x;else e:for(;me!==null;){if(g=me,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:vl(9,g,g.return)}var z=g.sibling;if(z!==null){z.return=g.return,me=z;break e}me=g.return}}var M=s.current;for(me=M;me!==null;){x=me;var W=x.child;if((x.subtreeFlags&2064)!==0&&W!==null)W.return=x,me=W;else e:for(x=M;me!==null;){if(k=me,(k.flags&2048)!==0)try{switch(k.tag){case 0:case 11:case 15:hu(9,k)}}catch(Ee){Et(k,k.return,Ee)}if(k===x){me=null;break e}var oe=k.sibling;if(oe!==null){oe.return=k.return,me=oe;break e}me=k.return}}if(Qe=p,Bs(),In&&typeof In.onPostCommitFiberRoot=="function")try{In.onPostCommitFiberRoot(Ai,s)}catch{}h=!0}return h}finally{qe=l,Hn.transition=i}}return!1}function Nv(s,i,l){i=Wo(l,i),i=Yy(s,i,1),s=zs(s,i,1),i=un(),s!==null&&(ki(s,1,i),_n(s,i))}function Et(s,i,l){if(s.tag===3)Nv(s,s,l);else for(;i!==null;){if(i.tag===3){Nv(i,s,l);break}else if(i.tag===1){var h=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ws===null||!Ws.has(h))){s=Wo(l,s),s=Xy(i,s,1),i=zs(i,s,1),s=un(),i!==null&&(ki(i,1,s),_n(i,s));break}}i=i.return}}function mA(s,i,l){var h=s.pingCache;h!==null&&h.delete(i),i=un(),s.pingedLanes|=s.suspendedLanes&l,Ft===s&&(Ht&l)===l&&(Dt===4||Dt===3&&(Ht&130023424)===Ht&&500>at()-ff?zi(s,0):df|=l),_n(s,i)}function Dv(s,i){i===0&&((s.mode&1)===0?i=1:(i=Ps,Ps<<=1,(Ps&130023424)===0&&(Ps=4194304)));var l=un();s=as(s,i),s!==null&&(ki(s,i,l),_n(s,l))}function gA(s){var i=s.memoizedState,l=0;i!==null&&(l=i.retryLane),Dv(s,l)}function yA(s,i){var l=0;switch(s.tag){case 13:var h=s.stateNode,p=s.memoizedState;p!==null&&(l=p.retryLane);break;case 19:h=s.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(i),Dv(s,l)}var Vv;Vv=function(s,i,l){if(s!==null)if(s.memoizedProps!==i.pendingProps||mn.current)yn=!0;else{if((s.lanes&l)===0&&(i.flags&128)===0)return yn=!1,sA(s,i,l);yn=(s.flags&131072)!==0}else yn=!1,dt&&(i.flags&1048576)!==0&&fy(i,Kc,i.index);switch(i.lanes=0,i.tag){case 2:var h=i.type;cu(s,i),s=i.pendingProps;var p=jo(i,Xt.current);zo(i,l),p=$d(null,i,h,s,p,l);var g=Wd();return i.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,gn(h)?(g=!0,Hc(i)):g=!1,i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,jd(i),p.updater=au,i.stateNode=p,p._reactInternals=i,Yd(i,h,s,l),i=ef(null,i,h,!0,g,l)):(i.tag=0,dt&&g&&Id(i),cn(null,i,p,l),i=i.child),i;case 16:h=i.elementType;e:{switch(cu(s,i),s=i.pendingProps,p=h._init,h=p(h._payload),i.type=h,p=i.tag=_A(h),s=ir(h,s),p){case 0:i=Zd(null,i,h,s,l);break e;case 1:i=ov(null,i,h,s,l);break e;case 11:i=tv(null,i,h,s,l);break e;case 14:i=nv(null,i,h,ir(h.type,s),l);break e}throw Error(t(306,h,""))}return i;case 0:return h=i.type,p=i.pendingProps,p=i.elementType===h?p:ir(h,p),Zd(s,i,h,p,l);case 1:return h=i.type,p=i.pendingProps,p=i.elementType===h?p:ir(h,p),ov(s,i,h,p,l);case 3:e:{if(av(i),s===null)throw Error(t(387));h=i.pendingProps,g=i.memoizedState,p=g.element,xy(s,i),eu(i,h,null,l);var x=i.memoizedState;if(h=x.element,g.isDehydrated)if(g={element:h,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){p=Wo(Error(t(423)),i),i=lv(s,i,h,l,p);break e}else if(h!==p){p=Wo(Error(t(424)),i),i=lv(s,i,h,l,p);break e}else for(Dn=Os(i.stateNode.containerInfo.firstChild),Nn=i,dt=!0,sr=null,l=Ey(i,null,h,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Fo(),h===p){i=cs(s,i,l);break e}cn(s,i,h,l)}i=i.child}return i;case 5:return Sy(i),s===null&&Cd(i),h=i.type,p=i.pendingProps,g=s!==null?s.memoizedProps:null,x=p.children,Ed(h,p)?x=null:g!==null&&Ed(h,g)&&(i.flags|=32),iv(s,i),cn(s,i,x,l),i.child;case 6:return s===null&&Cd(i),null;case 13:return cv(s,i,l);case 4:return Od(i,i.stateNode.containerInfo),h=i.pendingProps,s===null?i.child=Bo(i,null,h,l):cn(s,i,h,l),i.child;case 11:return h=i.type,p=i.pendingProps,p=i.elementType===h?p:ir(h,p),tv(s,i,h,p,l);case 7:return cn(s,i,i.pendingProps,l),i.child;case 8:return cn(s,i,i.pendingProps.children,l),i.child;case 12:return cn(s,i,i.pendingProps.children,l),i.child;case 10:e:{if(h=i.type._context,p=i.pendingProps,g=i.memoizedProps,x=p.value,ot(Xc,h._currentValue),h._currentValue=x,g!==null)if(rr(g.value,x)){if(g.children===p.children&&!mn.current){i=cs(s,i,l);break e}}else for(g=i.child,g!==null&&(g.return=i);g!==null;){var k=g.dependencies;if(k!==null){x=g.child;for(var V=k.firstContext;V!==null;){if(V.context===h){if(g.tag===1){V=ls(-1,l&-l),V.tag=2;var q=g.updateQueue;if(q!==null){q=q.shared;var ne=q.pending;ne===null?V.next=V:(V.next=ne.next,ne.next=V),q.pending=V}}g.lanes|=l,V=g.alternate,V!==null&&(V.lanes|=l),Vd(g.return,l,i),k.lanes|=l;break}V=V.next}}else if(g.tag===10)x=g.type===i.type?null:g.child;else if(g.tag===18){if(x=g.return,x===null)throw Error(t(341));x.lanes|=l,k=x.alternate,k!==null&&(k.lanes|=l),Vd(x,l,i),x=g.sibling}else x=g.child;if(x!==null)x.return=g;else for(x=g;x!==null;){if(x===i){x=null;break}if(g=x.sibling,g!==null){g.return=x.return,x=g;break}x=x.return}g=x}cn(s,i,p.children,l),i=i.child}return i;case 9:return p=i.type,h=i.pendingProps.children,zo(i,l),p=$n(p),h=h(p),i.flags|=1,cn(s,i,h,l),i.child;case 14:return h=i.type,p=ir(h,i.pendingProps),p=ir(h.type,p),nv(s,i,h,p,l);case 15:return rv(s,i,i.type,i.pendingProps,l);case 17:return h=i.type,p=i.pendingProps,p=i.elementType===h?p:ir(h,p),cu(s,i),i.tag=1,gn(h)?(s=!0,Hc(i)):s=!1,zo(i,l),Ky(i,h,p),Yd(i,h,p,l),ef(null,i,h,!0,s,l);case 19:return hv(s,i,l);case 22:return sv(s,i,l)}throw Error(t(156,i.tag))};function Mv(s,i){return La(s,i)}function vA(s,i,l,h){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(s,i,l,h){return new vA(s,i,l,h)}function wf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function _A(s){if(typeof s=="function")return wf(s)?1:0;if(s!=null){if(s=s.$$typeof,s===F)return 11;if(s===Ge)return 14}return 2}function Ks(s,i){var l=s.alternate;return l===null?(l=qn(s.tag,i,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=i,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&14680064,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,i=s.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l}function Eu(s,i,l,h,p,g){var x=2;if(h=s,typeof s=="function")wf(s)&&(x=1);else if(typeof s=="string")x=5;else e:switch(s){case P:return Wi(l.children,p,g,i);case A:x=8,p|=8;break;case b:return s=qn(12,l,i,p|2),s.elementType=b,s.lanes=g,s;case C:return s=qn(13,l,i,p),s.elementType=C,s.lanes=g,s;case Le:return s=qn(19,l,i,p),s.elementType=Le,s.lanes=g,s;case Te:return wu(l,p,g,i);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case D:x=10;break e;case R:x=9;break e;case F:x=11;break e;case Ge:x=14;break e;case Ye:x=16,h=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return i=qn(x,l,i,p),i.elementType=s,i.type=h,i.lanes=g,i}function Wi(s,i,l,h){return s=qn(7,s,h,i),s.lanes=l,s}function wu(s,i,l,h){return s=qn(22,s,h,i),s.elementType=Te,s.lanes=l,s.stateNode={isHidden:!1},s}function xf(s,i,l){return s=qn(6,s,null,i),s.lanes=l,s}function Tf(s,i,l){return i=qn(4,s.children!==null?s.children:[],s.key,i),i.lanes=l,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}function EA(s,i,l,h,p){this.tag=i,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$a(0),this.expirationTimes=$a(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$a(0),this.identifierPrefix=h,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function Af(s,i,l,h,p,g,x,k,V){return s=new EA(s,i,l,k,V),i===1?(i=1,g===!0&&(i|=8)):i=0,g=qn(3,null,null,i),s.current=g,g.stateNode=s,g.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},jd(g),s}function wA(s,i,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ie,key:h==null?null:""+h,children:s,containerInfo:i,implementation:l}}function jv(s){if(!s)return Fs;s=s._reactInternals;e:{if(tr(s)!==s||s.tag!==1)throw Error(t(170));var i=s;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(gn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(s.tag===1){var l=s.type;if(gn(l))return uy(s,l,i)}return i}function Ov(s,i,l,h,p,g,x,k,V){return s=Af(l,h,!0,s,p,g,x,k,V),s.context=jv(null),l=s.current,h=un(),p=qs(l),g=ls(h,p),g.callback=i??null,zs(l,g,p),s.current.lanes=p,ki(s,p,h),_n(s,h),s}function xu(s,i,l,h){var p=i.current,g=un(),x=qs(p);return l=jv(l),i.context===null?i.context=l:i.pendingContext=l,i=ls(g,x),i.payload={element:s},h=h===void 0?null:h,h!==null&&(i.callback=h),s=zs(p,i,x),s!==null&&(lr(s,p,x,g),Zc(s,p,x)),x}function Tu(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Lv(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<i?l:i}}function Sf(s,i){Lv(s,i),(s=s.alternate)&&Lv(s,i)}function xA(){return null}var Fv=typeof reportError=="function"?reportError:function(s){console.error(s)};function If(s){this._internalRoot=s}Au.prototype.render=If.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(t(409));xu(s,i,null,null)},Au.prototype.unmount=If.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;Ui(function(){xu(null,s,null,null)}),i[rs]=null}};function Au(s){this._internalRoot=s}Au.prototype.unstable_scheduleHydration=function(s){if(s){var i=Ga();s={blockedOn:null,target:s,priority:i};for(var l=0;l<kn.length&&i!==0&&i<kn[l].priority;l++);kn.splice(l,0,s),l===0&&Eo(s)}};function bf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Su(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Bv(){}function TA(s,i,l,h,p){if(p){if(typeof h=="function"){var g=h;h=function(){var q=Tu(x);g.call(q)}}var x=Ov(i,h,s,0,null,!1,!1,"",Bv);return s._reactRootContainer=x,s[rs]=x.current,il(s.nodeType===8?s.parentNode:s),Ui(),x}for(;p=s.lastChild;)s.removeChild(p);if(typeof h=="function"){var k=h;h=function(){var q=Tu(V);k.call(q)}}var V=Af(s,0,!1,null,null,!1,!1,"",Bv);return s._reactRootContainer=V,s[rs]=V.current,il(s.nodeType===8?s.parentNode:s),Ui(function(){xu(i,V,l,h)}),V}function Iu(s,i,l,h,p){var g=l._reactRootContainer;if(g){var x=g;if(typeof p=="function"){var k=p;p=function(){var V=Tu(x);k.call(V)}}xu(i,x,s,p)}else x=TA(l,i,s,p,h);return Tu(x)}Ha=function(s){switch(s.tag){case 3:var i=s.stateNode;if(i.current.memoizedState.isDehydrated){var l=Ze(i.pendingLanes);l!==0&&(Wa(i,l|1),_n(i,at()),(Qe&6)===0&&(Go=at()+500,Bs()))}break;case 13:Ui(function(){var h=as(s,1);if(h!==null){var p=un();lr(h,s,1,p)}}),Sf(s,1)}},vo=function(s){if(s.tag===13){var i=as(s,134217728);if(i!==null){var l=un();lr(i,s,134217728,l)}Sf(s,134217728)}},qa=function(s){if(s.tag===13){var i=qs(s),l=as(s,i);if(l!==null){var h=un();lr(l,s,i,h)}Sf(s,i)}},Ga=function(){return qe},Ka=function(s,i){var l=qe;try{return qe=s,i()}finally{qe=l}},Gr=function(s,i,l){switch(i){case"input":if(xt(s,l),i=l.name,l.type==="radio"&&i!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<l.length;i++){var h=l[i];if(h!==s&&h.form===s.form){var p=$c(h);if(!p)throw Error(t(90));an(h),xt(h,p)}}}break;case"textarea":Ts(s,l);break;case"select":i=l.value,i!=null&&je(s,!!l.multiple,i,!1)}},yc=vf,vc=Ui;var AA={usingClientEntryPoint:!1,Events:[ll,Vo,$c,Is,bs,vf]},xl={findFiberByHostInstance:Di,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SA={bundleType:xl.bundleType,version:xl.version,rendererPackageName:xl.rendererPackageName,rendererConfig:xl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ue.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Sc(s),s===null?null:s.stateNode},findFiberByHostInstance:xl.findFiberByHostInstance||xA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bu.isDisabled&&bu.supportsFiber)try{Ai=bu.inject(SA),In=bu}catch{}}return En.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AA,En.createPortal=function(s,i){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bf(i))throw Error(t(200));return wA(s,i,null,l)},En.createRoot=function(s,i){if(!bf(s))throw Error(t(299));var l=!1,h="",p=Fv;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onRecoverableError!==void 0&&(p=i.onRecoverableError)),i=Af(s,1,!1,null,null,l,!1,h,p),s[rs]=i.current,il(s.nodeType===8?s.parentNode:s),new If(i)},En.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Sc(i),s=s===null?null:s.stateNode,s},En.flushSync=function(s){return Ui(s)},En.hydrate=function(s,i,l){if(!Su(i))throw Error(t(200));return Iu(null,s,i,!0,l)},En.hydrateRoot=function(s,i,l){if(!bf(s))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,p=!1,g="",x=Fv;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(x=l.onRecoverableError)),i=Ov(i,null,s,1,l??null,p,!1,g,x),s[rs]=i.current,il(s),h)for(s=0;s<h.length;s++)l=h[s],p=l._getVersion,p=p(l._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[l,p]:i.mutableSourceEagerHydrationData.push(l,p);return new Au(i)},En.render=function(s,i,l){if(!Su(i))throw Error(t(200));return Iu(null,s,i,!1,l)},En.unmountComponentAtNode=function(s){if(!Su(s))throw Error(t(40));return s._reactRootContainer?(Ui(function(){Iu(null,null,s,!1,function(){s._reactRootContainer=null,s[rs]=null})}),!0):!1},En.unstable_batchedUpdates=vf,En.unstable_renderSubtreeIntoContainer=function(s,i,l,h){if(!Su(l))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Iu(s,i,l,!1,h)},En.version="18.3.1-next-f1338f8080-20240426",En}var Kv;function XE(){if(Kv)return Pf.exports;Kv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Pf.exports=VA(),Pf.exports}var Qv;function MA(){if(Qv)return ku;Qv=1;var n=XE();return ku.createRoot=n.createRoot,ku.hydrateRoot=n.hydrateRoot,ku}var jA=MA(),X=sm();const OA=kA(X),LA=bA({__proto__:null,default:OA},[X]),im=X.createContext({});function om(n){const e=X.useRef(null);return e.current===null&&(e.current=n()),e.current}const am=typeof window<"u",JE=am?X.useLayoutEffect:X.useEffect,Dh=X.createContext(null);function lm(n,e){n.indexOf(e)===-1&&n.push(e)}function cm(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const ms=(n,e,t)=>t>e?e:t<n?n:t;let um=()=>{};const gs={},ZE=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function ew(n){return typeof n=="object"&&n!==null}const tw=n=>/^0[^.\s]+$/u.test(n);function hm(n){let e;return()=>(e===void 0&&(e=n()),e)}const Xn=n=>n,FA=(n,e)=>t=>e(n(t)),nc=(...n)=>n.reduce(FA),$l=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r};class dm{constructor(){this.subscriptions=[]}add(e){return lm(this.subscriptions,e),()=>cm(this.subscriptions,e)}notify(e,t,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,t,r);else for(let a=0;a<o;a++){const c=this.subscriptions[a];c&&c(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Mr=n=>n*1e3,Yn=n=>n/1e3;function nw(n,e){return e?n*(1e3/e):0}const rw=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,BA=1e-7,UA=12;function zA(n,e,t,r,o){let a,c,d=0;do c=e+(t-e)/2,a=rw(c,r,o)-n,a>0?t=c:e=c;while(Math.abs(a)>BA&&++d<UA);return c}function rc(n,e,t,r){if(n===e&&t===r)return Xn;const o=a=>zA(a,0,1,n,t);return a=>a===0||a===1?a:rw(o(a),e,r)}const sw=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,iw=n=>e=>1-n(1-e),ow=rc(.33,1.53,.69,.99),fm=iw(ow),aw=sw(fm),lw=n=>(n*=2)<1?.5*fm(n):.5*(2-Math.pow(2,-10*(n-1))),pm=n=>1-Math.sin(Math.acos(n)),cw=iw(pm),uw=sw(pm),$A=rc(.42,0,1,1),WA=rc(0,0,.58,1),hw=rc(.42,0,.58,1),HA=n=>Array.isArray(n)&&typeof n[0]!="number",dw=n=>Array.isArray(n)&&typeof n[0]=="number",qA={linear:Xn,easeIn:$A,easeInOut:hw,easeOut:WA,circIn:pm,circInOut:uw,circOut:cw,backIn:fm,backInOut:aw,backOut:ow,anticipate:lw},GA=n=>typeof n=="string",Yv=n=>{if(dw(n)){um(n.length===4);const[e,t,r,o]=n;return rc(e,t,r,o)}else if(GA(n))return qA[n];return n},Cu=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function KA(n,e){let t=new Set,r=new Set,o=!1,a=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function f(_){c.has(_)&&(m.schedule(_),n()),_(d)}const m={schedule:(_,w=!1,T=!1)=>{const O=T&&o?t:r;return w&&c.add(_),O.has(_)||O.add(_),_},cancel:_=>{r.delete(_),c.delete(_)},process:_=>{if(d=_,o){a=!0;return}o=!0,[t,r]=[r,t],t.forEach(f),t.clear(),o=!1,a&&(a=!1,m.process(_))}};return m}const QA=40;function fw(n,e){let t=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},a=()=>t=!0,c=Cu.reduce((Y,ue)=>(Y[ue]=KA(a),Y),{}),{setup:d,read:f,resolveKeyframes:m,preUpdate:_,update:w,preRender:T,render:I,postRender:O}=c,B=()=>{const Y=gs.useManualTiming?o.timestamp:performance.now();t=!1,gs.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(Y-o.timestamp,QA),1)),o.timestamp=Y,o.isProcessing=!0,d.process(o),f.process(o),m.process(o),_.process(o),w.process(o),T.process(o),I.process(o),O.process(o),o.isProcessing=!1,t&&e&&(r=!1,n(B))},L=()=>{t=!0,r=!0,o.isProcessing||n(B)};return{schedule:Cu.reduce((Y,ue)=>{const ae=c[ue];return Y[ue]=(ie,P=!1,A=!1)=>(t||L(),ae.schedule(ie,P,A)),Y},{}),cancel:Y=>{for(let ue=0;ue<Cu.length;ue++)c[Cu[ue]].cancel(Y)},state:o,steps:c}}const{schedule:ft,cancel:li,state:qt,steps:Df}=fw(typeof requestAnimationFrame<"u"?requestAnimationFrame:Xn,!0);let $u;function YA(){$u=void 0}const Tn={now:()=>($u===void 0&&Tn.set(qt.isProcessing||gs.useManualTiming?qt.timestamp:performance.now()),$u),set:n=>{$u=n,queueMicrotask(YA)}},pw=n=>e=>typeof e=="string"&&e.startsWith(n),mm=pw("--"),XA=pw("var(--"),gm=n=>XA(n)?JA.test(n.split("/*")[0].trim()):!1,JA=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,xa={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Wl={...xa,transform:n=>ms(0,1,n)},Pu={...xa,default:1},Rl=n=>Math.round(n*1e5)/1e5,ym=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ZA(n){return n==null}const eS=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,vm=(n,e)=>t=>!!(typeof t=="string"&&eS.test(t)&&t.startsWith(n)||e&&!ZA(t)&&Object.prototype.hasOwnProperty.call(t,e)),mw=(n,e,t)=>r=>{if(typeof r!="string")return r;const[o,a,c,d]=r.match(ym);return{[n]:parseFloat(o),[e]:parseFloat(a),[t]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},tS=n=>ms(0,255,n),Vf={...xa,transform:n=>Math.round(tS(n))},Yi={test:vm("rgb","red"),parse:mw("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+Vf.transform(n)+", "+Vf.transform(e)+", "+Vf.transform(t)+", "+Rl(Wl.transform(r))+")"};function nS(n){let e="",t="",r="",o="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),o=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),o=n.substring(4,5),e+=e,t+=t,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const hp={test:vm("#"),parse:nS,transform:Yi.transform},sc=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Js=sc("deg"),jr=sc("%"),ke=sc("px"),rS=sc("vh"),sS=sc("vw"),Xv={...jr,parse:n=>jr.parse(n)/100,transform:n=>jr.transform(n*100)},ea={test:vm("hsl","hue"),parse:mw("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+jr.transform(Rl(e))+", "+jr.transform(Rl(t))+", "+Rl(Wl.transform(r))+")"},Pt={test:n=>Yi.test(n)||hp.test(n)||ea.test(n),parse:n=>Yi.test(n)?Yi.parse(n):ea.test(n)?ea.parse(n):hp.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Yi.transform(n):ea.transform(n),getAnimatableNone:n=>{const e=Pt.parse(n);return e.alpha=0,Pt.transform(e)}},iS=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function oS(n){return isNaN(n)&&typeof n=="string"&&(n.match(ym)?.length||0)+(n.match(iS)?.length||0)>0}const gw="number",yw="color",aS="var",lS="var(",Jv="${}",cS=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Hl(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},o=[];let a=0;const d=e.replace(cS,f=>(Pt.test(f)?(r.color.push(a),o.push(yw),t.push(Pt.parse(f))):f.startsWith(lS)?(r.var.push(a),o.push(aS),t.push(f)):(r.number.push(a),o.push(gw),t.push(parseFloat(f))),++a,Jv)).split(Jv);return{values:t,split:d,indexes:r,types:o}}function vw(n){return Hl(n).values}function _w(n){const{split:e,types:t}=Hl(n),r=e.length;return o=>{let a="";for(let c=0;c<r;c++)if(a+=e[c],o[c]!==void 0){const d=t[c];d===gw?a+=Rl(o[c]):d===yw?a+=Pt.transform(o[c]):a+=o[c]}return a}}const uS=n=>typeof n=="number"?0:Pt.test(n)?Pt.getAnimatableNone(n):n;function hS(n){const e=vw(n);return _w(n)(e.map(uS))}const ci={test:oS,parse:vw,createTransformer:_w,getAnimatableNone:hS};function Mf(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function dS({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let o=0,a=0,c=0;if(!e)o=a=c=t;else{const d=t<.5?t*(1+e):t+e-t*e,f=2*t-d;o=Mf(f,d,n+1/3),a=Mf(f,d,n),c=Mf(f,d,n-1/3)}return{red:Math.round(o*255),green:Math.round(a*255),blue:Math.round(c*255),alpha:r}}function sh(n,e){return t=>t>0?e:n}const yt=(n,e,t)=>n+(e-n)*t,jf=(n,e,t)=>{const r=n*n,o=t*(e*e-r)+r;return o<0?0:Math.sqrt(o)},fS=[hp,Yi,ea],pS=n=>fS.find(e=>e.test(n));function Zv(n){const e=pS(n);if(!e)return!1;let t=e.parse(n);return e===ea&&(t=dS(t)),t}const e0=(n,e)=>{const t=Zv(n),r=Zv(e);if(!t||!r)return sh(n,e);const o={...t};return a=>(o.red=jf(t.red,r.red,a),o.green=jf(t.green,r.green,a),o.blue=jf(t.blue,r.blue,a),o.alpha=yt(t.alpha,r.alpha,a),Yi.transform(o))},dp=new Set(["none","hidden"]);function mS(n,e){return dp.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function gS(n,e){return t=>yt(n,e,t)}function _m(n){return typeof n=="number"?gS:typeof n=="string"?gm(n)?sh:Pt.test(n)?e0:_S:Array.isArray(n)?Ew:typeof n=="object"?Pt.test(n)?e0:yS:sh}function Ew(n,e){const t=[...n],r=t.length,o=n.map((a,c)=>_m(a)(a,e[c]));return a=>{for(let c=0;c<r;c++)t[c]=o[c](a);return t}}function yS(n,e){const t={...n,...e},r={};for(const o in t)n[o]!==void 0&&e[o]!==void 0&&(r[o]=_m(n[o])(n[o],e[o]));return o=>{for(const a in r)t[a]=r[a](o);return t}}function vS(n,e){const t=[],r={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const a=e.types[o],c=n.indexes[a][r[a]],d=n.values[c]??0;t[o]=d,r[a]++}return t}const _S=(n,e)=>{const t=ci.createTransformer(e),r=Hl(n),o=Hl(e);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?dp.has(n)&&!o.values.length||dp.has(e)&&!r.values.length?mS(n,e):nc(Ew(vS(r,o),o.values),t):sh(n,e)};function ww(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?yt(n,e,t):_m(n)(n,e)}const ES=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>ft.update(e,t),stop:()=>li(e),now:()=>qt.isProcessing?qt.timestamp:Tn.now()}},xw=(n,e,t=10)=>{let r="";const o=Math.max(Math.round(e/t),2);for(let a=0;a<o;a++)r+=Math.round(n(a/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},ih=2e4;function Em(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<ih;)e+=t,r=n.next(e);return e>=ih?1/0:e}function wS(n,e=100,t){const r=t({...n,keyframes:[0,e]}),o=Math.min(Em(r),ih);return{type:"keyframes",ease:a=>r.next(o*a).value/e,duration:Yn(o)}}const xS=5;function Tw(n,e,t){const r=Math.max(e-xS,0);return nw(t-n(r),e-r)}const wt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Of=.001;function TS({duration:n=wt.duration,bounce:e=wt.bounce,velocity:t=wt.velocity,mass:r=wt.mass}){let o,a,c=1-e;c=ms(wt.minDamping,wt.maxDamping,c),n=ms(wt.minDuration,wt.maxDuration,Yn(n)),c<1?(o=m=>{const _=m*c,w=_*n,T=_-t,I=fp(m,c),O=Math.exp(-w);return Of-T/I*O},a=m=>{const w=m*c*n,T=w*t+t,I=Math.pow(c,2)*Math.pow(m,2)*n,O=Math.exp(-w),B=fp(Math.pow(m,2),c);return(-o(m)+Of>0?-1:1)*((T-I)*O)/B}):(o=m=>{const _=Math.exp(-m*n),w=(m-t)*n+1;return-Of+_*w},a=m=>{const _=Math.exp(-m*n),w=(t-m)*(n*n);return _*w});const d=5/n,f=SS(o,a,d);if(n=Mr(n),isNaN(f))return{stiffness:wt.stiffness,damping:wt.damping,duration:n};{const m=Math.pow(f,2)*r;return{stiffness:m,damping:c*2*Math.sqrt(r*m),duration:n}}}const AS=12;function SS(n,e,t){let r=t;for(let o=1;o<AS;o++)r=r-n(r)/e(r);return r}function fp(n,e){return n*Math.sqrt(1-e*e)}const IS=["duration","bounce"],bS=["stiffness","damping","mass"];function t0(n,e){return e.some(t=>n[t]!==void 0)}function kS(n){let e={velocity:wt.velocity,stiffness:wt.stiffness,damping:wt.damping,mass:wt.mass,isResolvedFromDuration:!1,...n};if(!t0(n,bS)&&t0(n,IS))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),o=r*r,a=2*ms(.05,1,1-(n.bounce||0))*Math.sqrt(o);e={...e,mass:wt.mass,stiffness:o,damping:a}}else{const t=TS(n);e={...e,...t,mass:wt.mass},e.isResolvedFromDuration=!0}return e}function oh(n=wt.visualDuration,e=wt.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:o}=t;const a=t.keyframes[0],c=t.keyframes[t.keyframes.length-1],d={done:!1,value:a},{stiffness:f,damping:m,mass:_,duration:w,velocity:T,isResolvedFromDuration:I}=kS({...t,velocity:-Yn(t.velocity||0)}),O=T||0,B=m/(2*Math.sqrt(f*_)),L=c-a,K=Yn(Math.sqrt(f/_)),Q=Math.abs(L)<5;r||(r=Q?wt.restSpeed.granular:wt.restSpeed.default),o||(o=Q?wt.restDelta.granular:wt.restDelta.default);let Y;if(B<1){const ae=fp(K,B);Y=ie=>{const P=Math.exp(-B*K*ie);return c-P*((O+B*K*L)/ae*Math.sin(ae*ie)+L*Math.cos(ae*ie))}}else if(B===1)Y=ae=>c-Math.exp(-K*ae)*(L+(O+K*L)*ae);else{const ae=K*Math.sqrt(B*B-1);Y=ie=>{const P=Math.exp(-B*K*ie),A=Math.min(ae*ie,300);return c-P*((O+B*K*L)*Math.sinh(A)+ae*L*Math.cosh(A))/ae}}const ue={calculatedDuration:I&&w||null,next:ae=>{const ie=Y(ae);if(I)d.done=ae>=w;else{let P=ae===0?O:0;B<1&&(P=ae===0?Mr(O):Tw(Y,ae,ie));const A=Math.abs(P)<=r,b=Math.abs(c-ie)<=o;d.done=A&&b}return d.value=d.done?c:ie,d},toString:()=>{const ae=Math.min(Em(ue),ih),ie=xw(P=>ue.next(ae*P).value,ae,30);return ae+"ms "+ie},toTransition:()=>{}};return ue}oh.applyToOptions=n=>{const e=wS(n,100,oh);return n.ease=e.ease,n.duration=Mr(e.duration),n.type="keyframes",n};function pp({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:a=500,modifyTarget:c,min:d,max:f,restDelta:m=.5,restSpeed:_}){const w=n[0],T={done:!1,value:w},I=A=>d!==void 0&&A<d||f!==void 0&&A>f,O=A=>d===void 0?f:f===void 0||Math.abs(d-A)<Math.abs(f-A)?d:f;let B=t*e;const L=w+B,K=c===void 0?L:c(L);K!==L&&(B=K-w);const Q=A=>-B*Math.exp(-A/r),Y=A=>K+Q(A),ue=A=>{const b=Q(A),D=Y(A);T.done=Math.abs(b)<=m,T.value=T.done?K:D};let ae,ie;const P=A=>{I(T.value)&&(ae=A,ie=oh({keyframes:[T.value,O(T.value)],velocity:Tw(Y,A,T.value),damping:o,stiffness:a,restDelta:m,restSpeed:_}))};return P(0),{calculatedDuration:null,next:A=>{let b=!1;return!ie&&ae===void 0&&(b=!0,ue(A),P(A)),ae!==void 0&&A>=ae?ie.next(A-ae):(!b&&ue(A),T)}}}function CS(n,e,t){const r=[],o=t||gs.mix||ww,a=n.length-1;for(let c=0;c<a;c++){let d=o(n[c],n[c+1]);if(e){const f=Array.isArray(e)?e[c]||Xn:e;d=nc(f,d)}r.push(d)}return r}function PS(n,e,{clamp:t=!0,ease:r,mixer:o}={}){const a=n.length;if(um(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const c=n[0]===n[1];n[0]>n[a-1]&&(n=[...n].reverse(),e=[...e].reverse());const d=CS(e,r,o),f=d.length,m=_=>{if(c&&_<n[0])return e[0];let w=0;if(f>1)for(;w<n.length-2&&!(_<n[w+1]);w++);const T=$l(n[w],n[w+1],_);return d[w](T)};return t?_=>m(ms(n[0],n[a-1],_)):m}function RS(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const o=$l(0,e,r);n.push(yt(t,1,o))}}function NS(n){const e=[0];return RS(e,n.length-1),e}function DS(n,e){return n.map(t=>t*e)}function VS(n,e){return n.map(()=>e||hw).splice(0,n.length-1)}function Nl({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const o=HA(r)?r.map(Yv):Yv(r),a={done:!1,value:e[0]},c=DS(t&&t.length===e.length?t:NS(e),n),d=PS(c,e,{ease:Array.isArray(o)?o:VS(e,o)});return{calculatedDuration:n,next:f=>(a.value=d(f),a.done=f>=n,a)}}const MS=n=>n!==null;function wm(n,{repeat:e,repeatType:t="loop"},r,o=1){const a=n.filter(MS),d=o<0||e&&t!=="loop"&&e%2===1?0:a.length-1;return!d||r===void 0?a[d]:r}const jS={decay:pp,inertia:pp,tween:Nl,keyframes:Nl,spring:oh};function Aw(n){typeof n.type=="string"&&(n.type=jS[n.type])}class xm{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const OS=n=>n/100;class Tm extends xm{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;t&&t.updatedAt!==Tn.now()&&this.tick(Tn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Aw(e);const{type:t=Nl,repeat:r=0,repeatDelay:o=0,repeatType:a,velocity:c=0}=e;let{keyframes:d}=e;const f=t||Nl;f!==Nl&&typeof d[0]!="number"&&(this.mixKeyframes=nc(OS,ww(d[0],d[1])),d=[0,100]);const m=f({...e,keyframes:d});a==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...d].reverse(),velocity:-c})),m.calculatedDuration===null&&(m.calculatedDuration=Em(m));const{calculatedDuration:_}=m;this.calculatedDuration=_,this.resolvedDuration=_+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=m}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:r,totalDuration:o,mixKeyframes:a,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:f}=this;if(this.startTime===null)return r.next(0);const{delay:m=0,keyframes:_,repeat:w,repeatType:T,repeatDelay:I,type:O,onUpdate:B,finalKeyframe:L}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const K=this.currentTime-m*(this.playbackSpeed>=0?1:-1),Q=this.playbackSpeed>=0?K<0:K>o;this.currentTime=Math.max(K,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let Y=this.currentTime,ue=r;if(w){const A=Math.min(this.currentTime,o)/d;let b=Math.floor(A),D=A%1;!D&&A>=1&&(D=1),D===1&&b--,b=Math.min(b,w+1),!!(b%2)&&(T==="reverse"?(D=1-D,I&&(D-=I/d)):T==="mirror"&&(ue=c)),Y=ms(0,1,D)*d}const ae=Q?{done:!1,value:_[0]}:ue.next(Y);a&&(ae.value=a(ae.value));let{done:ie}=ae;!Q&&f!==null&&(ie=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ie);return P&&O!==pp&&(ae.value=wm(_,this.options,L,this.speed)),B&&B(ae.value),P&&this.finish(),ae}then(e,t){return this.finished.then(e,t)}get duration(){return Yn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Yn(e)}get time(){return Yn(this.currentTime)}set time(e){e=Mr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Tn.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Yn(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=ES,startTime:t}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=t??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Tn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function LS(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const Xi=n=>n*180/Math.PI,mp=n=>{const e=Xi(Math.atan2(n[1],n[0]));return gp(e)},FS={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:mp,rotateZ:mp,skewX:n=>Xi(Math.atan(n[1])),skewY:n=>Xi(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},gp=n=>(n=n%360,n<0&&(n+=360),n),n0=mp,r0=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),s0=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),BS={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:r0,scaleY:s0,scale:n=>(r0(n)+s0(n))/2,rotateX:n=>gp(Xi(Math.atan2(n[6],n[5]))),rotateY:n=>gp(Xi(Math.atan2(-n[2],n[0]))),rotateZ:n0,rotate:n0,skewX:n=>Xi(Math.atan(n[4])),skewY:n=>Xi(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function yp(n){return n.includes("scale")?1:0}function vp(n,e){if(!n||n==="none")return yp(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(t)r=BS,o=t;else{const d=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=FS,o=d}if(!o)return yp(e);const a=r[e],c=o[1].split(",").map(zS);return typeof a=="function"?a(c):c[a]}const US=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return vp(t,e)};function zS(n){return parseFloat(n.trim())}const Ta=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Aa=new Set(Ta),i0=n=>n===xa||n===ke,$S=new Set(["x","y","z"]),WS=Ta.filter(n=>!$S.has(n));function HS(n){const e=[];return WS.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const eo={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>vp(e,"x"),y:(n,{transform:e})=>vp(e,"y")};eo.translateX=eo.x;eo.translateY=eo.y;const to=new Set;let _p=!1,Ep=!1,wp=!1;function Sw(){if(Ep){const n=Array.from(to).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const o=HS(r);o.length&&(t.set(r,o),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const o=t.get(r);o&&o.forEach(([a,c])=>{r.getValue(a)?.set(c)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Ep=!1,_p=!1,to.forEach(n=>n.complete(wp)),to.clear()}function Iw(){to.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Ep=!0)})}function qS(){wp=!0,Iw(),Sw(),wp=!1}class Am{constructor(e,t,r,o,a,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=o,this.element=a,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(to.add(this),_p||(_p=!0,ft.read(Iw),ft.resolveKeyframes(Sw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:o}=this;if(e[0]===null){const a=o?.get(),c=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&t){const d=r.readValue(t,c);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=c),o&&a===void 0&&o.set(e[0])}LS(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),to.delete(this)}cancel(){this.state==="scheduled"&&(to.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const GS=n=>n.startsWith("--");function KS(n,e,t){GS(e)?n.style.setProperty(e,t):n.style[e]=t}const QS=hm(()=>window.ScrollTimeline!==void 0),YS={};function XS(n,e){const t=hm(n);return()=>YS[e]??t()}const bw=XS(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Il=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,o0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Il([0,.65,.55,1]),circOut:Il([.55,0,1,.45]),backIn:Il([.31,.01,.66,-.59]),backOut:Il([.33,1.53,.69,.99])};function kw(n,e){if(n)return typeof n=="function"?bw()?xw(n,e):"ease-out":dw(n)?Il(n):Array.isArray(n)?n.map(t=>kw(t,e)||o0.easeOut):o0[n]}function JS(n,e,t,{delay:r=0,duration:o=300,repeat:a=0,repeatType:c="loop",ease:d="easeOut",times:f}={},m=void 0){const _={[e]:t};f&&(_.offset=f);const w=kw(d,o);Array.isArray(w)&&(_.easing=w);const T={delay:r,duration:o,easing:Array.isArray(w)?"linear":w,fill:"both",iterations:a+1,direction:c==="reverse"?"alternate":"normal"};return m&&(T.pseudoElement=m),n.animate(_,T)}function Cw(n){return typeof n=="function"&&"applyToOptions"in n}function ZS({type:n,...e}){return Cw(n)&&bw()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class eI extends xm{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:r,keyframes:o,pseudoElement:a,allowFlatten:c=!1,finalKeyframe:d,onComplete:f}=e;this.isPseudoElement=!!a,this.allowFlatten=c,this.options=e,um(typeof e.type!="string");const m=ZS(e);this.animation=JS(t,r,o,m,a),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const _=wm(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(_):KS(t,r,_),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Yn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Yn(e)}get time(){return Yn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Mr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&QS()?(this.animation.timeline=e,Xn):t(this)}}const Pw={anticipate:lw,backInOut:aw,circInOut:uw};function tI(n){return n in Pw}function nI(n){typeof n.ease=="string"&&tI(n.ease)&&(n.ease=Pw[n.ease])}const a0=10;class rI extends eI{constructor(e){nI(e),Aw(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:r,onComplete:o,element:a,...c}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const d=new Tm({...c,autoplay:!1}),f=Mr(this.finishedTime??this.time);t.setWithVelocity(d.sample(f-a0).value,d.sample(f).value,a0),d.stop()}}const l0=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(ci.test(n)||n==="0")&&!n.startsWith("url("));function sI(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function iI(n,e,t,r){const o=n[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const a=n[n.length-1],c=l0(o,e),d=l0(a,e);return!c||!d?!1:sI(n)||(t==="spring"||Cw(t))&&r}function xp(n){n.duration=0,n.type="keyframes"}const oI=new Set(["opacity","clipPath","filter","transform"]),aI=hm(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function lI(n){const{motionValue:e,name:t,repeatDelay:r,repeatType:o,damping:a,type:c}=n;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:m}=e.owner.getProps();return aI()&&t&&oI.has(t)&&(t!=="transform"||!m)&&!f&&!r&&o!=="mirror"&&a!==0&&c!=="inertia"}const cI=40;class uI extends xm{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:c="loop",keyframes:d,name:f,motionValue:m,element:_,...w}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Tn.now();const T={autoplay:e,delay:t,type:r,repeat:o,repeatDelay:a,repeatType:c,name:f,motionValue:m,element:_,...w},I=_?.KeyframeResolver||Am;this.keyframeResolver=new I(d,(O,B,L)=>this.onKeyframesResolved(O,B,T,!L),f,m,_),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,r,o){this.keyframeResolver=void 0;const{name:a,type:c,velocity:d,delay:f,isHandoff:m,onUpdate:_}=r;this.resolvedAt=Tn.now(),iI(e,a,c,d)||((gs.instantAnimations||!f)&&_?.(wm(e,r,t)),e[0]=e[e.length-1],xp(r),r.repeat=0);const T={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>cI?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...r,keyframes:e},I=!m&&lI(T)?new rI({...T,element:T.motionValue.owner.current}):new Tm(T);I.finished.then(()=>this.notifyFinished()).catch(Xn),this.pendingTimeline&&(this.stopTimeline=I.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=I}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),qS()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const hI=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function dI(n){const e=hI.exec(n);if(!e)return[,];const[,t,r,o]=e;return[`--${t??r}`,o]}function Rw(n,e,t=1){const[r,o]=dI(n);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const c=a.trim();return ZE(c)?parseFloat(c):c}return gm(o)?Rw(o,e,t+1):o}function Sm(n,e){return n?.[e]??n?.default??n}const Nw=new Set(["width","height","top","left","right","bottom",...Ta]),fI={test:n=>n==="auto",parse:n=>n},Dw=n=>e=>e.test(n),Vw=[xa,ke,jr,Js,sS,rS,fI],c0=n=>Vw.find(Dw(n));function pI(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||tw(n):!0}const mI=new Set(["brightness","contrast","saturate","opacity"]);function gI(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(ym)||[];if(!r)return n;const o=t.replace(r,"");let a=mI.has(e)?1:0;return r!==t&&(a*=100),e+"("+a+o+")"}const yI=/\b([a-z-]*)\(.*?\)/gu,Tp={...ci,getAnimatableNone:n=>{const e=n.match(yI);return e?e.map(gI).join(" "):n}},u0={...xa,transform:Math.round},vI={rotate:Js,rotateX:Js,rotateY:Js,rotateZ:Js,scale:Pu,scaleX:Pu,scaleY:Pu,scaleZ:Pu,skew:Js,skewX:Js,skewY:Js,distance:ke,translateX:ke,translateY:ke,translateZ:ke,x:ke,y:ke,z:ke,perspective:ke,transformPerspective:ke,opacity:Wl,originX:Xv,originY:Xv,originZ:ke},Im={borderWidth:ke,borderTopWidth:ke,borderRightWidth:ke,borderBottomWidth:ke,borderLeftWidth:ke,borderRadius:ke,radius:ke,borderTopLeftRadius:ke,borderTopRightRadius:ke,borderBottomRightRadius:ke,borderBottomLeftRadius:ke,width:ke,maxWidth:ke,height:ke,maxHeight:ke,top:ke,right:ke,bottom:ke,left:ke,padding:ke,paddingTop:ke,paddingRight:ke,paddingBottom:ke,paddingLeft:ke,margin:ke,marginTop:ke,marginRight:ke,marginBottom:ke,marginLeft:ke,backgroundPositionX:ke,backgroundPositionY:ke,...vI,zIndex:u0,fillOpacity:Wl,strokeOpacity:Wl,numOctaves:u0},_I={...Im,color:Pt,backgroundColor:Pt,outlineColor:Pt,fill:Pt,stroke:Pt,borderColor:Pt,borderTopColor:Pt,borderRightColor:Pt,borderBottomColor:Pt,borderLeftColor:Pt,filter:Tp,WebkitFilter:Tp},Mw=n=>_I[n];function jw(n,e){let t=Mw(n);return t!==Tp&&(t=ci),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const EI=new Set(["auto","none","0"]);function wI(n,e,t){let r=0,o;for(;r<n.length&&!o;){const a=n[r];typeof a=="string"&&!EI.has(a)&&Hl(a).values.length&&(o=n[r]),r++}if(o&&t)for(const a of e)n[a]=jw(t,o)}class xI extends Am{constructor(e,t,r,o,a){super(e,t,r,o,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let m=e[f];if(typeof m=="string"&&(m=m.trim(),gm(m))){const _=Rw(m,t.current);_!==void 0&&(e[f]=_),f===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!Nw.has(r)||e.length!==2)return;const[o,a]=e,c=c0(o),d=c0(a);if(c!==d)if(i0(c)&&i0(d))for(let f=0;f<e.length;f++){const m=e[f];typeof m=="string"&&(e[f]=parseFloat(m))}else eo[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let o=0;o<e.length;o++)(e[o]===null||pI(e[o]))&&r.push(o);r.length&&wI(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=eo[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const o=t[t.length-1];o!==void 0&&e.getValue(r,o).jump(o,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const o=e.getValue(t);o&&o.jump(this.measuredOrigin,!1);const a=r.length-1,c=r[a];r[a]=eo[t](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,f])=>{e.getValue(d).set(f)}),this.resolveNoneKeyframes()}}function TI(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const o=t?.[n]??r.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n)}const Ow=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function Lw(n){return ew(n)&&"offsetHeight"in n}const h0=30,AI=n=>!isNaN(parseFloat(n));class SI{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const o=Tn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Tn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=AI(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new dm);const r=this.events[e].add(t);return e==="change"?()=>{r(),ft.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Tn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>h0)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,h0);return nw(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ua(n,e){return new SI(n,e)}const{schedule:bm}=fw(queueMicrotask,!1),cr={x:!1,y:!1};function Fw(){return cr.x||cr.y}function II(n){return n==="x"||n==="y"?cr[n]?null:(cr[n]=!0,()=>{cr[n]=!1}):cr.x||cr.y?null:(cr.x=cr.y=!0,()=>{cr.x=cr.y=!1})}function Bw(n,e){const t=TI(n),r=new AbortController,o={passive:!0,...e,signal:r.signal};return[t,o,()=>r.abort()]}function d0(n){return!(n.pointerType==="touch"||Fw())}function bI(n,e,t={}){const[r,o,a]=Bw(n,t),c=d=>{if(!d0(d))return;const{target:f}=d,m=e(f,d);if(typeof m!="function"||!f)return;const _=w=>{d0(w)&&(m(w),f.removeEventListener("pointerleave",_))};f.addEventListener("pointerleave",_,o)};return r.forEach(d=>{d.addEventListener("pointerenter",c,o)}),a}const Uw=(n,e)=>e?n===e?!0:Uw(n,e.parentElement):!1,km=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,kI=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function CI(n){return kI.has(n.tagName)||n.tabIndex!==-1}const Wu=new WeakSet;function f0(n){return e=>{e.key==="Enter"&&n(e)}}function Lf(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const PI=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=f0(()=>{if(Wu.has(t))return;Lf(t,"down");const o=f0(()=>{Lf(t,"up")}),a=()=>Lf(t,"cancel");t.addEventListener("keyup",o,e),t.addEventListener("blur",a,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function p0(n){return km(n)&&!Fw()}function RI(n,e,t={}){const[r,o,a]=Bw(n,t),c=d=>{const f=d.currentTarget;if(!p0(d))return;Wu.add(f);const m=e(f,d),_=(I,O)=>{window.removeEventListener("pointerup",w),window.removeEventListener("pointercancel",T),Wu.has(f)&&Wu.delete(f),p0(I)&&typeof m=="function"&&m(I,{success:O})},w=I=>{_(I,f===window||f===document||t.useGlobalTarget||Uw(f,I.target))},T=I=>{_(I,!1)};window.addEventListener("pointerup",w,o),window.addEventListener("pointercancel",T,o)};return r.forEach(d=>{(t.useGlobalTarget?window:d).addEventListener("pointerdown",c,o),Lw(d)&&(d.addEventListener("focus",m=>PI(m,o)),!CI(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),a}function zw(n){return ew(n)&&"ownerSVGElement"in n}function NI(n){return zw(n)&&n.tagName==="svg"}const sn=n=>!!(n&&n.getVelocity),DI=[...Vw,Pt,ci],VI=n=>DI.find(Dw(n)),Cm=X.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function m0(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function MI(...n){return e=>{let t=!1;const r=n.map(o=>{const a=m0(o,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let o=0;o<r.length;o++){const a=r[o];typeof a=="function"?a():m0(n[o],null)}}}}function jI(...n){return X.useCallback(MI(...n),n)}class OI extends X.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=t.offsetParent,o=Lw(r)&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=t.offsetHeight||0,a.width=t.offsetWidth||0,a.top=t.offsetTop,a.left=t.offsetLeft,a.right=o-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function LI({children:n,isPresent:e,anchorX:t,root:r}){const o=X.useId(),a=X.useRef(null),c=X.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=X.useContext(Cm),f=jI(a,n?.ref);return X.useInsertionEffect(()=>{const{width:m,height:_,top:w,left:T,right:I}=c.current;if(e||!a.current||!m||!_)return;const O=t==="left"?`left: ${T}`:`right: ${I}`;a.current.dataset.motionPopId=o;const B=document.createElement("style");d&&(B.nonce=d);const L=r??document.head;return L.appendChild(B),B.sheet&&B.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${_}px !important;
            ${O}px !important;
            top: ${w}px !important;
          }
        `),()=>{L.contains(B)&&L.removeChild(B)}},[e]),v.jsx(OI,{isPresent:e,childRef:a,sizeRef:c,children:X.cloneElement(n,{ref:f})})}const FI=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:o,presenceAffectsLayout:a,mode:c,anchorX:d,root:f})=>{const m=om(BI),_=X.useId();let w=!0,T=X.useMemo(()=>(w=!1,{id:_,initial:e,isPresent:t,custom:o,onExitComplete:I=>{m.set(I,!0);for(const O of m.values())if(!O)return;r&&r()},register:I=>(m.set(I,!1),()=>m.delete(I))}),[t,m,r]);return a&&w&&(T={...T}),X.useMemo(()=>{m.forEach((I,O)=>m.set(O,!1))},[t]),X.useEffect(()=>{!t&&!m.size&&r&&r()},[t]),c==="popLayout"&&(n=v.jsx(LI,{isPresent:t,anchorX:d,root:f,children:n})),v.jsx(Dh.Provider,{value:T,children:n})};function BI(){return new Map}function $w(n=!0){const e=X.useContext(Dh);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:o}=e,a=X.useId();X.useEffect(()=>{if(n)return o(a)},[n]);const c=X.useCallback(()=>n&&r&&r(a),[a,r,n]);return!t&&r?[!1,c]:[!0]}const Ru=n=>n.key||"";function g0(n){const e=[];return X.Children.forEach(n,t=>{X.isValidElement(t)&&e.push(t)}),e}const Hu=({children:n,custom:e,initial:t=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:a="sync",propagate:c=!1,anchorX:d="left",root:f})=>{const[m,_]=$w(c),w=X.useMemo(()=>g0(n),[n]),T=c&&!m?[]:w.map(Ru),I=X.useRef(!0),O=X.useRef(w),B=om(()=>new Map),[L,K]=X.useState(w),[Q,Y]=X.useState(w);JE(()=>{I.current=!1,O.current=w;for(let ie=0;ie<Q.length;ie++){const P=Ru(Q[ie]);T.includes(P)?B.delete(P):B.get(P)!==!0&&B.set(P,!1)}},[Q,T.length,T.join("-")]);const ue=[];if(w!==L){let ie=[...w];for(let P=0;P<Q.length;P++){const A=Q[P],b=Ru(A);T.includes(b)||(ie.splice(P,0,A),ue.push(A))}return a==="wait"&&ue.length&&(ie=ue),Y(g0(ie)),K(w),null}const{forceRender:ae}=X.useContext(im);return v.jsx(v.Fragment,{children:Q.map(ie=>{const P=Ru(ie),A=c&&!m?!1:w===Q||T.includes(P),b=()=>{if(B.has(P))B.set(P,!0);else return;let D=!0;B.forEach(R=>{R||(D=!1)}),D&&(ae?.(),Y(O.current),c&&_?.(),r&&r())};return v.jsx(FI,{isPresent:A,initial:!I.current||t?void 0:!1,custom:e,presenceAffectsLayout:o,mode:a,root:f,onExitComplete:A?void 0:b,anchorX:d,children:ie},P)})})},Ww=X.createContext({strict:!1}),y0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ha={};for(const n in y0)ha[n]={isEnabled:e=>y0[n].some(t=>!!e[t])};function UI(n){for(const e in n)ha[e]={...ha[e],...n[e]}}const zI=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ah(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||zI.has(n)}let Hw=n=>!ah(n);function $I(n){typeof n=="function"&&(Hw=e=>e.startsWith("on")?!ah(e):n(e))}try{$I(require("@emotion/is-prop-valid").default)}catch{}function WI(n,e,t){const r={};for(const o in n)o==="values"&&typeof n.values=="object"||(Hw(o)||t===!0&&ah(o)||!e&&!ah(o)||n.draggable&&o.startsWith("onDrag"))&&(r[o]=n[o]);return r}const Vh=X.createContext({});function Mh(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function ql(n){return typeof n=="string"||Array.isArray(n)}const Pm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Rm=["initial",...Pm];function jh(n){return Mh(n.animate)||Rm.some(e=>ql(n[e]))}function qw(n){return!!(jh(n)||n.variants)}function HI(n,e){if(jh(n)){const{initial:t,animate:r}=n;return{initial:t===!1||ql(t)?t:void 0,animate:ql(r)?r:void 0}}return n.inherit!==!1?e:{}}function qI(n){const{initial:e,animate:t}=HI(n,X.useContext(Vh));return X.useMemo(()=>({initial:e,animate:t}),[v0(e),v0(t)])}function v0(n){return Array.isArray(n)?n.join(" "):n}const Gl={};function GI(n){for(const e in n)Gl[e]=n[e],mm(e)&&(Gl[e].isCSSVariable=!0)}function Gw(n,{layout:e,layoutId:t}){return Aa.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Gl[n]||n==="opacity")}const KI={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},QI=Ta.length;function YI(n,e,t){let r="",o=!0;for(let a=0;a<QI;a++){const c=Ta[a],d=n[c];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(c.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||t){const m=Ow(d,Im[c]);if(!f){o=!1;const _=KI[c]||c;r+=`${_}(${m}) `}t&&(e[c]=m)}}return r=r.trim(),t?r=t(e,o?"":r):o&&(r="none"),r}function Nm(n,e,t){const{style:r,vars:o,transformOrigin:a}=n;let c=!1,d=!1;for(const f in e){const m=e[f];if(Aa.has(f)){c=!0;continue}else if(mm(f)){o[f]=m;continue}else{const _=Ow(m,Im[f]);f.startsWith("origin")?(d=!0,a[f]=_):r[f]=_}}if(e.transform||(c||t?r.transform=YI(e,n.transform,t):r.transform&&(r.transform="none")),d){const{originX:f="50%",originY:m="50%",originZ:_=0}=a;r.transformOrigin=`${f} ${m} ${_}`}}const Dm=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Kw(n,e,t){for(const r in e)!sn(e[r])&&!Gw(r,t)&&(n[r]=e[r])}function XI({transformTemplate:n},e){return X.useMemo(()=>{const t=Dm();return Nm(t,e,n),Object.assign({},t.vars,t.style)},[e])}function JI(n,e){const t=n.style||{},r={};return Kw(r,t,n),Object.assign(r,XI(n,e)),r}function ZI(n,e){const t={},r=JI(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}const eb={offset:"stroke-dashoffset",array:"stroke-dasharray"},tb={offset:"strokeDashoffset",array:"strokeDasharray"};function nb(n,e,t=1,r=0,o=!0){n.pathLength=1;const a=o?eb:tb;n[a.offset]=ke.transform(-r);const c=ke.transform(e),d=ke.transform(t);n[a.array]=`${c} ${d}`}function Qw(n,{attrX:e,attrY:t,attrScale:r,pathLength:o,pathSpacing:a=1,pathOffset:c=0,...d},f,m,_){if(Nm(n,d,m),f){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:w,style:T}=n;w.transform&&(T.transform=w.transform,delete w.transform),(T.transform||w.transformOrigin)&&(T.transformOrigin=w.transformOrigin??"50% 50%",delete w.transformOrigin),T.transform&&(T.transformBox=_?.transformBox??"fill-box",delete w.transformBox),e!==void 0&&(w.x=e),t!==void 0&&(w.y=t),r!==void 0&&(w.scale=r),o!==void 0&&nb(w,o,a,c,!1)}const Yw=()=>({...Dm(),attrs:{}}),Xw=n=>typeof n=="string"&&n.toLowerCase()==="svg";function rb(n,e,t,r){const o=X.useMemo(()=>{const a=Yw();return Qw(a,e,Xw(r),n.transformTemplate,n.style),{...a.attrs,style:{...a.style}}},[e]);if(n.style){const a={};Kw(a,n.style,n),o.style={...a,...o.style}}return o}const sb=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Vm(n){return typeof n!="string"||n.includes("-")?!1:!!(sb.indexOf(n)>-1||/[A-Z]/u.test(n))}function ib(n,e,t,{latestValues:r},o,a=!1){const d=(Vm(n)?rb:ZI)(e,r,o,n),f=WI(e,typeof n=="string",a),m=n!==X.Fragment?{...f,...d,ref:t}:{},{children:_}=e,w=X.useMemo(()=>sn(_)?_.get():_,[_]);return X.createElement(n,{...m,children:w})}function _0(n){const e=[{},{}];return n?.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function Mm(n,e,t,r){if(typeof e=="function"){const[o,a]=_0(r);e=e(t!==void 0?t:n.custom,o,a)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[o,a]=_0(r);e=e(t!==void 0?t:n.custom,o,a)}return e}function qu(n){return sn(n)?n.get():n}function ob({scrapeMotionValuesFromProps:n,createRenderState:e},t,r,o){return{latestValues:ab(t,r,o,n),renderState:e()}}function ab(n,e,t,r){const o={},a=r(n,{});for(const T in a)o[T]=qu(a[T]);let{initial:c,animate:d}=n;const f=jh(n),m=qw(n);e&&m&&!f&&n.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let _=t?t.initial===!1:!1;_=_||c===!1;const w=_?d:c;if(w&&typeof w!="boolean"&&!Mh(w)){const T=Array.isArray(w)?w:[w];for(let I=0;I<T.length;I++){const O=Mm(n,T[I]);if(O){const{transitionEnd:B,transition:L,...K}=O;for(const Q in K){let Y=K[Q];if(Array.isArray(Y)){const ue=_?Y.length-1:0;Y=Y[ue]}Y!==null&&(o[Q]=Y)}for(const Q in B)o[Q]=B[Q]}}}return o}const Jw=n=>(e,t)=>{const r=X.useContext(Vh),o=X.useContext(Dh),a=()=>ob(n,e,r,o);return t?a():om(a)};function jm(n,e,t){const{style:r}=n,o={};for(const a in r)(sn(r[a])||e.style&&sn(e.style[a])||Gw(a,n)||t?.getValue(a)?.liveStyle!==void 0)&&(o[a]=r[a]);return o}const lb=Jw({scrapeMotionValuesFromProps:jm,createRenderState:Dm});function Zw(n,e,t){const r=jm(n,e,t);for(const o in n)if(sn(n[o])||sn(e[o])){const a=Ta.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[a]=n[o]}return r}const cb=Jw({scrapeMotionValuesFromProps:Zw,createRenderState:Yw}),ub=Symbol.for("motionComponentSymbol");function ta(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function hb(n,e,t){return X.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):ta(t)&&(t.current=r))},[e])}const Om=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),db="framerAppearId",e1="data-"+Om(db),t1=X.createContext({});function fb(n,e,t,r,o){const{visualElement:a}=X.useContext(Vh),c=X.useContext(Ww),d=X.useContext(Dh),f=X.useContext(Cm).reducedMotion,m=X.useRef(null);r=r||c.renderer,!m.current&&r&&(m.current=r(n,{visualState:e,parent:a,props:t,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:f}));const _=m.current,w=X.useContext(t1);_&&!_.projection&&o&&(_.type==="html"||_.type==="svg")&&pb(m.current,t,o,w);const T=X.useRef(!1);X.useInsertionEffect(()=>{_&&T.current&&_.update(t,d)});const I=t[e1],O=X.useRef(!!I&&!window.MotionHandoffIsComplete?.(I)&&window.MotionHasOptimisedAnimation?.(I));return JE(()=>{_&&(T.current=!0,window.MotionIsMounted=!0,_.updateFeatures(),_.scheduleRenderMicrotask(),O.current&&_.animationState&&_.animationState.animateChanges())}),X.useEffect(()=>{_&&(!O.current&&_.animationState&&_.animationState.animateChanges(),O.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(I)}),O.current=!1),_.enteringChildren=void 0)}),_}function pb(n,e,t,r){const{layoutId:o,layout:a,drag:c,dragConstraints:d,layoutScroll:f,layoutRoot:m,layoutCrossfade:_}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:n1(n.parent)),n.projection.setOptions({layoutId:o,layout:a,alwaysMeasureLayout:!!c||d&&ta(d),visualElement:n,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:_,layoutScroll:f,layoutRoot:m})}function n1(n){if(n)return n.options.allowProjection!==!1?n.projection:n1(n.parent)}function Ff(n,{forwardMotionProps:e=!1}={},t,r){t&&UI(t);const o=Vm(n)?cb:lb;function a(d,f){let m;const _={...X.useContext(Cm),...d,layoutId:mb(d)},{isStatic:w}=_,T=qI(d),I=o(d,w);if(!w&&am){gb();const O=yb(_);m=O.MeasureLayout,T.visualElement=fb(n,I,_,r,O.ProjectionNode)}return v.jsxs(Vh.Provider,{value:T,children:[m&&T.visualElement?v.jsx(m,{visualElement:T.visualElement,..._}):null,ib(n,d,hb(I,T.visualElement,f),I,w,e)]})}a.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const c=X.forwardRef(a);return c[ub]=n,c}function mb({layoutId:n}){const e=X.useContext(im).id;return e&&n!==void 0?e+"-"+n:n}function gb(n,e){X.useContext(Ww).strict}function yb(n){const{drag:e,layout:t}=ha;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e?.isEnabled(n)||t?.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function vb(n,e){if(typeof Proxy>"u")return Ff;const t=new Map,r=(a,c)=>Ff(a,c,n,e),o=(a,c)=>r(a,c);return new Proxy(o,{get:(a,c)=>c==="create"?r:(t.has(c)||t.set(c,Ff(c,void 0,n,e)),t.get(c))})}function r1({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function _b({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function Eb(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function Bf(n){return n===void 0||n===1}function Ap({scale:n,scaleX:e,scaleY:t}){return!Bf(n)||!Bf(e)||!Bf(t)}function Gi(n){return Ap(n)||s1(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function s1(n){return E0(n.x)||E0(n.y)}function E0(n){return n&&n!=="0%"}function lh(n,e,t){const r=n-t,o=e*r;return t+o}function w0(n,e,t,r,o){return o!==void 0&&(n=lh(n,o,r)),lh(n,t,r)+e}function Sp(n,e=0,t=1,r,o){n.min=w0(n.min,e,t,r,o),n.max=w0(n.max,e,t,r,o)}function i1(n,{x:e,y:t}){Sp(n.x,e.translate,e.scale,e.originPoint),Sp(n.y,t.translate,t.scale,t.originPoint)}const x0=.999999999999,T0=1.0000000000001;function wb(n,e,t,r=!1){const o=t.length;if(!o)return;e.x=e.y=1;let a,c;for(let d=0;d<o;d++){a=t[d],c=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&ra(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,i1(n,c)),r&&Gi(a.latestValues)&&ra(n,a.latestValues))}e.x<T0&&e.x>x0&&(e.x=1),e.y<T0&&e.y>x0&&(e.y=1)}function na(n,e){n.min=n.min+e,n.max=n.max+e}function A0(n,e,t,r,o=.5){const a=yt(n.min,n.max,o);Sp(n,e,t,a,r)}function ra(n,e){A0(n.x,e.x,e.scaleX,e.scale,e.originX),A0(n.y,e.y,e.scaleY,e.scale,e.originY)}function o1(n,e){return r1(Eb(n.getBoundingClientRect(),e))}function xb(n,e,t){const r=o1(n,t),{scroll:o}=e;return o&&(na(r.x,o.offset.x),na(r.y,o.offset.y)),r}const S0=()=>({translate:0,scale:1,origin:0,originPoint:0}),sa=()=>({x:S0(),y:S0()}),I0=()=>({min:0,max:0}),St=()=>({x:I0(),y:I0()}),Ip={current:null},a1={current:!1};function Tb(){if(a1.current=!0,!!am)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ip.current=n.matches;n.addEventListener("change",e),e()}else Ip.current=!1}const Ab=new WeakMap;function Sb(n,e,t){for(const r in e){const o=e[r],a=t[r];if(sn(o))n.addValue(r,o);else if(sn(a))n.addValue(r,ua(o,{owner:n}));else if(a!==o)if(n.hasValue(r)){const c=n.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=n.getStaticValue(r);n.addValue(r,ua(c!==void 0?c:o,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const b0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Ib{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:a,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Am,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=Tn.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,ft.render(this.render,!1,!0))};const{latestValues:f,renderState:m}=c;this.latestValues=f,this.baseTarget={...f},this.initialValues=t.initial?{...f}:{},this.renderState=m,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!a,this.isControllingVariants=jh(t),this.isVariantNode=qw(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:_,...w}=this.scrapeMotionValuesFromProps(t,{},this);for(const T in w){const I=w[T];f[T]!==void 0&&sn(I)&&I.set(f[T])}}mount(e){this.current=e,Ab.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),a1.current||Tb(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ip.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),li(this.notifyUpdate),li(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Aa.has(e);r&&this.onBindTransform&&this.onBindTransform();const o=t.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&ft.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{o(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ha){const t=ha[e];if(!t)continue;const{isEnabled:r,Feature:o}=t;if(!this.features[e]&&o&&r(this.props)&&(this.features[e]=new o(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):St()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<b0.length;r++){const o=b0[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const a="on"+o,c=e[a];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=Sb(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=ua(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(ZE(r)||tw(r))?r=parseFloat(r):!VI(r)&&ci.test(t)&&(r=jw(e,t)),this.setBaseTarget(e,sn(r)?r.get():r)),sn(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let r;if(typeof t=="string"||typeof t=="object"){const a=Mm(this.props,t,this.presenceContext?.custom);a&&(r=a[e])}if(t&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!sn(o)?o:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new dm),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){bm.render(this.render)}}class l1 extends Ib{constructor(){super(...arguments),this.KeyframeResolver=xI}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;sn(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function c1(n,{style:e,vars:t},r,o){const a=n.style;let c;for(c in e)a[c]=e[c];o?.applyProjectionStyles(a,r);for(c in t)a.setProperty(c,t[c])}function bb(n){return window.getComputedStyle(n)}class kb extends l1{constructor(){super(...arguments),this.type="html",this.renderInstance=c1}readValueFromInstance(e,t){if(Aa.has(t))return this.projection?.isProjecting?yp(t):US(e,t);{const r=bb(e),o=(mm(t)?r.getPropertyValue(t):r[t])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:t}){return o1(e,t)}build(e,t,r){Nm(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return jm(e,t,r)}}const u1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Cb(n,e,t,r){c1(n,e,void 0,r);for(const o in e.attrs)n.setAttribute(u1.has(o)?o:Om(o),e.attrs[o])}class Pb extends l1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=St}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Aa.has(t)){const r=Mw(t);return r&&r.default||0}return t=u1.has(t)?t:Om(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return Zw(e,t,r)}build(e,t,r){Qw(e,t,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,t,r,o){Cb(e,t,r,o)}mount(e){this.isSVGTag=Xw(e.tagName),super.mount(e)}}const Rb=(n,e)=>Vm(n)?new Pb(e):new kb(e,{allowProjection:n!==X.Fragment});function ia(n,e,t){const r=n.getProps();return Mm(r,e,t!==void 0?t:r.custom,n)}const bp=n=>Array.isArray(n);function Nb(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,ua(t))}function Db(n){return bp(n)?n[n.length-1]||0:n}function Vb(n,e){const t=ia(n,e);let{transitionEnd:r={},transition:o={},...a}=t||{};a={...a,...r};for(const c in a){const d=Db(a[c]);Nb(n,c,d)}}function Mb(n){return!!(sn(n)&&n.add)}function kp(n,e){const t=n.getValue("willChange");if(Mb(t))return t.add(e);if(!t&&gs.WillChange){const r=new gs.WillChange("auto");n.addValue("willChange",r),r.add(e)}}function h1(n){return n.props[e1]}const jb=n=>n!==null;function Ob(n,{repeat:e,repeatType:t="loop"},r){const o=n.filter(jb),a=e&&t!=="loop"&&e%2===1?0:o.length-1;return o[a]}const Lb={type:"spring",stiffness:500,damping:25,restSpeed:10},Fb=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),Bb={type:"keyframes",duration:.8},Ub={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},zb=(n,{keyframes:e})=>e.length>2?Bb:Aa.has(n)?n.startsWith("scale")?Fb(e[1]):Lb:Ub;function $b({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:o,repeat:a,repeatType:c,repeatDelay:d,from:f,elapsed:m,..._}){return!!Object.keys(_).length}const Lm=(n,e,t,r={},o,a)=>c=>{const d=Sm(r,n)||{},f=d.delay||r.delay||0;let{elapsed:m=0}=r;m=m-Mr(f);const _={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-m,onUpdate:T=>{e.set(T),d.onUpdate&&d.onUpdate(T)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:n,motionValue:e,element:a?void 0:o};$b(d)||Object.assign(_,zb(n,_)),_.duration&&(_.duration=Mr(_.duration)),_.repeatDelay&&(_.repeatDelay=Mr(_.repeatDelay)),_.from!==void 0&&(_.keyframes[0]=_.from);let w=!1;if((_.type===!1||_.duration===0&&!_.repeatDelay)&&(xp(_),_.delay===0&&(w=!0)),(gs.instantAnimations||gs.skipAnimations)&&(w=!0,xp(_),_.delay=0),_.allowFlatten=!d.type&&!d.ease,w&&!a&&e.get()!==void 0){const T=Ob(_.keyframes,d);if(T!==void 0){ft.update(()=>{_.onUpdate(T),_.onComplete()});return}}return d.isSync?new Tm(_):new uI(_)};function Wb({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function d1(n,e,{delay:t=0,transitionOverride:r,type:o}={}){let{transition:a=n.getDefaultTransition(),transitionEnd:c,...d}=e;r&&(a=r);const f=[],m=o&&n.animationState&&n.animationState.getState()[o];for(const _ in d){const w=n.getValue(_,n.latestValues[_]??null),T=d[_];if(T===void 0||m&&Wb(m,_))continue;const I={delay:t,...Sm(a||{},_)},O=w.get();if(O!==void 0&&!w.isAnimating&&!Array.isArray(T)&&T===O&&!I.velocity)continue;let B=!1;if(window.MotionHandoffAnimation){const K=h1(n);if(K){const Q=window.MotionHandoffAnimation(K,_,ft);Q!==null&&(I.startTime=Q,B=!0)}}kp(n,_),w.start(Lm(_,w,T,n.shouldReduceMotion&&Nw.has(_)?{type:!1}:I,n,B));const L=w.animation;L&&f.push(L)}return c&&Promise.all(f).then(()=>{ft.update(()=>{c&&Vb(n,c)})}),f}function f1(n,e,t,r=0,o=1){const a=Array.from(n).sort((m,_)=>m.sortNodePosition(_)).indexOf(e),c=n.size,d=(c-1)*r;return typeof t=="function"?t(a,c):o===1?a*r:d-a*r}function Cp(n,e,t={}){const r=ia(n,e,t.type==="exit"?n.presenceContext?.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(o=t.transitionOverride);const a=r?()=>Promise.all(d1(n,r,t)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(f=0)=>{const{delayChildren:m=0,staggerChildren:_,staggerDirection:w}=o;return Hb(n,e,f,m,_,w,t)}:()=>Promise.resolve(),{when:d}=o;if(d){const[f,m]=d==="beforeChildren"?[a,c]:[c,a];return f().then(()=>m())}else return Promise.all([a(),c(t.delay)])}function Hb(n,e,t=0,r=0,o=0,a=1,c){const d=[];for(const f of n.variantChildren)f.notify("AnimationStart",e),d.push(Cp(f,e,{...c,delay:t+(typeof r=="function"?0:r)+f1(n.variantChildren,f,r,o,a)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(d)}function qb(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(a=>Cp(n,a,t));r=Promise.all(o)}else if(typeof e=="string")r=Cp(n,e,t);else{const o=typeof e=="function"?ia(n,e,t.custom):e;r=Promise.all(d1(n,o,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}function p1(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}const Gb=Rm.length;function m1(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?m1(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<Gb;t++){const r=Rm[t],o=n.props[r];(ql(o)||o===!1)&&(e[r]=o)}return e}const Kb=[...Pm].reverse(),Qb=Pm.length;function Yb(n){return e=>Promise.all(e.map(({animation:t,options:r})=>qb(n,t,r)))}function Xb(n){let e=Yb(n),t=k0(),r=!0;const o=f=>(m,_)=>{const w=ia(n,_,f==="exit"?n.presenceContext?.custom:void 0);if(w){const{transition:T,transitionEnd:I,...O}=w;m={...m,...O,...I}}return m};function a(f){e=f(n)}function c(f){const{props:m}=n,_=m1(n.parent)||{},w=[],T=new Set;let I={},O=1/0;for(let L=0;L<Qb;L++){const K=Kb[L],Q=t[K],Y=m[K]!==void 0?m[K]:_[K],ue=ql(Y),ae=K===f?Q.isActive:null;ae===!1&&(O=L);let ie=Y===_[K]&&Y!==m[K]&&ue;if(ie&&r&&n.manuallyAnimateOnMount&&(ie=!1),Q.protectedKeys={...I},!Q.isActive&&ae===null||!Y&&!Q.prevProp||Mh(Y)||typeof Y=="boolean")continue;const P=Jb(Q.prevProp,Y);let A=P||K===f&&Q.isActive&&!ie&&ue||L>O&&ue,b=!1;const D=Array.isArray(Y)?Y:[Y];let R=D.reduce(o(K),{});ae===!1&&(R={});const{prevResolvedValues:F={}}=Q,C={...F,...R},Le=Te=>{A=!0,T.has(Te)&&(b=!0,T.delete(Te)),Q.needsAnimating[Te]=!0;const j=n.getValue(Te);j&&(j.liveStyle=!1)};for(const Te in C){const j=R[Te],J=F[Te];if(I.hasOwnProperty(Te))continue;let U=!1;bp(j)&&bp(J)?U=!p1(j,J):U=j!==J,U?j!=null?Le(Te):T.add(Te):j!==void 0&&T.has(Te)?Le(Te):Q.protectedKeys[Te]=!0}Q.prevProp=Y,Q.prevResolvedValues=R,Q.isActive&&(I={...I,...R}),r&&n.blockInitialAnimation&&(A=!1);const Ge=ie&&P;A&&(!Ge||b)&&w.push(...D.map(Te=>{const j={type:K};if(typeof Te=="string"&&r&&!Ge&&n.manuallyAnimateOnMount&&n.parent){const{parent:J}=n,U=ia(J,Te);if(J.enteringChildren&&U){const{delayChildren:N}=U.transition||{};j.delay=f1(J.enteringChildren,n,N)}}return{animation:Te,options:j}}))}if(T.size){const L={};if(typeof m.initial!="boolean"){const K=ia(n,Array.isArray(m.initial)?m.initial[0]:m.initial);K&&K.transition&&(L.transition=K.transition)}T.forEach(K=>{const Q=n.getBaseTarget(K),Y=n.getValue(K);Y&&(Y.liveStyle=!0),L[K]=Q??null}),w.push({animation:L})}let B=!!w.length;return r&&(m.initial===!1||m.initial===m.animate)&&!n.manuallyAnimateOnMount&&(B=!1),r=!1,B?e(w):Promise.resolve()}function d(f,m){if(t[f].isActive===m)return Promise.resolve();n.variantChildren?.forEach(w=>w.animationState?.setActive(f,m)),t[f].isActive=m;const _=c(f);for(const w in t)t[w].protectedKeys={};return _}return{animateChanges:c,setActive:d,setAnimateFunction:a,getState:()=>t,reset:()=>{t=k0()}}}function Jb(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!p1(e,n):!1}function Hi(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function k0(){return{animate:Hi(!0),whileInView:Hi(),whileHover:Hi(),whileTap:Hi(),whileDrag:Hi(),whileFocus:Hi(),exit:Hi()}}class gi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Zb extends gi{constructor(e){super(e),e.animationState||(e.animationState=Xb(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Mh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let ek=0;class tk extends gi{constructor(){super(...arguments),this.id=ek++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const o=this.node.animationState.setActive("exit",!e);t&&!e&&o.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const nk={animation:{Feature:Zb},exit:{Feature:tk}};function Kl(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function ic(n){return{point:{x:n.pageX,y:n.pageY}}}const rk=n=>e=>km(e)&&n(e,ic(e));function Dl(n,e,t,r){return Kl(n,e,rk(t),r)}const g1=1e-4,sk=1-g1,ik=1+g1,y1=.01,ok=0-y1,ak=0+y1;function hn(n){return n.max-n.min}function lk(n,e,t){return Math.abs(n-e)<=t}function C0(n,e,t,r=.5){n.origin=r,n.originPoint=yt(e.min,e.max,n.origin),n.scale=hn(t)/hn(e),n.translate=yt(t.min,t.max,n.origin)-n.originPoint,(n.scale>=sk&&n.scale<=ik||isNaN(n.scale))&&(n.scale=1),(n.translate>=ok&&n.translate<=ak||isNaN(n.translate))&&(n.translate=0)}function Vl(n,e,t,r){C0(n.x,e.x,t.x,r?r.originX:void 0),C0(n.y,e.y,t.y,r?r.originY:void 0)}function P0(n,e,t){n.min=t.min+e.min,n.max=n.min+hn(e)}function ck(n,e,t){P0(n.x,e.x,t.x),P0(n.y,e.y,t.y)}function R0(n,e,t){n.min=e.min-t.min,n.max=n.min+hn(e)}function Ml(n,e,t){R0(n.x,e.x,t.x),R0(n.y,e.y,t.y)}function Kn(n){return[n("x"),n("y")]}const v1=({current:n})=>n?n.ownerDocument.defaultView:null,N0=(n,e)=>Math.abs(n-e);function uk(n,e){const t=N0(n.x,e.x),r=N0(n.y,e.y);return Math.sqrt(t**2+r**2)}class _1{constructor(e,t,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:a=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=zf(this.lastMoveEventInfo,this.history),I=this.startEvent!==null,O=uk(T.offset,{x:0,y:0})>=this.distanceThreshold;if(!I&&!O)return;const{point:B}=T,{timestamp:L}=qt;this.history.push({...B,timestamp:L});const{onStart:K,onMove:Q}=this.handlers;I||(K&&K(this.lastMoveEvent,T),this.startEvent=this.lastMoveEvent),Q&&Q(this.lastMoveEvent,T)},this.handlePointerMove=(T,I)=>{this.lastMoveEvent=T,this.lastMoveEventInfo=Uf(I,this.transformPagePoint),ft.update(this.updatePoint,!0)},this.handlePointerUp=(T,I)=>{this.end();const{onEnd:O,onSessionEnd:B,resumeAnimation:L}=this.handlers;if(this.dragSnapToOrigin&&L&&L(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const K=zf(T.type==="pointercancel"?this.lastMoveEventInfo:Uf(I,this.transformPagePoint),this.history);this.startEvent&&O&&O(T,K),B&&B(T,K)},!km(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=o||window;const d=ic(e),f=Uf(d,this.transformPagePoint),{point:m}=f,{timestamp:_}=qt;this.history=[{...m,timestamp:_}];const{onSessionStart:w}=t;w&&w(e,zf(f,this.history)),this.removeListeners=nc(Dl(this.contextWindow,"pointermove",this.handlePointerMove),Dl(this.contextWindow,"pointerup",this.handlePointerUp),Dl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),li(this.updatePoint)}}function Uf(n,e){return e?{point:e(n.point)}:n}function D0(n,e){return{x:n.x-e.x,y:n.y-e.y}}function zf({point:n},e){return{point:n,delta:D0(n,E1(e)),offset:D0(n,hk(e)),velocity:dk(e,.1)}}function hk(n){return n[0]}function E1(n){return n[n.length-1]}function dk(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const o=E1(n);for(;t>=0&&(r=n[t],!(o.timestamp-r.timestamp>Mr(e)));)t--;if(!r)return{x:0,y:0};const a=Yn(o.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const c={x:(o.x-r.x)/a,y:(o.y-r.y)/a};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function fk(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?yt(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?yt(t,n,r.max):Math.min(n,t)),n}function V0(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function pk(n,{top:e,left:t,bottom:r,right:o}){return{x:V0(n.x,t,o),y:V0(n.y,e,r)}}function M0(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function mk(n,e){return{x:M0(n.x,e.x),y:M0(n.y,e.y)}}function gk(n,e){let t=.5;const r=hn(n),o=hn(e);return o>r?t=$l(e.min,e.max-r,n.min):r>o&&(t=$l(n.min,n.max-o,e.min)),ms(0,1,t)}function yk(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Pp=.35;function vk(n=Pp){return n===!1?n=0:n===!0&&(n=Pp),{x:j0(n,"left","right"),y:j0(n,"top","bottom")}}function j0(n,e,t){return{min:O0(n,e),max:O0(n,t)}}function O0(n,e){return typeof n=="number"?n:n[e]||0}const _k=new WeakMap;class Ek{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=St(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const a=w=>{const{dragSnapToOrigin:T}=this.getProps();T?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(ic(w).point)},c=(w,T)=>{const{drag:I,dragPropagation:O,onDragStart:B}=this.getProps();if(I&&!O&&(this.openDragLock&&this.openDragLock(),this.openDragLock=II(I),!this.openDragLock))return;this.latestPointerEvent=w,this.latestPanInfo=T,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Kn(K=>{let Q=this.getAxisMotionValue(K).get()||0;if(jr.test(Q)){const{projection:Y}=this.visualElement;if(Y&&Y.layout){const ue=Y.layout.layoutBox[K];ue&&(Q=hn(ue)*(parseFloat(Q)/100))}}this.originPoint[K]=Q}),B&&ft.postRender(()=>B(w,T)),kp(this.visualElement,"transform");const{animationState:L}=this.visualElement;L&&L.setActive("whileDrag",!0)},d=(w,T)=>{this.latestPointerEvent=w,this.latestPanInfo=T;const{dragPropagation:I,dragDirectionLock:O,onDirectionLock:B,onDrag:L}=this.getProps();if(!I&&!this.openDragLock)return;const{offset:K}=T;if(O&&this.currentDirection===null){this.currentDirection=wk(K),this.currentDirection!==null&&B&&B(this.currentDirection);return}this.updateAxis("x",T.point,K),this.updateAxis("y",T.point,K),this.visualElement.render(),L&&L(w,T)},f=(w,T)=>{this.latestPointerEvent=w,this.latestPanInfo=T,this.stop(w,T),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>Kn(w=>this.getAnimationState(w)==="paused"&&this.getAxisMotionValue(w).animation?.play()),{dragSnapToOrigin:_}=this.getProps();this.panSession=new _1(e,{onSessionStart:a,onStart:c,onMove:d,onSessionEnd:f,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:_,distanceThreshold:r,contextWindow:v1(this.visualElement)})}stop(e,t){const r=e||this.latestPointerEvent,o=t||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!o||!r)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&ft.postRender(()=>d(r,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:o}=this.getProps();if(!r||!Nu(e,o,this.currentDirection))return;const a=this.getAxisMotionValue(e);let c=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(c=fk(c,this.constraints[e],this.elastic[e])),a.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;e&&ta(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=pk(r.layoutBox,e):this.constraints=!1,this.elastic=vk(t),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Kn(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=yk(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!ta(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const a=xb(r,o.root,this.visualElement.getTransformPagePoint());let c=mk(o.layout.layoutBox,a);if(t){const d=t(_b(c));this.hasMutatedConstraints=!!d,d&&(c=r1(d))}return c}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:o,dragTransition:a,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},m=Kn(_=>{if(!Nu(_,t,this.currentDirection))return;let w=f&&f[_]||{};c&&(w={min:0,max:0});const T=o?200:1e6,I=o?40:1e7,O={type:"inertia",velocity:r?e[_]:0,bounceStiffness:T,bounceDamping:I,timeConstant:750,restDelta:1,restSpeed:10,...a,...w};return this.startAxisValueAnimation(_,O)});return Promise.all(m).then(d)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return kp(this.visualElement,e),r.start(Lm(e,r,0,t,this.visualElement,!1))}stopAnimation(){Kn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Kn(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),o=r[t];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Kn(t=>{const{drag:r}=this.getProps();if(!Nu(t,r,this.currentDirection))return;const{projection:o}=this.visualElement,a=this.getAxisMotionValue(t);if(o&&o.layout){const{min:c,max:d}=o.layout.layoutBox[t];a.set(e[t]-yt(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!ta(t)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Kn(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const f=d.get();o[c]=gk({min:f,max:f},this.constraints[c])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Kn(c=>{if(!Nu(c,e,null))return;const d=this.getAxisMotionValue(c),{min:f,max:m}=this.constraints[c];d.set(yt(f,m,o[c]))})}addListeners(){if(!this.visualElement.current)return;_k.set(this.visualElement,this);const e=this.visualElement.current,t=Dl(e,"pointerdown",f=>{const{drag:m,dragListener:_=!0}=this.getProps();m&&_&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();ta(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,a=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),ft.read(r);const c=Kl(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:m})=>{this.isDragging&&m&&(Kn(_=>{const w=this.getAxisMotionValue(_);w&&(this.originPoint[_]+=f[_].translate,w.set(w.get()+f[_].translate))}),this.visualElement.render())}));return()=>{c(),t(),a(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:a=!1,dragElastic:c=Pp,dragMomentum:d=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:o,dragConstraints:a,dragElastic:c,dragMomentum:d}}}function Nu(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function wk(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class xk extends gi{constructor(e){super(e),this.removeGroupControls=Xn,this.removeListeners=Xn,this.controls=new Ek(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Xn}unmount(){this.removeGroupControls(),this.removeListeners()}}const L0=n=>(e,t)=>{n&&ft.postRender(()=>n(e,t))};class Tk extends gi{constructor(){super(...arguments),this.removePointerDownListener=Xn}onPointerDown(e){this.session=new _1(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:v1(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:L0(e),onStart:L0(t),onMove:r,onEnd:(a,c)=>{delete this.session,o&&ft.postRender(()=>o(a,c))}}}mount(){this.removePointerDownListener=Dl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Gu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function F0(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Al={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(ke.test(n))n=parseFloat(n);else return n;const t=F0(n,e.target.x),r=F0(n,e.target.y);return`${t}% ${r}%`}},Ak={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,o=ci.parse(n);if(o.length>5)return r;const a=ci.createTransformer(n),c=typeof o[0]!="number"?1:0,d=t.x.scale*e.x,f=t.y.scale*e.y;o[0+c]/=d,o[1+c]/=f;const m=yt(d,f,.5);return typeof o[2+c]=="number"&&(o[2+c]/=m),typeof o[3+c]=="number"&&(o[3+c]/=m),a(o)}};let $f=!1;class Sk extends X.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:o}=this.props,{projection:a}=e;GI(Ik),a&&(t.group&&t.group.add(a),r&&r.register&&o&&r.register(a),$f&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Gu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:o,isPresent:a}=this.props,{projection:c}=r;return c&&(c.isPresent=a,$f=!0,o||e.layoutDependency!==t||t===void 0||e.isPresent!==a?c.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?c.promote():c.relegate()||ft.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),bm.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:o}=e;$f=!0,o&&(o.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function w1(n){const[e,t]=$w(),r=X.useContext(im);return v.jsx(Sk,{...n,layoutGroup:r,switchLayoutGroup:X.useContext(t1),isPresent:e,safeToRemove:t})}const Ik={borderRadius:{...Al,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Al,borderTopRightRadius:Al,borderBottomLeftRadius:Al,borderBottomRightRadius:Al,boxShadow:Ak};function bk(n,e,t){const r=sn(n)?n:ua(n);return r.start(Lm("",r,e,t)),r.animation}const kk=(n,e)=>n.depth-e.depth;class Ck{constructor(){this.children=[],this.isDirty=!1}add(e){lm(this.children,e),this.isDirty=!0}remove(e){cm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(kk),this.isDirty=!1,this.children.forEach(e)}}function Pk(n,e){const t=Tn.now(),r=({timestamp:o})=>{const a=o-t;a>=e&&(li(r),n(a-e))};return ft.setup(r,!0),()=>li(r)}const x1=["TopLeft","TopRight","BottomLeft","BottomRight"],Rk=x1.length,B0=n=>typeof n=="string"?parseFloat(n):n,U0=n=>typeof n=="number"||ke.test(n);function Nk(n,e,t,r,o,a){o?(n.opacity=yt(0,t.opacity??1,Dk(r)),n.opacityExit=yt(e.opacity??1,0,Vk(r))):a&&(n.opacity=yt(e.opacity??1,t.opacity??1,r));for(let c=0;c<Rk;c++){const d=`border${x1[c]}Radius`;let f=z0(e,d),m=z0(t,d);if(f===void 0&&m===void 0)continue;f||(f=0),m||(m=0),f===0||m===0||U0(f)===U0(m)?(n[d]=Math.max(yt(B0(f),B0(m),r),0),(jr.test(m)||jr.test(f))&&(n[d]+="%")):n[d]=m}(e.rotate||t.rotate)&&(n.rotate=yt(e.rotate||0,t.rotate||0,r))}function z0(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const Dk=T1(0,.5,cw),Vk=T1(.5,.95,Xn);function T1(n,e,t){return r=>r<n?0:r>e?1:t($l(n,e,r))}function $0(n,e){n.min=e.min,n.max=e.max}function Gn(n,e){$0(n.x,e.x),$0(n.y,e.y)}function W0(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function H0(n,e,t,r,o){return n-=e,n=lh(n,1/t,r),o!==void 0&&(n=lh(n,1/o,r)),n}function Mk(n,e=0,t=1,r=.5,o,a=n,c=n){if(jr.test(e)&&(e=parseFloat(e),e=yt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=yt(a.min,a.max,r);n===a&&(d-=e),n.min=H0(n.min,e,t,d,o),n.max=H0(n.max,e,t,d,o)}function q0(n,e,[t,r,o],a,c){Mk(n,e[t],e[r],e[o],e.scale,a,c)}const jk=["x","scaleX","originX"],Ok=["y","scaleY","originY"];function G0(n,e,t,r){q0(n.x,e,jk,t?t.x:void 0,r?r.x:void 0),q0(n.y,e,Ok,t?t.y:void 0,r?r.y:void 0)}function K0(n){return n.translate===0&&n.scale===1}function A1(n){return K0(n.x)&&K0(n.y)}function Q0(n,e){return n.min===e.min&&n.max===e.max}function Lk(n,e){return Q0(n.x,e.x)&&Q0(n.y,e.y)}function Y0(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function S1(n,e){return Y0(n.x,e.x)&&Y0(n.y,e.y)}function X0(n){return hn(n.x)/hn(n.y)}function J0(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class Fk{constructor(){this.members=[]}add(e){lm(this.members,e),e.scheduleRender()}remove(e){if(cm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(o=>e===o);if(t===0)return!1;let r;for(let o=t;o>=0;o--){const a=this.members[o];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Bk(n,e,t){let r="";const o=n.x.translate/e.x,a=n.y.translate/e.y,c=t?.z||0;if((o||a||c)&&(r=`translate3d(${o}px, ${a}px, ${c}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:m,rotate:_,rotateX:w,rotateY:T,skewX:I,skewY:O}=t;m&&(r=`perspective(${m}px) ${r}`),_&&(r+=`rotate(${_}deg) `),w&&(r+=`rotateX(${w}deg) `),T&&(r+=`rotateY(${T}deg) `),I&&(r+=`skewX(${I}deg) `),O&&(r+=`skewY(${O}deg) `)}const d=n.x.scale*e.x,f=n.y.scale*e.y;return(d!==1||f!==1)&&(r+=`scale(${d}, ${f})`),r||"none"}const Wf=["","X","Y","Z"],Uk=1e3;let zk=0;function Hf(n,e,t,r){const{latestValues:o}=e;o[n]&&(t[n]=o[n],e.setStaticValue(n,0),r&&(r[n]=0))}function I1(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=h1(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:o,layoutId:a}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",ft,!(o||a))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&I1(r)}function b1({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},d=e?.()){this.id=zk++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Hk),this.nodes.forEach(Qk),this.nodes.forEach(Yk),this.nodes.forEach(qk)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new Ck)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new dm),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const f=this.eventHandlers.get(c);f&&f.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=zw(c)&&!NI(c),this.instance=c;const{layoutId:d,layout:f,visualElement:m}=this.options;if(m&&!m.current&&m.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||d)&&(this.isLayoutDirty=!0),n){let _,w=0;const T=()=>this.root.updateBlockedByResize=!1;ft.read(()=>{w=window.innerWidth}),n(c,()=>{const I=window.innerWidth;I!==w&&(w=I,this.root.updateBlockedByResize=!0,_&&_(),_=Pk(T,250),Gu.hasAnimatedSinceResize&&(Gu.hasAnimatedSinceResize=!1,this.nodes.forEach(t_)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&m&&(d||f)&&this.addEventListener("didUpdate",({delta:_,hasLayoutChanged:w,hasRelativeLayoutChanged:T,layout:I})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const O=this.options.transition||m.getDefaultTransition()||tC,{onLayoutAnimationStart:B,onLayoutAnimationComplete:L}=m.getProps(),K=!this.targetLayout||!S1(this.targetLayout,I),Q=!w&&T;if(this.options.layoutRoot||this.resumeFrom||Q||w&&(K||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const Y={...Sm(O,"layout"),onPlay:B,onComplete:L};(m.shouldReduceMotion||this.options.layoutRoot)&&(Y.delay=0,Y.type=!1),this.startAnimation(Y),this.setAnimationOrigin(_,Q)}else w||t_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=I})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),li(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Xk),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&I1(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let _=0;_<this.path.length;_++){const w=this.path[_];w.shouldResetTransform=!0,w.updateScroll("snapshot"),w.options.layoutRoot&&w.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Z0);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(e_);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Kk),this.nodes.forEach($k),this.nodes.forEach(Wk)):this.nodes.forEach(e_),this.clearAllSnapshots();const d=Tn.now();qt.delta=ms(0,1e3/60,d-qt.timestamp),qt.timestamp=d,qt.isProcessing=!0,Df.update.process(qt),Df.preRender.process(qt),Df.render.process(qt),qt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,bm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Gk),this.sharedNodes.forEach(Jk)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ft.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ft.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!hn(this.snapshot.measuredBox.x)&&!hn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=St(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!A1(this.projectionDelta),f=this.getTransformTemplate(),m=f?f(this.latestValues,""):void 0,_=m!==this.prevTransformTemplateValue;c&&this.instance&&(d||Gi(this.latestValues)||_)&&(o(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return c&&(f=this.removeTransform(f)),nC(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return St();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(rC))){const{scroll:m}=this.root;m&&(na(d.x,m.offset.x),na(d.y,m.offset.y))}return d}removeElementScroll(c){const d=St();if(Gn(d,c),this.scroll?.wasRoot)return d;for(let f=0;f<this.path.length;f++){const m=this.path[f],{scroll:_,options:w}=m;m!==this.root&&_&&w.layoutScroll&&(_.wasRoot&&Gn(d,c),na(d.x,_.offset.x),na(d.y,_.offset.y))}return d}applyTransform(c,d=!1){const f=St();Gn(f,c);for(let m=0;m<this.path.length;m++){const _=this.path[m];!d&&_.options.layoutScroll&&_.scroll&&_!==_.root&&ra(f,{x:-_.scroll.offset.x,y:-_.scroll.offset.y}),Gi(_.latestValues)&&ra(f,_.latestValues)}return Gi(this.latestValues)&&ra(f,this.latestValues),f}removeTransform(c){const d=St();Gn(d,c);for(let f=0;f<this.path.length;f++){const m=this.path[f];if(!m.instance||!Gi(m.latestValues))continue;Ap(m.latestValues)&&m.updateSnapshot();const _=St(),w=m.measurePageBox();Gn(_,w),G0(d,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,_)}return Gi(this.latestValues)&&G0(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==qt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==d;if(!(c||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:_,layoutId:w}=this.options;if(!(!this.layout||!(_||w))){if(this.resolvedRelativeTargetAt=qt.timestamp,!this.targetDelta&&!this.relativeTarget){const T=this.getClosestProjectingParent();T&&T.layout&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=St(),this.relativeTargetOrigin=St(),Ml(this.relativeTargetOrigin,this.layout.layoutBox,T.layout.layoutBox),Gn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=St(),this.targetWithTransforms=St()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ck(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Gn(this.target,this.layout.layoutBox),i1(this.target,this.targetDelta)):Gn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const T=this.getClosestProjectingParent();T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=St(),this.relativeTargetOrigin=St(),Ml(this.relativeTargetOrigin,this.target,T.target),Gn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Ap(this.parent.latestValues)||s1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===qt.timestamp&&(f=!1),f)return;const{layout:m,layoutId:_}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||_))return;Gn(this.layoutCorrected,this.layout.layoutBox);const w=this.treeScale.x,T=this.treeScale.y;wb(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=St());const{target:I}=c;if(!I){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(W0(this.prevProjectionDelta.x,this.projectionDelta.x),W0(this.prevProjectionDelta.y,this.projectionDelta.y)),Vl(this.projectionDelta,this.layoutCorrected,I,this.latestValues),(this.treeScale.x!==w||this.treeScale.y!==T||!J0(this.projectionDelta.x,this.prevProjectionDelta.x)||!J0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",I))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=sa(),this.projectionDelta=sa(),this.projectionDeltaWithTransform=sa()}setAnimationOrigin(c,d=!1){const f=this.snapshot,m=f?f.latestValues:{},_={...this.latestValues},w=sa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const T=St(),I=f?f.source:void 0,O=this.layout?this.layout.source:void 0,B=I!==O,L=this.getStack(),K=!L||L.members.length<=1,Q=!!(B&&!K&&this.options.crossfade===!0&&!this.path.some(eC));this.animationProgress=0;let Y;this.mixTargetDelta=ue=>{const ae=ue/1e3;n_(w.x,c.x,ae),n_(w.y,c.y,ae),this.setTargetDelta(w),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ml(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Zk(this.relativeTarget,this.relativeTargetOrigin,T,ae),Y&&Lk(this.relativeTarget,Y)&&(this.isProjectionDirty=!1),Y||(Y=St()),Gn(Y,this.relativeTarget)),B&&(this.animationValues=_,Nk(_,m,this.latestValues,ae,Q,K)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ae},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(li(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ft.update(()=>{Gu.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ua(0)),this.currentAnimation=bk(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Uk),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:f,layout:m,latestValues:_}=c;if(!(!d||!f||!m)){if(this!==c&&this.layout&&m&&k1(this.options.animationType,this.layout.layoutBox,m.layoutBox)){f=this.target||St();const w=hn(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+w;const T=hn(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+T}Gn(d,f),ra(d,_),Vl(this.projectionDeltaWithTransform,this.layoutCorrected,d,_)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new Fk),this.sharedNodes.get(c).add(d);const m=d.options.initialPromotionConfig;d.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:f}={}){const m=this.getStack();m&&m.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const m={};f.z&&Hf("z",c,m,this.animationValues);for(let _=0;_<Wf.length;_++)Hf(`rotate${Wf[_]}`,c,m,this.animationValues),Hf(`skew${Wf[_]}`,c,m,this.animationValues);c.render();for(const _ in m)c.setStaticValue(_,m[_]),this.animationValues&&(this.animationValues[_]=m[_]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=qu(d?.pointerEvents)||"",c.transform=f?f(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=qu(d?.pointerEvents)||""),this.hasProjected&&!Gi(this.latestValues)&&(c.transform=f?f({},""):"none",this.hasProjected=!1);return}c.visibility="";const _=m.animationValues||m.latestValues;this.applyTransformsToTarget();let w=Bk(this.projectionDeltaWithTransform,this.treeScale,_);f&&(w=f(_,w)),c.transform=w;const{x:T,y:I}=this.projectionDelta;c.transformOrigin=`${T.origin*100}% ${I.origin*100}% 0`,m.animationValues?c.opacity=m===this?_.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:_.opacityExit:c.opacity=m===this?_.opacity!==void 0?_.opacity:"":_.opacityExit!==void 0?_.opacityExit:0;for(const O in Gl){if(_[O]===void 0)continue;const{correct:B,applyTo:L,isCSSVariable:K}=Gl[O],Q=w==="none"?_[O]:B(_[O],m);if(L){const Y=L.length;for(let ue=0;ue<Y;ue++)c[L[ue]]=Q}else K?this.options.visualElement.renderState.vars[O]=Q:c[O]=Q}this.options.layoutId&&(c.pointerEvents=m===this?qu(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(Z0),this.root.sharedNodes.clear()}}}function $k(n){n.updateLayout()}function Wk(n){const e=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=n.layout,{animationType:o}=n.options,a=e.source!==n.layout.source;o==="size"?Kn(_=>{const w=a?e.measuredBox[_]:e.layoutBox[_],T=hn(w);w.min=t[_].min,w.max=w.min+T}):k1(o,e.layoutBox,t)&&Kn(_=>{const w=a?e.measuredBox[_]:e.layoutBox[_],T=hn(t[_]);w.max=w.min+T,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[_].max=n.relativeTarget[_].min+T)});const c=sa();Vl(c,t,e.layoutBox);const d=sa();a?Vl(d,n.applyTransform(r,!0),e.measuredBox):Vl(d,t,e.layoutBox);const f=!A1(c);let m=!1;if(!n.resumeFrom){const _=n.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:w,layout:T}=_;if(w&&T){const I=St();Ml(I,e.layoutBox,w.layoutBox);const O=St();Ml(O,t,T.layoutBox),S1(I,O)||(m=!0),_.options.layoutRoot&&(n.relativeTarget=O,n.relativeTargetOrigin=I,n.relativeParent=_)}}}n.notifyListeners("didUpdate",{layout:t,snapshot:e,delta:d,layoutDelta:c,hasLayoutChanged:f,hasRelativeLayoutChanged:m})}else if(n.isLead()){const{onExitComplete:t}=n.options;t&&t()}n.options.transition=void 0}function Hk(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function qk(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function Gk(n){n.clearSnapshot()}function Z0(n){n.clearMeasurements()}function e_(n){n.isLayoutDirty=!1}function Kk(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function t_(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function Qk(n){n.resolveTargetDelta()}function Yk(n){n.calcProjection()}function Xk(n){n.resetSkewAndRotation()}function Jk(n){n.removeLeadSnapshot()}function n_(n,e,t){n.translate=yt(e.translate,0,t),n.scale=yt(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function r_(n,e,t,r){n.min=yt(e.min,t.min,r),n.max=yt(e.max,t.max,r)}function Zk(n,e,t,r){r_(n.x,e.x,t.x,r),r_(n.y,e.y,t.y,r)}function eC(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const tC={duration:.45,ease:[.4,0,.1,1]},s_=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),i_=s_("applewebkit/")&&!s_("chrome/")?Math.round:Xn;function o_(n){n.min=i_(n.min),n.max=i_(n.max)}function nC(n){o_(n.x),o_(n.y)}function k1(n,e,t){return n==="position"||n==="preserve-aspect"&&!lk(X0(e),X0(t),.2)}function rC(n){return n!==n.root&&n.scroll?.wasRoot}const sC=b1({attachResizeListener:(n,e)=>Kl(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),qf={current:void 0},C1=b1({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!qf.current){const n=new sC({});n.mount(window),n.setOptions({layoutScroll:!0}),qf.current=n}return qf.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),iC={pan:{Feature:Tk},drag:{Feature:xk,ProjectionNode:C1,MeasureLayout:w1}};function a_(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const o="onHover"+t,a=r[o];a&&ft.postRender(()=>a(e,ic(e)))}class oC extends gi{mount(){const{current:e}=this.node;e&&(this.unmount=bI(e,(t,r)=>(a_(this.node,r,"Start"),o=>a_(this.node,o,"End"))))}unmount(){}}class aC extends gi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=nc(Kl(this.node.current,"focus",()=>this.onFocus()),Kl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function l_(n,e,t){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const o="onTap"+(t==="End"?"":t),a=r[o];a&&ft.postRender(()=>a(e,ic(e)))}class lC extends gi{mount(){const{current:e}=this.node;e&&(this.unmount=RI(e,(t,r)=>(l_(this.node,r,"Start"),(o,{success:a})=>l_(this.node,o,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Rp=new WeakMap,Gf=new WeakMap,cC=n=>{const e=Rp.get(n.target);e&&e(n)},uC=n=>{n.forEach(cC)};function hC({root:n,...e}){const t=n||document;Gf.has(t)||Gf.set(t,{});const r=Gf.get(t),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(uC,{root:n,...e})),r[o]}function dC(n,e,t){const r=hC(e);return Rp.set(n,t),r.observe(n),()=>{Rp.delete(n),r.unobserve(n)}}const fC={some:0,all:1};class pC extends gi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:o="some",once:a}=e,c={root:t?t.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:fC[o]},d=f=>{const{isIntersecting:m}=f;if(this.isInView===m||(this.isInView=m,a&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:_,onViewportLeave:w}=this.node.getProps(),T=m?_:w;T&&T(f)};return dC(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(mC(e,t))&&this.startObserver()}unmount(){}}function mC({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const gC={inView:{Feature:pC},tap:{Feature:lC},focus:{Feature:aC},hover:{Feature:oC}},yC={layout:{ProjectionNode:C1,MeasureLayout:w1}},vC={...nk,...gC,...iC,...yC},Oe=vb(vC,Rb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),EC=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),c_=n=>{const e=EC(n);return e.charAt(0).toUpperCase()+e.slice(1)},P1=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xC=X.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:o="",children:a,iconNode:c,...d},f)=>X.createElement("svg",{ref:f,...wC,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:P1("lucide",o),...d},[...c.map(([m,_])=>X.createElement(m,_)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=(n,e)=>{const t=X.forwardRef(({className:r,...o},a)=>X.createElement(xC,{ref:a,iconNode:e,className:P1(`lucide-${_C(c_(n))}`,`lucide-${n}`,r),...o}));return t.displayName=c_(n),t};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],R1=Be("activity",TC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]],N1=Be("apple",AC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],IC=Be("book-open",SC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],kC=Be("calculator",bC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ki=Be("check",CC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]],RC=Be("chrome",PC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],u_=Be("circle-alert",NC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],VC=Be("circle-check",DC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],h_=Be("circle",MC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=[["path",{d:"M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z",key:"1pp7kr"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10",key:"2ik1ml"}],["path",{d:"m17 10 4 4-4 4",key:"vp2hj1"}]],OC=Be("clipboard-paste",jC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],FC=Be("clock",LC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],UC=Be("coffee",BC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],$C=Be("external-link",zC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],HC=Be("eye-off",WC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],GC=Be("eye",qC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],D1=Be("flame",KC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],YC=Be("key",QC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],ch=Be("lightbulb",XC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ZC=Be("loader-circle",JC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eP=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],tP=Be("log-out",eP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nP=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],rP=Be("mail",nP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sP=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],iP=Be("moon",sP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oP=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],V1=Be("plus",oP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aP=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],lP=Be("ruler",aP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cP=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],uP=Be("save",cP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hP=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],dP=Be("search",hP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fP=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],M1=Be("settings",fP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pP=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],mP=Be("sparkles",pP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gP=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],yP=Be("square-pen",gP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Kf=Be("star",vP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],EP=Be("sun",_P);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Oh=Be("target",wP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],TP=Be("trash-2",xP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AP=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],uh=Be("trending-up",AP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SP=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],d_=Be("user",SP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IP=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],bP=Be("users",IP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],j1=Be("utensils",kP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CP=[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]],PP=Be("weight",CP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],f_=Be("x",RP);function NP({onSettingsClick:n}){return v.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 backdrop-blur-md bg-[#121722]/60 border-b border-[#2A3242]/50",children:v.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-14 flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-[#22D3EE] to-[#14B8A6] flex items-center justify-center",children:v.jsx(N1,{className:"w-5 h-5 text-[#0B0E14]"})}),v.jsx("span",{className:"text-[#E6E9EF] font-semibold",children:"NutriPlan"})]}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("span",{className:"text-xs text-[#9AA3B2] hidden sm:inline",children:"For Students & IT Professionals"}),n&&v.jsx("button",{onClick:n,className:"p-2 rounded-lg text-[#9AA3B2] hover:text-[#E6E9EF] hover:bg-[#2A3242]/50 transition-all",title:"Settings",children:v.jsx(M1,{className:"w-4 h-4"})})]})]})})}function DP({dailyCalories:n,consumedCalories:e,remainingCalories:t,macros:r}){const o=e/n*100;return v.jsxs(Oe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"sticky top-20 h-fit",children:[v.jsxs("div",{className:"rounded-2xl bg-[#121722]/40 backdrop-blur-xl border border-[#2A3242] shadow-2xl p-6 space-y-6",children:[v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[v.jsx(D1,{className:"w-4 h-4 text-[#22D3EE]"}),v.jsx("h3",{className:"text-sm text-[#9AA3B2]",children:"Daily Calories"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"flex items-baseline gap-2",children:[v.jsx("span",{className:"text-3xl text-[#E6E9EF]",children:e}),v.jsxs("span",{className:"text-sm text-[#9AA3B2]",children:["/ ",n," kcal"]})]}),v.jsx("div",{className:"w-full h-2 bg-[#2A3242] rounded-full overflow-hidden",children:v.jsx(Oe.div,{initial:{width:0},animate:{width:`${Math.min(o,100)}%`},transition:{duration:.5,ease:"easeOut"},className:`h-full rounded-full ${o>100?"bg-red-500":"bg-gradient-to-r from-[#22D3EE] to-[#14B8A6]"}`})}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx(Oh,{className:"w-3 h-3 text-[#14B8A6]"}),v.jsx("span",{className:"text-xs text-[#9AA3B2]",children:t>0?`${t} kcal remaining`:`${Math.abs(t)} kcal over`})]})]})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(uh,{className:"w-4 h-4 text-[#14B8A6]"}),v.jsx("h3",{className:"text-sm text-[#9AA3B2]",children:"Macros"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("span",{className:"text-sm text-[#E6E9EF]",children:"Protein"}),v.jsxs("span",{className:"text-sm text-[#9AA3B2]",children:[r.protein.consumed,"g / ",r.protein.target,"g"]})]}),v.jsx("div",{className:"w-full h-1.5 bg-[#2A3242] rounded-full overflow-hidden",children:v.jsx(Oe.div,{initial:{width:0},animate:{width:`${Math.min(r.protein.consumed/r.protein.target*100,100)}%`},transition:{duration:.5,ease:"easeOut",delay:.1},className:"h-full bg-[#22D3EE] rounded-full"})})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("span",{className:"text-sm text-[#E6E9EF]",children:"Carbs"}),v.jsxs("span",{className:"text-sm text-[#9AA3B2]",children:[r.carbs.consumed,"g / ",r.carbs.target,"g"]})]}),v.jsx("div",{className:"w-full h-1.5 bg-[#2A3242] rounded-full overflow-hidden",children:v.jsx(Oe.div,{initial:{width:0},animate:{width:`${Math.min(r.carbs.consumed/r.carbs.target*100,100)}%`},transition:{duration:.5,ease:"easeOut",delay:.2},className:"h-full bg-[#14B8A6] rounded-full"})})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("span",{className:"text-sm text-[#E6E9EF]",children:"Fats"}),v.jsxs("span",{className:"text-sm text-[#9AA3B2]",children:[r.fats.consumed,"g / ",r.fats.target,"g"]})]}),v.jsx("div",{className:"w-full h-1.5 bg-[#2A3242] rounded-full overflow-hidden",children:v.jsx(Oe.div,{initial:{width:0},animate:{width:`${Math.min(r.fats.consumed/r.fats.target*100,100)}%`},transition:{duration:.5,ease:"easeOut",delay:.3},className:"h-full bg-gradient-to-r from-[#22D3EE] to-[#14B8A6] rounded-full"})})]})]})]}),t>100&&v.jsx("div",{className:"mt-4 rounded-xl bg-gradient-to-r from-[#22D3EE]/10 to-[#14B8A6]/10 border border-[#22D3EE]/30 p-4",children:v.jsx("div",{className:"flex items-start gap-3",children:v.jsxs("div",{className:"space-y-2",children:[v.jsx("p",{className:"text-sm text-[#E6E9EF] font-medium",children:"Recommendations:"}),v.jsxs("ul",{className:"text-xs text-[#9AA3B2] space-y-1.5",children:[r.protein.consumed<r.protein.target&&v.jsxs("li",{children:[" Protein: Add chicken, eggs, paneer, or dal (",Math.round(r.protein.target-r.protein.consumed),"g needed)"]}),r.carbs.consumed<r.carbs.target&&v.jsxs("li",{children:[" Carbs: Include rice, roti, oats, or fruits (",Math.round(r.carbs.target-r.carbs.consumed),"g needed)"]}),r.fats.consumed<r.fats.target&&v.jsxs("li",{children:[" Fats: Add nuts, ghee, or avocado (",Math.round(r.fats.target-r.fats.consumed),"g needed)"]}),t>0&&r.protein.consumed>=r.protein.target&&r.carbs.consumed>=r.carbs.target&&r.fats.consumed>=r.fats.target&&v.jsxs("li",{children:[" You need ",Math.round(t)," more calories. Add any balanced meal."]})]})]})})})]})}function p_({currentScreen:n,onCalculate:e,onSuggest:t,onLog:r,isFormValid:o=!0}){return v.jsx(Oe.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:300,damping:30},className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-40",children:v.jsxs("div",{className:"rounded-full bg-[#121722]/80 backdrop-blur-xl border border-[#2A3242] shadow-2xl px-4 py-3 flex items-center gap-3",children:[n==="onboarding"&&e&&v.jsxs(Oe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:e,className:"flex items-center gap-2 px-6 py-2.5 rounded-full bg-gradient-to-r from-[#22D3EE] to-[#14B8A6] text-[#0B0E14] transition-all hover:shadow-lg hover:shadow-[#22D3EE]/20 cursor-pointer",children:[v.jsx(kC,{className:"w-4 h-4"}),v.jsx("span",{className:"text-sm",children:"Calculate Targets"})]}),n==="menu"&&v.jsx(v.Fragment,{children:t&&v.jsxs(Oe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:t,className:"flex items-center gap-2 px-6 py-2.5 rounded-full bg-gradient-to-r from-[#22D3EE] to-[#14B8A6] text-[#0B0E14] transition-all hover:shadow-lg hover:shadow-[#22D3EE]/20",children:[v.jsx(ch,{className:"w-4 h-4"}),v.jsx("span",{className:"text-sm",children:"Get Suggestions"})]})}),(n==="options"||n==="menu")&&r&&v.jsxs(Oe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:r,className:"flex items-center gap-2 px-6 py-2.5 rounded-full border border-[#22D3EE] text-[#22D3EE] transition-all hover:bg-[#22D3EE]/10",children:[v.jsx(V1,{className:"w-4 h-4"}),v.jsx("span",{className:"text-sm",children:"Log Selected"})]})]})})}const VP=()=>{};var m_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},MP=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const o=n[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],c=n[t++],d=n[t++],f=((o&7)<<18|(a&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],c=n[t++];e[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|c&63)}}return e.join("")},L1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const a=n[o],c=o+1<n.length,d=c?n[o+1]:0,f=o+2<n.length,m=f?n[o+2]:0,_=a>>2,w=(a&3)<<4|d>>4;let T=(d&15)<<2|m>>6,I=m&63;f||(I=64,c||(T=64)),r.push(t[_],t[w],t[T],t[I])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(O1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):MP(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const m=o<n.length?t[n.charAt(o)]:64;++o;const w=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||d==null||m==null||w==null)throw new jP;const T=a<<2|d>>4;if(r.push(T),m!==64){const I=d<<4&240|m>>2;if(r.push(I),w!==64){const O=m<<6&192|w;r.push(O)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class jP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const OP=function(n){const e=O1(n);return L1.encodeByteArray(e,!0)},hh=function(n){return OP(n).replace(/\./g,"")},F1=function(n){try{return L1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP=()=>LP().__FIREBASE_DEFAULTS__,BP=()=>{if(typeof process>"u"||typeof m_>"u")return;const n=m_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},UP=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&F1(n[1]);return e&&JSON.parse(e)},Lh=()=>{try{return VP()||FP()||BP()||UP()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},B1=n=>Lh()?.emulatorHosts?.[n],zP=n=>{const e=B1(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},U1=()=>Lh()?.config,z1=n=>Lh()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sa(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function $1(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WP(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[hh(JSON.stringify(t)),hh(JSON.stringify(c)),""].join(".")}const jl={};function HP(){const n={prod:[],emulator:[]};for(const e of Object.keys(jl))jl[e]?n.emulator.push(e):n.prod.push(e);return n}function qP(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let g_=!1;function W1(n,e){if(typeof window>"u"||typeof document>"u"||!Sa(window.location.host)||jl[n]===e||jl[n]||g_)return;jl[n]=e;function t(T){return`__firebase__banner__${T}`}const r="__firebase__banner",a=HP().prod.length>0;function c(){const T=document.getElementById(r);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function f(T,I){T.setAttribute("width","24"),T.setAttribute("id",I),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function m(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{g_=!0,c()},T}function _(T,I){T.setAttribute("id",I),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function w(){const T=qP(r),I=t("text"),O=document.getElementById(I)||document.createElement("span"),B=t("learnmore"),L=document.getElementById(B)||document.createElement("a"),K=t("preprendIcon"),Q=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const Y=T.element;d(Y),_(L,B);const ue=m();f(Q,K),Y.append(Q,O,L,ue),document.body.appendChild(Y)}a?(O.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function KP(){const n=Lh()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function YP(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function XP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function JP(){const n=on();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function ZP(){return!KP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eR(){try{return typeof indexedDB=="object"}catch{return!1}}function tR(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR="FirebaseError";class xs extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=nR,Object.setPrototypeOf(this,xs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oc.prototype.create)}}class oc{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],c=a?rR(a,r):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new xs(o,d,r)}}function rR(n,e){return n.replace(sR,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const sR=/\{\$([^}]+)}/g;function iR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ys(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const a=n[o],c=e[o];if(y_(a)&&y_(c)){if(!ys(a,c))return!1}else if(a!==c)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function y_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function oR(n,e){const t=new aR(n,e);return t.subscribe.bind(t)}class aR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");lR(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=Qf),o.error===void 0&&(o.error=Qf),o.complete===void 0&&(o.complete=Qf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lR(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Qf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(n){return n&&n._delegate?n._delegate:n}class so{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new $P;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hR(e))try{this.getOrInitializeService({instanceIdentifier:Qi})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});r.resolve(a)}catch{}}}}clearInstance(e=Qi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qi){return this.instances.has(e)}getOptions(e=Qi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&c.resolve(o)}return o}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const a=this.instances.get(r);return a&&e(a,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:uR(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Qi){return this.component?this.component.multipleInstances?e:Qi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uR(n){return n===Qi?void 0:n}function hR(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new cR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})($e||($e={}));const fR={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},pR=$e.INFO,mR={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},gR=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),o=mR[e];if(o)console[o](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fm{constructor(e){this.name=e,this._logLevel=pR,this._logHandler=gR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}const yR=(n,e)=>e.some(t=>n instanceof t);let v_,__;function vR(){return v_||(v_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _R(){return __||(__=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const H1=new WeakMap,Np=new WeakMap,q1=new WeakMap,Yf=new WeakMap,Bm=new WeakMap;function ER(n){const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",c)},a=()=>{t(ri(n.result)),o()},c=()=>{r(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&H1.set(t,n)}).catch(()=>{}),Bm.set(e,n),e}function wR(n){if(Np.has(n))return;const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",c),n.removeEventListener("abort",c)},a=()=>{t(),o()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",c),n.addEventListener("abort",c)});Np.set(n,e)}let Dp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Np.get(n);if(e==="objectStoreNames")return n.objectStoreNames||q1.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ri(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function xR(n){Dp=n(Dp)}function TR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Xf(this),e,...t);return q1.set(r,e.sort?e.sort():[e]),ri(r)}:_R().includes(n)?function(...e){return n.apply(Xf(this),e),ri(H1.get(this))}:function(...e){return ri(n.apply(Xf(this),e))}}function AR(n){return typeof n=="function"?TR(n):(n instanceof IDBTransaction&&wR(n),yR(n,vR())?new Proxy(n,Dp):n)}function ri(n){if(n instanceof IDBRequest)return ER(n);if(Yf.has(n))return Yf.get(n);const e=AR(n);return e!==n&&(Yf.set(n,e),Bm.set(e,n)),e}const Xf=n=>Bm.get(n);function SR(n,e,{blocked:t,upgrade:r,blocking:o,terminated:a}={}){const c=indexedDB.open(n,e),d=ri(c);return r&&c.addEventListener("upgradeneeded",f=>{r(ri(c.result),f.oldVersion,f.newVersion,ri(c.transaction),f)}),t&&c.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),d.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const IR=["get","getKey","getAll","getAllKeys","count"],bR=["put","add","delete","clear"],Jf=new Map;function E_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Jf.get(e))return Jf.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=bR.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||IR.includes(t)))return;const a=async function(c,...d){const f=this.transaction(c,o?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(d.shift())),(await Promise.all([m[t](...d),o&&f.done]))[0]};return Jf.set(e,a),a}xR(n=>({...n,get:(e,t,r)=>E_(e,t)||n.get(e,t,r),has:(e,t)=>!!E_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(CR(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function CR(n){return n.getComponent()?.type==="VERSION"}const Vp="@firebase/app",w_="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs=new Fm("@firebase/app"),PR="@firebase/app-compat",RR="@firebase/analytics-compat",NR="@firebase/analytics",DR="@firebase/app-check-compat",VR="@firebase/app-check",MR="@firebase/auth",jR="@firebase/auth-compat",OR="@firebase/database",LR="@firebase/data-connect",FR="@firebase/database-compat",BR="@firebase/functions",UR="@firebase/functions-compat",zR="@firebase/installations",$R="@firebase/installations-compat",WR="@firebase/messaging",HR="@firebase/messaging-compat",qR="@firebase/performance",GR="@firebase/performance-compat",KR="@firebase/remote-config",QR="@firebase/remote-config-compat",YR="@firebase/storage",XR="@firebase/storage-compat",JR="@firebase/firestore",ZR="@firebase/ai",eN="@firebase/firestore-compat",tN="firebase",nN="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp="[DEFAULT]",rN={[Vp]:"fire-core",[PR]:"fire-core-compat",[NR]:"fire-analytics",[RR]:"fire-analytics-compat",[VR]:"fire-app-check",[DR]:"fire-app-check-compat",[MR]:"fire-auth",[jR]:"fire-auth-compat",[OR]:"fire-rtdb",[LR]:"fire-data-connect",[FR]:"fire-rtdb-compat",[BR]:"fire-fn",[UR]:"fire-fn-compat",[zR]:"fire-iid",[$R]:"fire-iid-compat",[WR]:"fire-fcm",[HR]:"fire-fcm-compat",[qR]:"fire-perf",[GR]:"fire-perf-compat",[KR]:"fire-rc",[QR]:"fire-rc-compat",[YR]:"fire-gcs",[XR]:"fire-gcs-compat",[JR]:"fire-fst",[eN]:"fire-fst-compat",[ZR]:"fire-vertex","fire-js":"fire-js",[tN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=new Map,sN=new Map,jp=new Map;function x_(n,e){try{n.container.addComponent(e)}catch(t){vs.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function da(n){const e=n.name;if(jp.has(e))return vs.debug(`There were multiple attempts to register component ${e}.`),!1;jp.set(e,n);for(const t of dh.values())x_(t,n);for(const t of sN.values())x_(t,n);return!0}function Um(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ur(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},si=new oc("app","Firebase",iN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new so("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw si.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia=nN;function G1(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:Mp,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw si.create("bad-app-name",{appName:String(o)});if(t||(t=U1()),!t)throw si.create("no-options");const a=dh.get(o);if(a){if(ys(t,a.options)&&ys(r,a.config))return a;throw si.create("duplicate-app",{appName:o})}const c=new dR(o);for(const f of jp.values())c.addComponent(f);const d=new oN(t,r,c);return dh.set(o,d),d}function K1(n=Mp){const e=dh.get(n);if(!e&&n===Mp&&U1())return G1();if(!e)throw si.create("no-app",{appName:n});return e}function ii(n,e,t){let r=rN[n]??n;t&&(r+=`-${t}`);const o=r.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const c=[`Unable to register library "${r}" with version "${e}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vs.warn(c.join(" "));return}da(new so(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN="firebase-heartbeat-database",lN=1,Ql="firebase-heartbeat-store";let Zf=null;function Q1(){return Zf||(Zf=SR(aN,lN,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ql)}catch(t){console.warn(t)}}}}).catch(n=>{throw si.create("idb-open",{originalErrorMessage:n.message})})),Zf}async function cN(n){try{const t=(await Q1()).transaction(Ql),r=await t.objectStore(Ql).get(Y1(n));return await t.done,r}catch(e){if(e instanceof xs)vs.warn(e.message);else{const t=si.create("idb-get",{originalErrorMessage:e?.message});vs.warn(t.message)}}}async function T_(n,e){try{const r=(await Q1()).transaction(Ql,"readwrite");await r.objectStore(Ql).put(e,Y1(n)),await r.done}catch(t){if(t instanceof xs)vs.warn(t.message);else{const r=si.create("idb-set",{originalErrorMessage:t?.message});vs.warn(r.message)}}}function Y1(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN=1024,hN=30;class dN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new pN(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=A_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>hN){const o=mN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){vs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=A_(),{heartbeatsToSend:t,unsentEntries:r}=fN(this._heartbeatsCache.heartbeats),o=hh(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return vs.warn(e),""}}}function A_(){return new Date().toISOString().substring(0,10)}function fN(n,e=uN){const t=[];let r=n.slice();for(const o of n){const a=t.find(c=>c.agent===o.agent);if(a){if(a.dates.push(o.date),S_(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),S_(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class pN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eR()?tR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await cN(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return T_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return T_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function S_(n){return hh(JSON.stringify({version:2,heartbeats:n})).length}function mN(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(n){da(new so("platform-logger",e=>new kR(e),"PRIVATE")),da(new so("heartbeat",e=>new dN(e),"PRIVATE")),ii(Vp,w_,n),ii(Vp,w_,"esm2020"),ii("fire-js","")}gN("");function X1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yN=X1,J1=new oc("auth","Firebase",X1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh=new Fm("@firebase/auth");function vN(n,...e){fh.logLevel<=$e.WARN&&fh.warn(`Auth (${Ia}): ${n}`,...e)}function Ku(n,...e){fh.logLevel<=$e.ERROR&&fh.error(`Auth (${Ia}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(n,...e){throw $m(n,...e)}function dr(n,...e){return $m(n,...e)}function zm(n,e,t){const r={...yN(),[e]:t};return new oc("auth","Firebase",r).create(e,{appName:n.name})}function no(n){return zm(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _N(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&$r(n,"argument-error"),zm(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $m(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return J1.create(n,...e)}function Re(n,e,...t){if(!n)throw $m(e,...t)}function fs(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Ku(e),new Error(e)}function _s(n,e){n||fs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Op(){return typeof self<"u"&&self.location?.href||""}function EN(){return I_()==="http:"||I_()==="https:"}function I_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(EN()||YP()||"connection"in navigator)?navigator.onLine:!0}function xN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,t){this.shortDelay=e,this.longDelay=t,_s(t>e,"Short delay should be less than long delay!"),this.isMobile=GP()||XP()}get(){return wN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(n,e){_s(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],SN=new lc(3e4,6e4);function Hm(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function ba(n,e,t,r,o={}){return ex(n,o,async()=>{let a={},c={};r&&(e==="GET"?c=r:a={body:JSON.stringify(r)});const d=ac({key:n.config.apiKey,...c}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m={method:e,headers:f,...a};return QP()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&Sa(n.emulatorConfig.host)&&(m.credentials="include"),Z1.fetch()(await tx(n,n.config.apiHost,t,d),m)})}async function ex(n,e,t){n._canInitEmulator=!1;const r={...TN,...e};try{const o=new bN(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw Du(n,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const d=a.ok?c.errorMessage:c.error.message,[f,m]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Du(n,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw Du(n,"email-already-in-use",c);if(f==="USER_DISABLED")throw Du(n,"user-disabled",c);const _=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw zm(n,_,m);$r(n,_)}}catch(o){if(o instanceof xs)throw o;$r(n,"network-request-failed",{message:String(o)})}}async function IN(n,e,t,r,o={}){const a=await ba(n,e,t,r,o);return"mfaPendingCredential"in a&&$r(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function tx(n,e,t,r){const o=`${e}${t}?${r}`,a=n,c=a.config.emulator?Wm(n.config,o):`${n.config.apiScheme}://${o}`;return AN.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(c).toString():c}class bN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(dr(this.auth,"network-request-failed")),SN.get())})}}function Du(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=dr(n,e,r);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kN(n,e){return ba(n,"POST","/v1/accounts:delete",e)}async function ph(n,e){return ba(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function CN(n,e=!1){const t=dn(n),r=await t.getIdToken(e),o=qm(r);Re(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,c=a?.sign_in_provider;return{claims:o,token:r,authTime:Ol(ep(o.auth_time)),issuedAtTime:Ol(ep(o.iat)),expirationTime:Ol(ep(o.exp)),signInProvider:c||null,signInSecondFactor:a?.sign_in_second_factor||null}}function ep(n){return Number(n)*1e3}function qm(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Ku("JWT malformed, contained fewer than 3 sections"),null;try{const o=F1(t);return o?JSON.parse(o):(Ku("Failed to decode base64 JWT payload"),null)}catch(o){return Ku("Caught error parsing JWT payload as JSON",o?.toString()),null}}function b_(n){const e=qm(n);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yl(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof xs&&PN(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function PN({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ol(this.lastLoginAt),this.creationTime=Ol(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mh(n){const e=n.auth,t=await n.getIdToken(),r=await Yl(n,ph(e,{idToken:t}));Re(r?.users.length,e,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const a=o.providerUserInfo?.length?nx(o.providerUserInfo):[],c=DN(n.providerData,a),d=n.isAnonymous,f=!(n.email&&o.passwordHash)&&!c?.length,m=d?f:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Lp(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(n,_)}async function NN(n){const e=dn(n);await mh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function DN(n,e){return[...n.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function nx(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VN(n,e){const t=await ex(n,{},async()=>{const r=ac({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,c=await tx(n,o,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:r};return n.emulatorConfig&&Sa(n.emulatorConfig.host)&&(f.credentials="include"),Z1.fetch()(c,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function MN(n,e){return ba(n,"POST","/v2/accounts:revokeToken",Hm(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):b_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const t=b_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:a}=await VN(e,t);this.updateTokensAndExpiration(r,o,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:a}=t,c=new oa;return r&&(Re(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),o&&(Re(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),a&&(Re(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new oa,this.toJSON())}_performRefresh(){return fs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(n,e){Re(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class hr{constructor({uid:e,auth:t,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new RN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Lp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Yl(this,this.stsTokenManager.getToken(this.auth,e));return Re(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return CN(this,e)}reload(){return NN(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new hr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await mh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ur(this.auth.app))return Promise.reject(no(this.auth));const e=await this.getIdToken();return await Yl(this,kN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,o=t.email??void 0,a=t.phoneNumber??void 0,c=t.photoURL??void 0,d=t.tenantId??void 0,f=t._redirectEventId??void 0,m=t.createdAt??void 0,_=t.lastLoginAt??void 0,{uid:w,emailVerified:T,isAnonymous:I,providerData:O,stsTokenManager:B}=t;Re(w&&B,e,"internal-error");const L=oa.fromJSON(this.name,B);Re(typeof w=="string",e,"internal-error"),Ys(r,e.name),Ys(o,e.name),Re(typeof T=="boolean",e,"internal-error"),Re(typeof I=="boolean",e,"internal-error"),Ys(a,e.name),Ys(c,e.name),Ys(d,e.name),Ys(f,e.name),Ys(m,e.name),Ys(_,e.name);const K=new hr({uid:w,auth:e,email:o,emailVerified:T,displayName:r,isAnonymous:I,photoURL:c,phoneNumber:a,tenantId:d,stsTokenManager:L,createdAt:m,lastLoginAt:_});return O&&Array.isArray(O)&&(K.providerData=O.map(Q=>({...Q}))),f&&(K._redirectEventId=f),K}static async _fromIdTokenResponse(e,t,r=!1){const o=new oa;o.updateFromServerResponse(t);const a=new hr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await mh(a),a}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];Re(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?nx(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!a?.length,d=new oa;d.updateFromIdToken(r);const f=new hr({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:c}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Lp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!a?.length};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_=new Map;function ps(n){_s(n instanceof Function,"Expected a class definition");let e=k_.get(n);return e?(_s(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,k_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}rx.type="NONE";const C_=rx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qu(n,e,t){return`firebase:${n}:${e}:${t}`}class aa{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:a}=this.auth;this.fullUserKey=Qu(this.userKey,o.apiKey,a),this.fullPersistenceKey=Qu("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await ph(this.auth,{idToken:e}).catch(()=>{});return t?hr._fromGetAccountInfoResponse(this.auth,t,e):null}return hr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new aa(ps(C_),e,r);const o=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=o[0]||ps(C_);const c=Qu(r,e.config.apiKey,e.name);let d=null;for(const m of t)try{const _=await m._get(c);if(_){let w;if(typeof _=="string"){const T=await ph(e,{idToken:_}).catch(()=>{});if(!T)break;w=await hr._fromGetAccountInfoResponse(e,T,_)}else w=hr._fromJSON(e,_);m!==a&&(d=w),a=m;break}}catch{}const f=o.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new aa(a,e,r):(a=f[0],d&&await a._set(c,d.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(c)}catch{}})),new aa(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ax(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cx(e))return"Blackberry";if(ux(e))return"Webos";if(ix(e))return"Safari";if((e.includes("chrome/")||ox(e))&&!e.includes("edge/"))return"Chrome";if(lx(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function sx(n=on()){return/firefox\//i.test(n)}function ix(n=on()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ox(n=on()){return/crios\//i.test(n)}function ax(n=on()){return/iemobile/i.test(n)}function lx(n=on()){return/android/i.test(n)}function cx(n=on()){return/blackberry/i.test(n)}function ux(n=on()){return/webos/i.test(n)}function Gm(n=on()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function jN(n=on()){return Gm(n)&&!!window.navigator?.standalone}function ON(){return JP()&&document.documentMode===10}function hx(n=on()){return Gm(n)||lx(n)||ux(n)||cx(n)||/windows phone/i.test(n)||ax(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(n,e=[]){let t;switch(n){case"Browser":t=P_(on());break;case"Worker":t=`${P_(on())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ia}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((c,d)=>{try{const f=e(a);c(f)}catch(f){d(f)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FN(n,e={}){return ba(n,"GET","/v2/passwordPolicy",Hm(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=6;class UN{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??BN,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new R_(this),this.idTokenSubscription=new R_(this),this.beforeStateQueue=new LN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=J1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ps(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await aa.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await ph(this,{idToken:e}),r=await hr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ur(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,c=r?._redirectEventId,d=await this.tryRedirectSignIn(e);(!a||a===c)&&d?.user&&(r=d.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await mh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=xN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ur(this.app))return Promise.reject(no(this));const t=e?dn(e):null;return t&&Re(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ur(this.app)?Promise.reject(no(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ur(this.app)?Promise.reject(no(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ps(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await FN(this),t=new UN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new oc("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await MN(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ps(e)||this._popupRedirectResolver;Re(t,this,"argument-error"),this.redirectPersistenceManager=await aa.create(this,[ps(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(d,this,"internal-error"),d.then(()=>{c||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,o);return()=>{c=!0,f()}}else{const f=e.addObserver(t);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ur(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&vN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Fh(n){return dn(n)}class R_{constructor(e){this.auth=e,this.observer=null,this.addObserver=oR(t=>this.observer=t)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Km={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $N(n){Km=n}function WN(n){return Km.loadJS(n)}function HN(){return Km.gapiScript}function qN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(n,e){const t=Um(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(ys(a,e??{}))return o;$r(o,"already-initialized")}return t.initialize({options:e})}function KN(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ps);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function QN(n,e,t){const r=Fh(n);Re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,a=fx(e),{host:c,port:d}=YN(e),f=d===null?"":`:${d}`,m={url:`${a}//${c}${f}/`},_=Object.freeze({host:c,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Re(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Re(ys(m,r.config.emulator)&&ys(_,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=_,r.settings.appVerificationDisabledForTesting=!0,Sa(c)?($1(`${a}//${c}${f}`),W1("Auth",!0)):XN()}function fx(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function YN(n){const e=fx(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const a=o[1];return{host:a,port:N_(r.substr(a.length+1))}}else{const[a,c]=r.split(":");return{host:a,port:N_(c)}}}function N_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function XN(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return fs("not implemented")}_getIdTokenResponse(e){return fs("not implemented")}_linkToIdToken(e,t){return fs("not implemented")}_getReauthenticationResolver(e){return fs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function la(n,e){return IN(n,"POST","/v1/accounts:signInWithIdp",Hm(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN="http://localhost";class io extends px{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new io(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):$r("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...a}=t;if(!r||!o)return null;const c=new io(r,o);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return la(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,la(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,la(e,t)}buildRequest(){const e={requestUri:JN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ac(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc extends Qm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends cc{constructor(){super("facebook.com")}static credential(e){return io._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zs.credential(e.oauthAccessToken)}catch{return null}}}Zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends cc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return io._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return ds.credential(t,r)}catch{return null}}}ds.GOOGLE_SIGN_IN_METHOD="google.com";ds.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei extends cc{constructor(){super("github.com")}static credential(e){return io._fromParams({providerId:ei.PROVIDER_ID,signInMethod:ei.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ei.credentialFromTaggedObject(e)}static credentialFromError(e){return ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ei.credential(e.oauthAccessToken)}catch{return null}}}ei.GITHUB_SIGN_IN_METHOD="github.com";ei.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti extends cc{constructor(){super("twitter.com")}static credential(e,t){return io._fromParams({providerId:ti.PROVIDER_ID,signInMethod:ti.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ti.credentialFromTaggedObject(e)}static credentialFromError(e){return ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ti.credential(t,r)}catch{return null}}}ti.TWITTER_SIGN_IN_METHOD="twitter.com";ti.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const a=await hr._fromIdTokenResponse(e,r,o),c=D_(r);return new fa({user:a,providerId:c,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=D_(r);return new fa({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function D_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh extends xs{constructor(e,t,r,o){super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,gh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new gh(e,t,r,o)}}function mx(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?gh._fromErrorAndOperation(n,a,e,r):a})}async function ZN(n,e,t=!1){const r=await Yl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return fa._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e4(n,e,t=!1){const{auth:r}=n;if(ur(r.app))return Promise.reject(no(r));const o="reauthenticate";try{const a=await Yl(n,mx(r,o,e,n),t);Re(a.idToken,r,"internal-error");const c=qm(a.idToken);Re(c,r,"internal-error");const{sub:d}=c;return Re(n.uid===d,r,"user-mismatch"),fa._forOperation(n,o,a)}catch(a){throw a?.code==="auth/user-not-found"&&$r(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t4(n,e,t=!1){if(ur(n.app))return Promise.reject(no(n));const r="signIn",o=await mx(n,r,e),a=await fa._fromIdTokenResponse(n,r,o);return t||await n._updateCurrentUser(a.user),a}function n4(n,e,t,r){return dn(n).onIdTokenChanged(e,t,r)}function r4(n,e,t){return dn(n).beforeAuthStateChanged(e,t)}function s4(n,e,t,r){return dn(n).onAuthStateChanged(e,t,r)}function i4(n){return dn(n).signOut()}const yh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(yh,"1"),this.storage.removeItem(yh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4=1e3,a4=10;class yx extends gx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,f)=>{this.notifyListeners(c,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(r);!t&&this.localCache[r]===c||this.notifyListeners(r,c)},a=this.storage.getItem(r);ON()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,a4):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},o4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}yx.type="LOCAL";const l4=yx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx extends gx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}vx.type="SESSION";const _x=vx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new Bh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:a}=t.data,c=this.handlersMap[o];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const d=Array.from(c).map(async m=>m(t.origin,a)),f=await c4(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,c;return new Promise((d,f)=>{const m=Ym("",20);o.port1.start();const _=setTimeout(()=>{f(new Error("unsupported_event"))},r);c={messageChannel:o,onMessage(w){const T=w;if(T.data.eventId===m)switch(T.data.status){case"ack":clearTimeout(_),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(T.data.response);break;default:clearTimeout(_),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(){return window}function h4(n){Or().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(){return typeof Or().WorkerGlobalScope<"u"&&typeof Or().importScripts=="function"}async function d4(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function f4(){return navigator?.serviceWorker?.controller||null}function p4(){return Ex()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx="firebaseLocalStorageDb",m4=1,vh="firebaseLocalStorage",xx="fbase_key";class uc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Uh(n,e){return n.transaction([vh],e?"readwrite":"readonly").objectStore(vh)}function g4(){const n=indexedDB.deleteDatabase(wx);return new uc(n).toPromise()}function Fp(){const n=indexedDB.open(wx,m4);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(vh,{keyPath:xx})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(vh)?e(r):(r.close(),await g4(),e(await Fp()))})})}async function V_(n,e,t){const r=Uh(n,!0).put({[xx]:e,value:t});return new uc(r).toPromise()}async function y4(n,e){const t=Uh(n,!1).get(e),r=await new uc(t).toPromise();return r===void 0?null:r.value}function M_(n,e){const t=Uh(n,!0).delete(e);return new uc(t).toPromise()}const v4=800,_4=3;class Tx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>_4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ex()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bh._getInstance(p4()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await d4(),!this.activeServiceWorker)return;this.sender=new u4(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||f4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fp();return await V_(e,yh,"1"),await M_(e,yh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>V_(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>y4(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>M_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=Uh(o,!1).getAll();return new uc(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),v4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Tx.type="LOCAL";const E4=Tx;new lc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(n,e){return e?ps(e):(Re(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm extends px{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return la(e,this._buildIdpRequest())}_linkToIdToken(e,t){return la(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return la(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function w4(n){return t4(n.auth,new Xm(n),n.bypassAuthState)}function x4(n){const{auth:e,user:t}=n;return Re(t,e,"internal-error"),e4(t,new Xm(n),n.bypassAuthState)}async function T4(n){const{auth:e,user:t}=n;return Re(t,e,"internal-error"),ZN(t,new Xm(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e,t,r,o,a=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:a,error:c,type:d}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return w4;case"linkViaPopup":case"linkViaRedirect":return T4;case"reauthViaPopup":case"reauthViaRedirect":return x4;default:$r(this.auth,"internal-error")}}resolve(e){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4=new lc(2e3,1e4);async function S4(n,e,t){if(ur(n.app))return Promise.reject(dr(n,"operation-not-supported-in-this-environment"));const r=Fh(n);_N(n,e,Qm);const o=Ax(r,t);return new Ji(r,"signInViaPopup",e,o).executeNotNull()}class Ji extends Sx{constructor(e,t,r,o,a){super(e,t,o,a),this.provider=r,this.authWindow=null,this.pollId=null,Ji.currentPopupAction&&Ji.currentPopupAction.cancel(),Ji.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){_s(this.filter.length===1,"Popup operations only handle one event");const e=Ym();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(dr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(dr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ji.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(dr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,A4.get())};e()}}Ji.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4="pendingRedirect",Yu=new Map;class b4 extends Sx{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Yu.get(this.auth._key());if(!e){try{const r=await k4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Yu.set(this.auth._key(),e)}return this.bypassAuthState||Yu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function k4(n,e){const t=R4(e),r=P4(n);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function C4(n,e){Yu.set(n._key(),e)}function P4(n){return ps(n._redirectPersistence)}function R4(n){return Qu(I4,n.config.apiKey,n.name)}async function N4(n,e,t=!1){if(ur(n.app))return Promise.reject(no(n));const r=Fh(n),o=Ax(r,e),c=await new b4(r,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4=600*1e3;class V4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!M4(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Ix(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(dr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=D4&&this.cachedEventUids.clear(),this.cachedEventUids.has(j_(e))}saveEventToCache(e){this.cachedEventUids.add(j_(e)),this.lastProcessedEventTime=Date.now()}}function j_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Ix({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function M4(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ix(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j4(n,e={}){return ba(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,L4=/^https?/;async function F4(n){if(n.config.emulator)return;const{authorizedDomains:e}=await j4(n);for(const t of e)try{if(B4(t))return}catch{}$r(n,"unauthorized-domain")}function B4(n){const e=Op(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===r}if(!L4.test(t))return!1;if(O4.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4=new lc(3e4,6e4);function O_(){const n=Or().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function z4(n){return new Promise((e,t)=>{function r(){O_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{O_(),t(dr(n,"network-request-failed"))},timeout:U4.get()})}if(Or().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Or().gapi?.load)r();else{const o=qN("iframefcb");return Or()[o]=()=>{gapi.load?r():t(dr(n,"network-request-failed"))},WN(`${HN()}?onload=${o}`).catch(a=>t(a))}}).catch(e=>{throw Xu=null,e})}let Xu=null;function $4(n){return Xu=Xu||z4(n),Xu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4=new lc(5e3,15e3),H4="__/auth/iframe",q4="emulator/auth/iframe",G4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},K4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Q4(n){const e=n.config;Re(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Wm(e,q4):`https://${n.config.authDomain}/${H4}`,r={apiKey:e.apiKey,appName:n.name,v:Ia},o=K4.get(n.config.apiHost);o&&(r.eid=o);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${ac(r).slice(1)}`}async function Y4(n){const e=await $4(n),t=Or().gapi;return Re(t,n,"internal-error"),e.open({where:document.body,url:Q4(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:G4,dontclear:!0},r=>new Promise(async(o,a)=>{await r.restyle({setHideOnLeave:!1});const c=dr(n,"network-request-failed"),d=Or().setTimeout(()=>{a(c)},W4.get());function f(){Or().clearTimeout(d),o(r)}r.ping(f).then(f,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},J4=500,Z4=600,eD="_blank",tD="http://localhost";class L_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nD(n,e,t,r=J4,o=Z4){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f={...X4,width:r.toString(),height:o.toString(),top:a,left:c},m=on().toLowerCase();t&&(d=ox(m)?eD:t),sx(m)&&(e=e||tD,f.scrollbars="yes");const _=Object.entries(f).reduce((T,[I,O])=>`${T}${I}=${O},`,"");if(jN(m)&&d!=="_self")return rD(e||"",d),new L_(null);const w=window.open(e||"",d,_);Re(w,n,"popup-blocked");try{w.focus()}catch{}return new L_(w)}function rD(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD="__/auth/handler",iD="emulator/auth/handler",oD=encodeURIComponent("fac");async function F_(n,e,t,r,o,a){Re(n.config.authDomain,n,"auth-domain-config-required"),Re(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ia,eventId:o};if(e instanceof Qm){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",iR(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,w]of Object.entries({}))c[_]=w}if(e instanceof cc){const _=e.getScopes().filter(w=>w!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const f=await n._getAppCheckToken(),m=f?`#${oD}=${encodeURIComponent(f)}`:"";return`${aD(n)}?${ac(d).slice(1)}${m}`}function aD({config:n}){return n.emulator?Wm(n,iD):`https://${n.authDomain}/${sD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp="webStorageSupport";class lD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_x,this._completeRedirectFn=N4,this._overrideRedirectResult=C4}async _openPopup(e,t,r,o){_s(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await F_(e,t,r,Op(),o);return nD(e,a,Ym())}async _openRedirect(e,t,r,o){await this._originValidation(e);const a=await F_(e,t,r,Op(),o);return h4(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(_s(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await Y4(e),r=new V4(e);return t.register("authEvent",o=>(Re(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(tp,{type:tp},o=>{const a=o?.[0]?.[tp];a!==void 0&&t(!!a),$r(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=F4(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return hx()||ix()||Gm()}}const cD=lD;var B_="@firebase/auth",U_="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hD(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dD(n){da(new so("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=r.options;Re(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dx(n)},m=new zN(r,o,a,f);return KN(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),da(new so("auth-internal",e=>{const t=Fh(e.getProvider("auth").getImmediate());return(r=>new uD(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ii(B_,U_,hD(n)),ii(B_,U_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD=300,pD=z1("authIdTokenMaxAge")||fD;let z_=null;const mD=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>pD)return;const o=t?.token;z_!==o&&(z_=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function gD(n=K1()){const e=Um(n,"auth");if(e.isInitialized())return e.getImmediate();const t=GN(n,{popupRedirectResolver:cD,persistence:[E4,l4,_x]}),r=z1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const c=mD(a.toString());r4(t,c,()=>c(t.currentUser)),n4(t,d=>c(d))}}const o=B1("auth");return o&&QN(t,`http://${o}`),t}function yD(){return document.getElementsByTagName("head")?.[0]??document}$N({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=o=>{const a=dr("internal-error");a.customData=o,t(a)},r.type="text/javascript",r.charset="UTF-8",yD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dD("Browser");var vD="firebase",_D="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ii(vD,_D,"app");var $_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oi,bx;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,A){function b(){}b.prototype=A.prototype,P.F=A.prototype,P.prototype=new b,P.prototype.constructor=P,P.D=function(D,R,F){for(var C=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)C[Le-2]=arguments[Le];return A.prototype[R].apply(D,C)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,A,b){b||(b=0);const D=Array(16);if(typeof A=="string")for(var R=0;R<16;++R)D[R]=A.charCodeAt(b++)|A.charCodeAt(b++)<<8|A.charCodeAt(b++)<<16|A.charCodeAt(b++)<<24;else for(R=0;R<16;++R)D[R]=A[b++]|A[b++]<<8|A[b++]<<16|A[b++]<<24;A=P.g[0],b=P.g[1],R=P.g[2];let F=P.g[3],C;C=A+(F^b&(R^F))+D[0]+3614090360&4294967295,A=b+(C<<7&4294967295|C>>>25),C=F+(R^A&(b^R))+D[1]+3905402710&4294967295,F=A+(C<<12&4294967295|C>>>20),C=R+(b^F&(A^b))+D[2]+606105819&4294967295,R=F+(C<<17&4294967295|C>>>15),C=b+(A^R&(F^A))+D[3]+3250441966&4294967295,b=R+(C<<22&4294967295|C>>>10),C=A+(F^b&(R^F))+D[4]+4118548399&4294967295,A=b+(C<<7&4294967295|C>>>25),C=F+(R^A&(b^R))+D[5]+1200080426&4294967295,F=A+(C<<12&4294967295|C>>>20),C=R+(b^F&(A^b))+D[6]+2821735955&4294967295,R=F+(C<<17&4294967295|C>>>15),C=b+(A^R&(F^A))+D[7]+4249261313&4294967295,b=R+(C<<22&4294967295|C>>>10),C=A+(F^b&(R^F))+D[8]+1770035416&4294967295,A=b+(C<<7&4294967295|C>>>25),C=F+(R^A&(b^R))+D[9]+2336552879&4294967295,F=A+(C<<12&4294967295|C>>>20),C=R+(b^F&(A^b))+D[10]+4294925233&4294967295,R=F+(C<<17&4294967295|C>>>15),C=b+(A^R&(F^A))+D[11]+2304563134&4294967295,b=R+(C<<22&4294967295|C>>>10),C=A+(F^b&(R^F))+D[12]+1804603682&4294967295,A=b+(C<<7&4294967295|C>>>25),C=F+(R^A&(b^R))+D[13]+4254626195&4294967295,F=A+(C<<12&4294967295|C>>>20),C=R+(b^F&(A^b))+D[14]+2792965006&4294967295,R=F+(C<<17&4294967295|C>>>15),C=b+(A^R&(F^A))+D[15]+1236535329&4294967295,b=R+(C<<22&4294967295|C>>>10),C=A+(R^F&(b^R))+D[1]+4129170786&4294967295,A=b+(C<<5&4294967295|C>>>27),C=F+(b^R&(A^b))+D[6]+3225465664&4294967295,F=A+(C<<9&4294967295|C>>>23),C=R+(A^b&(F^A))+D[11]+643717713&4294967295,R=F+(C<<14&4294967295|C>>>18),C=b+(F^A&(R^F))+D[0]+3921069994&4294967295,b=R+(C<<20&4294967295|C>>>12),C=A+(R^F&(b^R))+D[5]+3593408605&4294967295,A=b+(C<<5&4294967295|C>>>27),C=F+(b^R&(A^b))+D[10]+38016083&4294967295,F=A+(C<<9&4294967295|C>>>23),C=R+(A^b&(F^A))+D[15]+3634488961&4294967295,R=F+(C<<14&4294967295|C>>>18),C=b+(F^A&(R^F))+D[4]+3889429448&4294967295,b=R+(C<<20&4294967295|C>>>12),C=A+(R^F&(b^R))+D[9]+568446438&4294967295,A=b+(C<<5&4294967295|C>>>27),C=F+(b^R&(A^b))+D[14]+3275163606&4294967295,F=A+(C<<9&4294967295|C>>>23),C=R+(A^b&(F^A))+D[3]+4107603335&4294967295,R=F+(C<<14&4294967295|C>>>18),C=b+(F^A&(R^F))+D[8]+1163531501&4294967295,b=R+(C<<20&4294967295|C>>>12),C=A+(R^F&(b^R))+D[13]+2850285829&4294967295,A=b+(C<<5&4294967295|C>>>27),C=F+(b^R&(A^b))+D[2]+4243563512&4294967295,F=A+(C<<9&4294967295|C>>>23),C=R+(A^b&(F^A))+D[7]+1735328473&4294967295,R=F+(C<<14&4294967295|C>>>18),C=b+(F^A&(R^F))+D[12]+2368359562&4294967295,b=R+(C<<20&4294967295|C>>>12),C=A+(b^R^F)+D[5]+4294588738&4294967295,A=b+(C<<4&4294967295|C>>>28),C=F+(A^b^R)+D[8]+2272392833&4294967295,F=A+(C<<11&4294967295|C>>>21),C=R+(F^A^b)+D[11]+1839030562&4294967295,R=F+(C<<16&4294967295|C>>>16),C=b+(R^F^A)+D[14]+4259657740&4294967295,b=R+(C<<23&4294967295|C>>>9),C=A+(b^R^F)+D[1]+2763975236&4294967295,A=b+(C<<4&4294967295|C>>>28),C=F+(A^b^R)+D[4]+1272893353&4294967295,F=A+(C<<11&4294967295|C>>>21),C=R+(F^A^b)+D[7]+4139469664&4294967295,R=F+(C<<16&4294967295|C>>>16),C=b+(R^F^A)+D[10]+3200236656&4294967295,b=R+(C<<23&4294967295|C>>>9),C=A+(b^R^F)+D[13]+681279174&4294967295,A=b+(C<<4&4294967295|C>>>28),C=F+(A^b^R)+D[0]+3936430074&4294967295,F=A+(C<<11&4294967295|C>>>21),C=R+(F^A^b)+D[3]+3572445317&4294967295,R=F+(C<<16&4294967295|C>>>16),C=b+(R^F^A)+D[6]+76029189&4294967295,b=R+(C<<23&4294967295|C>>>9),C=A+(b^R^F)+D[9]+3654602809&4294967295,A=b+(C<<4&4294967295|C>>>28),C=F+(A^b^R)+D[12]+3873151461&4294967295,F=A+(C<<11&4294967295|C>>>21),C=R+(F^A^b)+D[15]+530742520&4294967295,R=F+(C<<16&4294967295|C>>>16),C=b+(R^F^A)+D[2]+3299628645&4294967295,b=R+(C<<23&4294967295|C>>>9),C=A+(R^(b|~F))+D[0]+4096336452&4294967295,A=b+(C<<6&4294967295|C>>>26),C=F+(b^(A|~R))+D[7]+1126891415&4294967295,F=A+(C<<10&4294967295|C>>>22),C=R+(A^(F|~b))+D[14]+2878612391&4294967295,R=F+(C<<15&4294967295|C>>>17),C=b+(F^(R|~A))+D[5]+4237533241&4294967295,b=R+(C<<21&4294967295|C>>>11),C=A+(R^(b|~F))+D[12]+1700485571&4294967295,A=b+(C<<6&4294967295|C>>>26),C=F+(b^(A|~R))+D[3]+2399980690&4294967295,F=A+(C<<10&4294967295|C>>>22),C=R+(A^(F|~b))+D[10]+4293915773&4294967295,R=F+(C<<15&4294967295|C>>>17),C=b+(F^(R|~A))+D[1]+2240044497&4294967295,b=R+(C<<21&4294967295|C>>>11),C=A+(R^(b|~F))+D[8]+1873313359&4294967295,A=b+(C<<6&4294967295|C>>>26),C=F+(b^(A|~R))+D[15]+4264355552&4294967295,F=A+(C<<10&4294967295|C>>>22),C=R+(A^(F|~b))+D[6]+2734768916&4294967295,R=F+(C<<15&4294967295|C>>>17),C=b+(F^(R|~A))+D[13]+1309151649&4294967295,b=R+(C<<21&4294967295|C>>>11),C=A+(R^(b|~F))+D[4]+4149444226&4294967295,A=b+(C<<6&4294967295|C>>>26),C=F+(b^(A|~R))+D[11]+3174756917&4294967295,F=A+(C<<10&4294967295|C>>>22),C=R+(A^(F|~b))+D[2]+718787259&4294967295,R=F+(C<<15&4294967295|C>>>17),C=b+(F^(R|~A))+D[9]+3951481745&4294967295,P.g[0]=P.g[0]+A&4294967295,P.g[1]=P.g[1]+(R+(C<<21&4294967295|C>>>11))&4294967295,P.g[2]=P.g[2]+R&4294967295,P.g[3]=P.g[3]+F&4294967295}r.prototype.v=function(P,A){A===void 0&&(A=P.length);const b=A-this.blockSize,D=this.C;let R=this.h,F=0;for(;F<A;){if(R==0)for(;F<=b;)o(this,P,F),F+=this.blockSize;if(typeof P=="string"){for(;F<A;)if(D[R++]=P.charCodeAt(F++),R==this.blockSize){o(this,D),R=0;break}}else for(;F<A;)if(D[R++]=P[F++],R==this.blockSize){o(this,D),R=0;break}}this.h=R,this.o+=A},r.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var A=1;A<P.length-8;++A)P[A]=0;A=this.o*8;for(var b=P.length-8;b<P.length;++b)P[b]=A&255,A/=256;for(this.v(P),P=Array(16),A=0,b=0;b<4;++b)for(let D=0;D<32;D+=8)P[A++]=this.g[b]>>>D&255;return P};function a(P,A){var b=d;return Object.prototype.hasOwnProperty.call(b,P)?b[P]:b[P]=A(P)}function c(P,A){this.h=A;const b=[];let D=!0;for(let R=P.length-1;R>=0;R--){const F=P[R]|0;D&&F==A||(b[R]=F,D=!1)}this.g=b}var d={};function f(P){return-128<=P&&P<128?a(P,function(A){return new c([A|0],A<0?-1:0)}):new c([P|0],P<0?-1:0)}function m(P){if(isNaN(P)||!isFinite(P))return w;if(P<0)return L(m(-P));const A=[];let b=1;for(let D=0;P>=b;D++)A[D]=P/b|0,b*=4294967296;return new c(A,0)}function _(P,A){if(P.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(P.charAt(0)=="-")return L(_(P.substring(1),A));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const b=m(Math.pow(A,8));let D=w;for(let F=0;F<P.length;F+=8){var R=Math.min(8,P.length-F);const C=parseInt(P.substring(F,F+R),A);R<8?(R=m(Math.pow(A,R)),D=D.j(R).add(m(C))):(D=D.j(b),D=D.add(m(C)))}return D}var w=f(0),T=f(1),I=f(16777216);n=c.prototype,n.m=function(){if(B(this))return-L(this).m();let P=0,A=1;for(let b=0;b<this.g.length;b++){const D=this.i(b);P+=(D>=0?D:4294967296+D)*A,A*=4294967296}return P},n.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(O(this))return"0";if(B(this))return"-"+L(this).toString(P);const A=m(Math.pow(P,6));var b=this;let D="";for(;;){const R=ue(b,A).g;b=K(b,R.j(A));let F=((b.g.length>0?b.g[0]:b.h)>>>0).toString(P);if(b=R,O(b))return F+D;for(;F.length<6;)F="0"+F;D=F+D}},n.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function O(P){if(P.h!=0)return!1;for(let A=0;A<P.g.length;A++)if(P.g[A]!=0)return!1;return!0}function B(P){return P.h==-1}n.l=function(P){return P=K(this,P),B(P)?-1:O(P)?0:1};function L(P){const A=P.g.length,b=[];for(let D=0;D<A;D++)b[D]=~P.g[D];return new c(b,~P.h).add(T)}n.abs=function(){return B(this)?L(this):this},n.add=function(P){const A=Math.max(this.g.length,P.g.length),b=[];let D=0;for(let R=0;R<=A;R++){let F=D+(this.i(R)&65535)+(P.i(R)&65535),C=(F>>>16)+(this.i(R)>>>16)+(P.i(R)>>>16);D=C>>>16,F&=65535,C&=65535,b[R]=C<<16|F}return new c(b,b[b.length-1]&-2147483648?-1:0)};function K(P,A){return P.add(L(A))}n.j=function(P){if(O(this)||O(P))return w;if(B(this))return B(P)?L(this).j(L(P)):L(L(this).j(P));if(B(P))return L(this.j(L(P)));if(this.l(I)<0&&P.l(I)<0)return m(this.m()*P.m());const A=this.g.length+P.g.length,b=[];for(var D=0;D<2*A;D++)b[D]=0;for(D=0;D<this.g.length;D++)for(let R=0;R<P.g.length;R++){const F=this.i(D)>>>16,C=this.i(D)&65535,Le=P.i(R)>>>16,Ge=P.i(R)&65535;b[2*D+2*R]+=C*Ge,Q(b,2*D+2*R),b[2*D+2*R+1]+=F*Ge,Q(b,2*D+2*R+1),b[2*D+2*R+1]+=C*Le,Q(b,2*D+2*R+1),b[2*D+2*R+2]+=F*Le,Q(b,2*D+2*R+2)}for(P=0;P<A;P++)b[P]=b[2*P+1]<<16|b[2*P];for(P=A;P<2*A;P++)b[P]=0;return new c(b,0)};function Q(P,A){for(;(P[A]&65535)!=P[A];)P[A+1]+=P[A]>>>16,P[A]&=65535,A++}function Y(P,A){this.g=P,this.h=A}function ue(P,A){if(O(A))throw Error("division by zero");if(O(P))return new Y(w,w);if(B(P))return A=ue(L(P),A),new Y(L(A.g),L(A.h));if(B(A))return A=ue(P,L(A)),new Y(L(A.g),A.h);if(P.g.length>30){if(B(P)||B(A))throw Error("slowDivide_ only works with positive integers.");for(var b=T,D=A;D.l(P)<=0;)b=ae(b),D=ae(D);var R=ie(b,1),F=ie(D,1);for(D=ie(D,2),b=ie(b,2);!O(D);){var C=F.add(D);C.l(P)<=0&&(R=R.add(b),F=C),D=ie(D,1),b=ie(b,1)}return A=K(P,R.j(A)),new Y(R,A)}for(R=w;P.l(A)>=0;){for(b=Math.max(1,Math.floor(P.m()/A.m())),D=Math.ceil(Math.log(b)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),F=m(b),C=F.j(A);B(C)||C.l(P)>0;)b-=D,F=m(b),C=F.j(A);O(F)&&(F=T),R=R.add(F),P=K(P,C)}return new Y(R,P)}n.B=function(P){return ue(this,P).h},n.and=function(P){const A=Math.max(this.g.length,P.g.length),b=[];for(let D=0;D<A;D++)b[D]=this.i(D)&P.i(D);return new c(b,this.h&P.h)},n.or=function(P){const A=Math.max(this.g.length,P.g.length),b=[];for(let D=0;D<A;D++)b[D]=this.i(D)|P.i(D);return new c(b,this.h|P.h)},n.xor=function(P){const A=Math.max(this.g.length,P.g.length),b=[];for(let D=0;D<A;D++)b[D]=this.i(D)^P.i(D);return new c(b,this.h^P.h)};function ae(P){const A=P.g.length+1,b=[];for(let D=0;D<A;D++)b[D]=P.i(D)<<1|P.i(D-1)>>>31;return new c(b,P.h)}function ie(P,A){const b=A>>5;A%=32;const D=P.g.length-b,R=[];for(let F=0;F<D;F++)R[F]=A>0?P.i(F+b)>>>A|P.i(F+b+1)<<32-A:P.i(F+b);return new c(R,P.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,bx=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=_,oi=c}).apply(typeof $_<"u"?$_:typeof self<"u"?self:typeof window<"u"?window:{});var Vu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kx,bl,Cx,Ju,Bp,Px,Rx,Nx;(function(){var n,e=Object.defineProperty;function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vu=="object"&&Vu];for(var y=0;y<u.length;++y){var E=u[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=t(this);function o(u,y){if(y)e:{var E=r;u=u.split(".");for(var S=0;S<u.length-1;S++){var $=u[S];if(!($ in E))break e;E=E[$]}u=u[u.length-1],S=E[u],y=y(S),y!=S&&y!=null&&e(E,u,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(y){var E=[],S;for(S in y)Object.prototype.hasOwnProperty.call(y,S)&&E.push([S,y[S]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},c=this||self;function d(u){var y=typeof u;return y=="object"&&u!=null||y=="function"}function f(u,y,E){return u.call.apply(u.bind,arguments)}function m(u,y,E){return m=f,m.apply(null,arguments)}function _(u,y){var E=Array.prototype.slice.call(arguments,1);return function(){var S=E.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function w(u,y){function E(){}E.prototype=y.prototype,u.Z=y.prototype,u.prototype=new E,u.prototype.constructor=u,u.Ob=function(S,$,G){for(var ce=Array(arguments.length-2),De=2;De<arguments.length;De++)ce[De-2]=arguments[De];return y.prototype[$].apply(S,ce)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function I(u){const y=u.length;if(y>0){const E=Array(y);for(let S=0;S<y;S++)E[S]=u[S];return E}return[]}function O(u,y){for(let S=1;S<arguments.length;S++){const $=arguments[S];var E=typeof $;if(E=E!="object"?E:$?Array.isArray($)?"array":E:"null",E=="array"||E=="object"&&typeof $.length=="number"){E=u.length||0;const G=$.length||0;u.length=E+G;for(let ce=0;ce<G;ce++)u[E+ce]=$[ce]}else u.push($)}}class B{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function L(u){c.setTimeout(()=>{throw u},0)}function K(){var u=P;let y=null;return u.g&&(y=u.g,u.g=u.g.next,u.g||(u.h=null),y.next=null),y}class Q{constructor(){this.h=this.g=null}add(y,E){const S=Y.get();S.set(y,E),this.h?this.h.next=S:this.g=S,this.h=S}}var Y=new B(()=>new ue,u=>u.reset());class ue{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,ie=!1,P=new Q,A=()=>{const u=Promise.resolve(void 0);ae=()=>{u.then(b)}};function b(){for(var u;u=K();){try{u.h.call(u.g)}catch(E){L(E)}var y=Y;y.j(u),y.h<100&&(y.h++,u.next=y.g,y.g=u)}ie=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(u,y){this.type=u,this.g=this.target=y,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var u=!1,y=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const E=()=>{};c.addEventListener("test",E,y),c.removeEventListener("test",E,y)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function Le(u,y){R.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,y)}w(Le,R),Le.prototype.init=function(u,y){const E=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=y,y=u.relatedTarget,y||(E=="mouseover"?y=u.fromElement:E=="mouseout"&&(y=u.toElement)),this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Le.Z.h.call(this)},Le.prototype.h=function(){Le.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ge="closure_listenable_"+(Math.random()*1e6|0),Ye=0;function Te(u,y,E,S,$){this.listener=u,this.proxy=null,this.src=y,this.type=E,this.capture=!!S,this.ha=$,this.key=++Ye,this.da=this.fa=!1}function j(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function J(u,y,E){for(const S in u)y.call(E,u[S],S,u)}function U(u,y){for(const E in u)y.call(void 0,u[E],E,u)}function N(u){const y={};for(const E in u)y[E]=u[E];return y}const H="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(u,y){let E,S;for(let $=1;$<arguments.length;$++){S=arguments[$];for(E in S)u[E]=S[E];for(let G=0;G<H.length;G++)E=H[G],Object.prototype.hasOwnProperty.call(S,E)&&(u[E]=S[E])}}function re(u){this.src=u,this.g={},this.h=0}re.prototype.add=function(u,y,E,S,$){const G=u.toString();u=this.g[G],u||(u=this.g[G]=[],this.h++);const ce=we(u,y,S,$);return ce>-1?(y=u[ce],E||(y.fa=!1)):(y=new Te(y,this.src,G,!!S,$),y.fa=E,u.push(y)),y};function de(u,y){const E=y.type;if(E in u.g){var S=u.g[E],$=Array.prototype.indexOf.call(S,y,void 0),G;(G=$>=0)&&Array.prototype.splice.call(S,$,1),G&&(j(y),u.g[E].length==0&&(delete u.g[E],u.h--))}}function we(u,y,E,S){for(let $=0;$<u.length;++$){const G=u[$];if(!G.da&&G.listener==y&&G.capture==!!E&&G.ha==S)return $}return-1}var he="closure_lm_"+(Math.random()*1e6|0),Me={};function Ue(u,y,E,S,$){if(Array.isArray(y)){for(let G=0;G<y.length;G++)Ue(u,y[G],E,S,$);return null}return E=fr(E),u&&u[Ge]?u.J(y,E,d(S)?!!S.capture:!1,$):st(u,y,E,!1,S,$)}function st(u,y,E,S,$,G){if(!y)throw Error("Invalid event type");const ce=d($)?!!$.capture:!!$;let De=Zn(u);if(De||(u[he]=De=new re(u)),E=De.add(y,E,S,ce,G),E.proxy)return E;if(S=Je(),E.proxy=S,S.src=u,S.listener=E,u.addEventListener)F||($=ce),$===void 0&&($=!1),u.addEventListener(y.toString(),S,$);else if(u.attachEvent)u.attachEvent(Jn(y.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Je(){function u(E){return y.call(u.src,u.listener,E)}const y=ln;return u}function an(u,y,E,S,$){if(Array.isArray(y))for(var G=0;G<y.length;G++)an(u,y[G],E,S,$);else S=d(S)?!!S.capture:!!S,E=fr(E),u&&u[Ge]?(u=u.i,G=String(y).toString(),G in u.g&&(y=u.g[G],E=we(y,E,S,$),E>-1&&(j(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete u.g[G],u.h--)))):u&&(u=Zn(u))&&(y=u.g[y.toString()],u=-1,y&&(u=we(y,E,S,$)),(E=u>-1?y[u]:null)&&An(E))}function An(u){if(typeof u!="number"&&u&&!u.da){var y=u.src;if(y&&y[Ge])de(y.i,u);else{var E=u.type,S=u.proxy;y.removeEventListener?y.removeEventListener(E,S,u.capture):y.detachEvent?y.detachEvent(Jn(E),S):y.addListener&&y.removeListener&&y.removeListener(S),(E=Zn(y))?(de(E,u),E.h==0&&(E.src=null,y[he]=null)):j(u)}}}function Jn(u){return u in Me?Me[u]:Me[u]="on"+u}function ln(u,y){if(u.da)u=!0;else{y=new Le(y,this);const E=u.listener,S=u.ha||u.src;u.fa&&An(u),u=E.call(S,y)}return u}function Zn(u){return u=u[he],u instanceof re?u:null}var xt="__closure_events_fn_"+(Math.random()*1e9>>>0);function fr(u){return typeof u=="function"?u:(u[xt]||(u[xt]=function(y){return u.handleEvent(y)}),u[xt])}function ht(){D.call(this),this.i=new re(this),this.M=this,this.G=null}w(ht,D),ht.prototype[Ge]=!0,ht.prototype.removeEventListener=function(u,y,E,S){an(this,u,y,E,S)};function it(u,y){var E,S=u.G;if(S)for(E=[];S;S=S.G)E.push(S);if(u=u.M,S=y.type||y,typeof y=="string")y=new R(y,u);else if(y instanceof R)y.target=y.target||u;else{var $=y;y=new R(S,u),le(y,$)}$=!0;let G,ce;if(E)for(ce=E.length-1;ce>=0;ce--)G=y.g=E[ce],$=je(G,S,!0,y)&&$;if(G=y.g=u,$=je(G,S,!0,y)&&$,$=je(G,S,!1,y)&&$,E)for(ce=0;ce<E.length;ce++)G=y.g=E[ce],$=je(G,S,!1,y)&&$}ht.prototype.N=function(){if(ht.Z.N.call(this),this.i){var u=this.i;for(const y in u.g){const E=u.g[y];for(let S=0;S<E.length;S++)j(E[S]);delete u.g[y],u.h--}}this.G=null},ht.prototype.J=function(u,y,E,S){return this.i.add(String(u),y,!1,E,S)},ht.prototype.K=function(u,y,E,S){return this.i.add(String(u),y,!0,E,S)};function je(u,y,E,S){if(y=u.i.g[String(y)],!y)return!0;y=y.concat();let $=!0;for(let G=0;G<y.length;++G){const ce=y[G];if(ce&&!ce.da&&ce.capture==E){const De=ce.listener,Tt=ce.ha||ce.src;ce.fa&&de(u.i,ce),$=De.call(Tt,S)!==!1&&$}}return $&&!S.defaultPrevented}function jn(u,y){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=m(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(u,y||0)}function qr(u){u.g=jn(()=>{u.g=null,u.i&&(u.i=!1,qr(u))},u.l);const y=u.h;u.h=null,u.m.apply(null,y)}class Ts extends D{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:qr(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function On(u){D.call(this),this.h=u,this.g={}}w(On,D);var er=[];function Ln(u){J(u.g,function(y,E){this.g.hasOwnProperty(E)&&An(y)},u),u.g={}}On.prototype.N=function(){On.Z.N.call(this),Ln(this)},On.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fn=c.JSON.stringify,pr=c.JSON.parse,Sn=class{stringify(u){return c.JSON.stringify(u,void 0)}parse(u){return c.JSON.parse(u,void 0)}};function pn(){}function ho(){}var mr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function As(){R.call(this,"d")}w(As,R);function _i(){R.call(this,"c")}w(_i,R);var Ce={},et=null;function Ss(){return et=et||new ht}Ce.Ia="serverreachability";function fo(u){R.call(this,Ce.Ia,u)}w(fo,R);function Gr(u){const y=Ss();it(y,new fo(y))}Ce.STAT_EVENT="statevent";function Kr(u,y){R.call(this,Ce.STAT_EVENT,u),this.stat=y}w(Kr,R);function _t(u){const y=Ss();it(y,new Kr(y,u))}Ce.Ja="timingevent";function Ma(u,y){R.call(this,Ce.Ja,u),this.size=y}w(Ma,R);function Is(u,y){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){u()},y)}function bs(){this.g=!0}bs.prototype.ua=function(){this.g=!1};function yc(u,y,E,S,$,G){u.info(function(){if(u.g)if(G){var ce="",De=G.split("&");for(let nt=0;nt<De.length;nt++){var Tt=De[nt].split("=");if(Tt.length>1){const bt=Tt[0];Tt=Tt[1];const Rn=bt.split("_");ce=Rn.length>=2&&Rn[1]=="type"?ce+(bt+"="+Tt+"&"):ce+(bt+"=redacted&")}}}else ce=null;else ce=G;return"XMLHTTP REQ ("+S+") [attempt "+$+"]: "+y+`
`+E+`
`+ce})}function vc(u,y,E,S,$,G,ce){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+$+"]: "+y+`
`+E+`
`+G+" "+ce})}function gr(u,y,E,S){u.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ei(u,E)+(S?" "+S:"")})}function _c(u,y){u.info(function(){return"TIMEOUT: "+y})}bs.prototype.info=function(){};function Ei(u,y){if(!u.g)return y;if(!y)return null;try{const G=JSON.parse(y);if(G){for(u=0;u<G.length;u++)if(Array.isArray(G[u])){var E=G[u];if(!(E.length<2)){var S=E[1];if(Array.isArray(S)&&!(S.length<1)){var $=S[0];if($!="noop"&&$!="stop"&&$!="close")for(let ce=1;ce<S.length;ce++)S[ce]=""}}}}return fn(G)}catch{return y}}var ks={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Cs={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ec;function Qr(){}w(Qr,pn),Qr.prototype.g=function(){return new XMLHttpRequest},Ec=new Qr;function yr(u){return encodeURIComponent(String(u))}function po(u){var y=1;u=u.split(":");const E=[];for(;y>0&&u.length;)E.push(u.shift()),y--;return u.length&&E.push(u.join(":")),E}function Fn(u,y,E,S){this.j=u,this.i=y,this.l=E,this.S=S||1,this.V=new On(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new wc}function wc(){this.i=null,this.g="",this.h=!1}var xc={},ja={};function tr(u,y,E){u.M=1,u.A=Xr(Bn(y)),u.u=E,u.R=!0,Oa(u,null)}function Oa(u,y){u.F=Date.now(),wi(u),u.B=Bn(u.A);var E=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),Ga(E.i,"t",S),u.C=0,E=u.j.L,u.h=new wc,u.g=Nc(u.j,E?y:null,!u.u),u.P>0&&(u.O=new Ts(m(u.Y,u,u.g),u.P)),y=u.V,E=u.g,S=u.ba;var $="readystatechange";Array.isArray($)||($&&(er[0]=$.toString()),$=er);for(let G=0;G<$.length;G++){const ce=Ue(E,$[G],S||y.handleEvent,!1,y.h||y);if(!ce)break;y.g[ce.key]=ce}y=u.J?N(u.J):{},u.u?(u.v||(u.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,y)):(u.v="GET",u.g.ea(u.B,u.v,null,y)),Gr(),yc(u.i,u.v,u.B,u.l,u.S,u.u)}Fn.prototype.ba=function(u){u=u.target;const y=this.O;y&&Ar(u)==3?y.j():this.Y(u)},Fn.prototype.Y=function(u){try{if(u==this.g)e:{const De=Ar(this.g),Tt=this.g.ya(),nt=this.g.ca();if(!(De<3)&&(De!=3||this.g&&(this.h.h||this.g.la()||Pc(this.g)))){this.K||De!=4||Tt==7||(Tt==8||nt<=0?Gr(3):Gr(2)),mo(this);var y=this.g.ca();this.X=y;var E=Tc(this);if(this.o=y==200,vc(this.i,this.v,this.B,this.l,this.S,De,y),this.o){if(this.U&&!this.L){t:{if(this.g){var S,$=this.g;if((S=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(S)){var G=S;break t}}G=null}if(u=G)gr(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,at(this,u);else{this.o=!1,this.m=3,_t(12),Yr(this),xi(this);break e}}if(this.R){u=!0;let bt;for(;!this.K&&this.C<E.length;)if(bt=Sc(this,E),bt==ja){De==4&&(this.m=4,_t(14),u=!1),gr(this.i,this.l,null,"[Incomplete Response]");break}else if(bt==xc){this.m=4,_t(15),gr(this.i,this.l,E,"[Invalid Chunk]"),u=!1;break}else gr(this.i,this.l,bt,null),at(this,bt);if(Ac(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||E.length!=0||this.h.h||(this.m=1,_t(16),u=!1),this.o=this.o&&u,!u)gr(this.i,this.l,E,"[Invalid Chunked Response]"),Yr(this),xi(this);else if(E.length>0&&!this.W){this.W=!0;var ce=this.j;ce.g==this&&ce.aa&&!ce.P&&(ce.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Ri(ce),ce.P=!0,_t(11))}}else gr(this.i,this.l,E,null),at(this,E);De==4&&Yr(this),this.o&&!this.K&&(De==4?So(this.j,this):(this.o=!1,wi(this)))}else Qa(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,_t(12)):(this.m=0,_t(13)),Yr(this),xi(this)}}}catch{}finally{}};function Tc(u){if(!Ac(u))return u.g.la();const y=Pc(u.g);if(y==="")return"";let E="";const S=y.length,$=Ar(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Yr(u),xi(u),"";u.h.i=new c.TextDecoder}for(let G=0;G<S;G++)u.h.h=!0,E+=u.h.i.decode(y[G],{stream:!($&&G==S-1)});return y.length=0,u.h.g+=E,u.C=0,u.h.g}function Ac(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Sc(u,y){var E=u.C,S=y.indexOf(`
`,E);return S==-1?ja:(E=Number(y.substring(E,S)),isNaN(E)?xc:(S+=1,S+E>y.length?ja:(y=y.slice(S,S+E),u.C=S+E,y)))}Fn.prototype.cancel=function(){this.K=!0,Yr(this)};function wi(u){u.T=Date.now()+u.H,La(u,u.H)}function La(u,y){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Is(m(u.aa,u),y)}function mo(u){u.D&&(c.clearTimeout(u.D),u.D=null)}Fn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(_c(this.i,this.B),this.M!=2&&(Gr(),_t(17)),Yr(this),this.m=2,xi(this)):La(this,this.T-u)};function xi(u){u.j.I==0||u.K||So(u.j,u)}function Yr(u){mo(u);var y=u.O;y&&typeof y.dispose=="function"&&y.dispose(),u.O=null,Ln(u.V),u.g&&(y=u.g,u.g=null,y.abort(),y.dispose())}function at(u,y){try{var E=u.j;if(E.I!=0&&(E.g==u||Ba(E.h,u))){if(!u.L&&Ba(E.h,u)&&E.I==3){try{var S=E.Ba.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var $=S;if($[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<u.F)Ao(E),Cn(E);else break e;br(E),_t(18)}}else E.xa=$[1],0<E.xa-E.K&&$[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Is(m(E.Va,E),6e3));Ti(E.h)<=1&&E.ta&&(E.ta=void 0)}else Pn(E,11)}else if((u.L||E.g==u)&&Ao(E),!C(y))for($=E.Ba.g.parse(y),y=0;y<$.length;y++){let nt=$[y];const bt=nt[0];if(!(bt<=E.K))if(E.K=bt,nt=nt[1],E.I==2)if(nt[0]=="c"){E.M=nt[1],E.ba=nt[2];const Rn=nt[3];Rn!=null&&(E.ka=Rn,E.j.info("VER="+E.ka));const ns=nt[4];ns!=null&&(E.za=ns,E.j.info("SVER="+E.za));const kr=nt[5];kr!=null&&typeof kr=="number"&&kr>0&&(S=1.5*kr,E.O=S,E.j.info("backChannelRequestTimeoutMs_="+S)),S=E;const Cr=u.g;if(Cr){const ko=Cr.g?Cr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ko){var G=S.h;G.g||ko.indexOf("spdy")==-1&&ko.indexOf("quic")==-1&&ko.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(yo(G,G.h),G.h=null))}if(S.G){const Ja=Cr.g?Cr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ja&&(S.wa=Ja,Ze(S.J,S.G,Ja))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-u.F,E.j.info("Handshake RTT: "+E.T+"ms")),S=E;var ce=u;if(S.na=Xa(S,S.L?S.ba:null,S.W),ce.L){Ai(S.h,ce);var De=ce,Tt=S.O;Tt&&(De.H=Tt),De.D&&(mo(De),wi(De)),S.g=ce}else Yt(S);E.i.length>0&&ts(E)}else nt[0]!="stop"&&nt[0]!="close"||Pn(E,7);else E.I==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?Pn(E,7):xo(E):nt[0]!="noop"&&E.l&&E.l.qa(nt),E.A=0)}}Gr(4)}catch{}}var sd=class{constructor(u,y){this.g=u,this.map=y}};function go(u){this.l=u||10,c.PerformanceNavigationTiming?(u=c.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Fa(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ti(u){return u.h?1:u.g?u.g.size:0}function Ba(u,y){return u.h?u.h==y:u.g?u.g.has(y):!1}function yo(u,y){u.g?u.g.add(y):u.h=y}function Ai(u,y){u.h&&u.h==y?u.h=null:u.g&&u.g.has(y)&&u.g.delete(y)}go.prototype.cancel=function(){if(this.i=In(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function In(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let y=u.i;for(const E of u.g.values())y=y.concat(E.G);return y}return I(u.i)}var Ic=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bn(u,y){if(u){u=u.split("&");for(let E=0;E<u.length;E++){const S=u[E].indexOf("=");let $,G=null;S>=0?($=u[E].substring(0,S),G=u[E].substring(S+1)):$=u[E],y($,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function vr(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;u instanceof vr?(this.l=u.l,Si(this,u.j),this.o=u.o,this.g=u.g,_r(this,u.u),this.h=u.h,Ps(this,Ka(u.i)),this.m=u.m):u&&(y=String(u).match(Ic))?(this.l=!1,Si(this,y[1]||"",!0),this.o=Ii(y[2]||""),this.g=Ii(y[3]||"",!0),_r(this,y[4]),this.h=Ii(y[5]||"",!0),Ps(this,y[6]||"",!0),this.m=Ii(y[7]||"")):(this.l=!1,this.i=new qe(null,this.l))}vr.prototype.toString=function(){const u=[];var y=this.j;y&&u.push(bi(y,za,!0),":");var E=this.g;return(E||y=="file")&&(u.push("//"),(y=this.o)&&u.push(bi(y,za,!0),"@"),u.push(yr(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&u.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&u.push("/"),u.push(bi(E,E.charAt(0)=="/"?ki:$a,!0))),(E=this.i.toString())&&u.push("?",E),(E=this.m)&&u.push("#",bi(E,Wa)),u.join("")},vr.prototype.resolve=function(u){const y=Bn(this);let E=!!u.j;E?Si(y,u.j):E=!!u.o,E?y.o=u.o:E=!!u.g,E?y.g=u.g:E=u.u!=null;var S=u.h;if(E)_r(y,u.u);else if(E=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var $=y.h.lastIndexOf("/");$!=-1&&(S=y.h.slice(0,$+1)+S)}if($=S,$==".."||$==".")S="";else if($.indexOf("./")!=-1||$.indexOf("/.")!=-1){S=$.lastIndexOf("/",0)==0,$=$.split("/");const G=[];for(let ce=0;ce<$.length;){const De=$[ce++];De=="."?S&&ce==$.length&&G.push(""):De==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),S&&ce==$.length&&G.push("")):(G.push(De),S=!0)}S=G.join("/")}else S=$}return E?y.h=S:E=u.i.toString()!=="",E?Ps(y,Ka(u.i)):E=!!u.m,E&&(y.m=u.m),y};function Bn(u){return new vr(u)}function Si(u,y,E){u.j=E?Ii(y,!0):y,u.j&&(u.j=u.j.replace(/:$/,""))}function _r(u,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);u.u=y}else u.u=null}function Ps(u,y,E){y instanceof qe?(u.i=y,_o(u.i,u.l)):(E||(y=bi(y,id)),u.i=new qe(y,u.l))}function Ze(u,y,E){u.i.set(y,E)}function Xr(u){return Ze(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ii(u,y){return u?y?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function bi(u,y,E){return typeof u=="string"?(u=encodeURI(u).replace(y,Ua),E&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Ua(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var za=/[#\/\?@]/g,$a=/[#\?:]/g,ki=/[#\?]/g,id=/[#\?@]/g,Wa=/#/g;function qe(u,y){this.h=this.g=null,this.i=u||null,this.j=!!y}function Er(u){u.g||(u.g=new Map,u.h=0,u.i&&bn(u.i,function(y,E){u.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}n=qe.prototype,n.add=function(u,y){Er(this),this.i=null,u=wr(this,u);let E=this.g.get(u);return E||this.g.set(u,E=[]),E.push(y),this.h+=1,this};function Ha(u,y){Er(u),y=wr(u,y),u.g.has(y)&&(u.i=null,u.h-=u.g.get(y).length,u.g.delete(y))}function vo(u,y){return Er(u),y=wr(u,y),u.g.has(y)}n.forEach=function(u,y){Er(this),this.g.forEach(function(E,S){E.forEach(function($){u.call(y,$,S,this)},this)},this)};function qa(u,y){Er(u);let E=[];if(typeof y=="string")vo(u,y)&&(E=E.concat(u.g.get(wr(u,y))));else for(u=Array.from(u.g.values()),y=0;y<u.length;y++)E=E.concat(u[y]);return E}n.set=function(u,y){return Er(this),this.i=null,u=wr(this,u),vo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[y]),this.h+=1,this},n.get=function(u,y){return u?(u=qa(this,u),u.length>0?String(u[0]):y):y};function Ga(u,y,E){Ha(u,y),E.length>0&&(u.i=null,u.g.set(wr(u,y),I(E)),u.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],y=Array.from(this.g.keys());for(let S=0;S<y.length;S++){var E=y[S];const $=yr(E);E=qa(this,E);for(let G=0;G<E.length;G++){let ce=$;E[G]!==""&&(ce+="="+yr(E[G])),u.push(ce)}}return this.i=u.join("&")};function Ka(u){const y=new qe;return y.i=u.i,u.g&&(y.g=new Map(u.g),y.h=u.h),y}function wr(u,y){return y=String(y),u.j&&(y=y.toLowerCase()),y}function _o(u,y){y&&!u.j&&(Er(u),u.i=null,u.g.forEach(function(E,S){const $=S.toLowerCase();S!=$&&(Ha(this,S),Ga(this,$,E))},u)),u.j=y}function xr(u,y){const E=new bs;if(c.Image){const S=new Image;S.onload=_(zt,E,"TestLoadImage: loaded",!0,y,S),S.onerror=_(zt,E,"TestLoadImage: error",!1,y,S),S.onabort=_(zt,E,"TestLoadImage: abort",!1,y,S),S.ontimeout=_(zt,E,"TestLoadImage: timeout",!1,y,S),c.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else y(!1)}function Tr(u,y){const E=new bs,S=new AbortController,$=setTimeout(()=>{S.abort(),zt(E,"TestPingServer: timeout",!1,y)},1e4);fetch(u,{signal:S.signal}).then(G=>{clearTimeout($),G.ok?zt(E,"TestPingServer: ok",!0,y):zt(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout($),zt(E,"TestPingServer: error",!1,y)})}function zt(u,y,E,S,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),S(E)}catch{}}function Ci(){this.g=new Sn}function Jr(u){this.i=u.Sb||null,this.h=u.ab||!1}w(Jr,pn),Jr.prototype.g=function(){return new kn(this.i,this.h)};function kn(u,y){ht.call(this),this.H=u,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(kn,ht),n=kn.prototype,n.open=function(u,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=y,this.readyState=1,nr(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(y.body=u),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Rs(this)),this.readyState=0},n.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,nr(this)),this.g&&(this.readyState=3,nr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;bc(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function bc(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}n.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var y=u.value?u.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!u.done}))&&(this.response=this.responseText+=y)}u.done?Rs(this):nr(this),this.readyState==3&&bc(this)}},n.Oa=function(u){this.g&&(this.response=this.responseText=u,Rs(this))},n.Na=function(u){this.g&&(this.response=u,Rs(this))},n.ga=function(){this.g&&Rs(this)};function Rs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,nr(u)}n.setRequestHeader=function(u,y){this.A.append(u,y)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,u.push(E[0]+": "+E[1]),E=y.next();return u.join(`\r
`)};function nr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(kn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function kc(u){let y="";return J(u,function(E,S){y+=S,y+=":",y+=E,y+=`\r
`}),y}function Eo(u,y,E){e:{for(S in E){var S=!1;break e}S=!0}S||(E=kc(E),typeof u=="string"?E!=null&&yr(E):Ze(u,y,E))}function rt(u){ht.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(rt,ht);var Cc=/^https?$/i,od=["POST","PUT"];n=rt.prototype,n.Fa=function(u){this.H=u},n.ea=function(u,y,E,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);y=y?y.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ec.g(),this.g.onreadystatechange=T(m(this.Ca,this));try{this.B=!0,this.g.open(y,String(u),!0),this.B=!1}catch(G){Ns(this,G);return}if(u=E||"",E=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var $ in S)E.set($,S[$]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const G of S.keys())E.set(G,S.get(G));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(E.keys()).find(G=>G.toLowerCase()=="content-type"),$=c.FormData&&u instanceof c.FormData,!(Array.prototype.indexOf.call(od,y,void 0)>=0)||S||$||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ce]of E)this.g.setRequestHeader(G,ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(G){Ns(this,G)}};function Ns(u,y){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=y,u.o=5,Ds(u),es(u)}function Ds(u){u.A||(u.A=!0,it(u,"complete"),it(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,it(this,"complete"),it(this,"abort"),es(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),es(this,!0)),rt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Zr(this):this.Xa())},n.Xa=function(){Zr(this)};function Zr(u){if(u.h&&typeof a<"u"){if(u.v&&Ar(u)==4)setTimeout(u.Ca.bind(u),0);else if(it(u,"readystatechange"),Ar(u)==4){u.h=!1;try{const G=u.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var S;if(S=G===0){let ce=String(u.D).match(Ic)[1]||null;!ce&&c.self&&c.self.location&&(ce=c.self.location.protocol.slice(0,-1)),S=!Cc.test(ce?ce.toLowerCase():"")}E=S}if(E)it(u,"complete"),it(u,"success");else{u.o=6;try{var $=Ar(u)>2?u.g.statusText:""}catch{$=""}u.l=$+" ["+u.ca()+"]",Ds(u)}}finally{es(u)}}}}function es(u,y){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const E=u.g;u.g=null,y||it(u,"ready");try{E.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Ar(u){return u.g?u.g.readyState:0}n.ca=function(){try{return Ar(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(u){if(this.g){var y=this.g.responseText;return u&&y.indexOf(u)==0&&(y=y.substring(u.length)),pr(y)}};function Pc(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Qa(u){const y={};u=(u.g&&Ar(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(C(u[S]))continue;var E=po(u[S]);const $=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const G=y[$]||[];y[$]=G,G.push(E)}U(y,function(S){return S.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Sr(u,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[u]||y}function wo(u){this.za=0,this.i=[],this.j=new bs,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Sr("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Sr("baseRetryDelayMs",5e3,u),this.Za=Sr("retryDelaySeedMs",1e4,u),this.Ta=Sr("forwardChannelMaxRetries",2,u),this.va=Sr("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new go(u&&u.concurrentRequestLimit),this.Ba=new Ci,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=wo.prototype,n.ka=8,n.I=1,n.connect=function(u,y,E,S){_t(0),this.W=u,this.H=y||{},E&&S!==void 0&&(this.H.OSID=E,this.H.OAID=S),this.F=this.X,this.J=Xa(this,null,this.W),ts(this)};function xo(u){if(To(u),u.I==3){var y=u.V++,E=Bn(u.J);if(Ze(E,"SID",u.M),Ze(E,"RID",y),Ze(E,"TYPE","terminate"),Ir(u,E),y=new Fn(u,u.j,y),y.M=2,y.A=Xr(Bn(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=y.A,E=!0),E||(y.g=Nc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),wi(y)}Ni(u)}function Cn(u){u.g&&(Ri(u),u.g.cancel(),u.g=null)}function To(u){Cn(u),u.v&&(c.clearTimeout(u.v),u.v=null),Ao(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&c.clearTimeout(u.m),u.m=null)}function ts(u){if(!Fa(u.h)&&!u.m){u.m=!0;var y=u.Ea;ae||A(),ie||(ae(),ie=!0),P.add(y,u),u.D=0}}function Rc(u,y){return Ti(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=y.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Is(m(u.Ea,u,y),Io(u,u.D)),u.D++,!0)}n.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const $=new Fn(this,this.j,u);let G=this.o;if(this.U&&(G?(G=N(G),le(G,this.U)):G=this.U),this.u!==null||this.R||($.J=G,G=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var S=this.i[E];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=Ya(this,$,y),E=Bn(this.J),Ze(E,"RID",u),Ze(E,"CVER",22),this.G&&Ze(E,"X-HTTP-Session-Id",this.G),Ir(this,E),G&&(this.R?y="headers="+yr(kc(G))+"&"+y:this.u&&Eo(E,this.u,G)),yo(this.h,$),this.Ra&&Ze(E,"TYPE","init"),this.S?(Ze(E,"$req",y),Ze(E,"SID","null"),$.U=!0,tr($,E,null)):tr($,E,y),this.I=2}}else this.I==3&&(u?Pi(this,u):this.i.length==0||Fa(this.h)||Pi(this))};function Pi(u,y){var E;y?E=y.l:E=u.V++;const S=Bn(u.J);Ze(S,"SID",u.M),Ze(S,"RID",E),Ze(S,"AID",u.K),Ir(u,S),u.u&&u.o&&Eo(S,u.u,u.o),E=new Fn(u,u.j,E,u.D+1),u.u===null&&(E.J=u.o),y&&(u.i=y.G.concat(u.i)),y=Ya(u,E,1e3),E.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),yo(u.h,E),tr(E,S,y)}function Ir(u,y){u.H&&J(u.H,function(E,S){Ze(y,S,E)}),u.l&&J({},function(E,S){Ze(y,S,E)})}function Ya(u,y,E){E=Math.min(u.i.length,E);const S=u.l?m(u.l.Ka,u.l,u):null;e:{var $=u.i;let De=-1;for(;;){const Tt=["count="+E];De==-1?E>0?(De=$[0].g,Tt.push("ofs="+De)):De=0:Tt.push("ofs="+De);let nt=!0;for(let bt=0;bt<E;bt++){var G=$[bt].g;const Rn=$[bt].map;if(G-=De,G<0)De=Math.max(0,$[bt].g-100),nt=!1;else try{G="req"+G+"_"||"";try{var ce=Rn instanceof Map?Rn:Object.entries(Rn);for(const[ns,kr]of ce){let Cr=kr;d(kr)&&(Cr=fn(kr)),Tt.push(G+ns+"="+encodeURIComponent(Cr))}}catch(ns){throw Tt.push(G+"type="+encodeURIComponent("_badmap")),ns}}catch{S&&S(Rn)}}if(nt){ce=Tt.join("&");break e}}ce=void 0}return u=u.i.splice(0,E),y.G=u,ce}function Yt(u){if(!u.g&&!u.v){u.Y=1;var y=u.Da;ae||A(),ie||(ae(),ie=!0),P.add(y,u),u.A=0}}function br(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Is(m(u.Da,u),Io(u,u.A)),u.A++,!0)}n.Da=function(){if(this.v=null,Vs(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Is(m(this.Wa,this),u)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_t(10),Cn(this),Vs(this))};function Ri(u){u.B!=null&&(c.clearTimeout(u.B),u.B=null)}function Vs(u){u.g=new Fn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var y=Bn(u.na);Ze(y,"RID","rpc"),Ze(y,"SID",u.M),Ze(y,"AID",u.K),Ze(y,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ze(y,"TO",u.ia),Ze(y,"TYPE","xmlhttp"),Ir(u,y),u.u&&u.o&&Eo(y,u.u,u.o),u.O&&(u.g.H=u.O);var E=u.g;u=u.ba,E.M=1,E.A=Xr(Bn(y)),E.u=null,E.R=!0,Oa(E,u)}n.Va=function(){this.C!=null&&(this.C=null,Cn(this),br(this),_t(19))};function Ao(u){u.C!=null&&(c.clearTimeout(u.C),u.C=null)}function So(u,y){var E=null;if(u.g==y){Ao(u),Ri(u),u.g=null;var S=2}else if(Ba(u.h,y))E=y.G,Ai(u.h,y),S=1;else return;if(u.I!=0){if(y.o)if(S==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var $=u.D;S=Ss(),it(S,new Ma(S,E)),ts(u)}else Yt(u);else if($=y.m,$==3||$==0&&y.X>0||!(S==1&&Rc(u,y)||S==2&&br(u)))switch(E&&E.length>0&&(y=u.h,y.i=y.i.concat(E)),$){case 1:Pn(u,5);break;case 4:Pn(u,10);break;case 3:Pn(u,6);break;default:Pn(u,2)}}}function Io(u,y){let E=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(E*=2),E*y}function Pn(u,y){if(u.j.info("Error code "+y),y==2){var E=m(u.bb,u),S=u.Ua;const $=!S;S=new vr(S||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Si(S,"https"),Xr(S),$?xr(S.toString(),E):Tr(S.toString(),E)}else _t(2);u.I=0,u.l&&u.l.pa(y),Ni(u),To(u)}n.bb=function(u){u?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function Ni(u){if(u.I=0,u.ja=[],u.l){const y=In(u.h);(y.length!=0||u.i.length!=0)&&(O(u.ja,y),O(u.ja,u.i),u.h.i.length=0,I(u.i),u.i.length=0),u.l.oa()}}function Xa(u,y,E){var S=E instanceof vr?Bn(E):new vr(E);if(S.g!="")y&&(S.g=y+"."+S.g),_r(S,S.u);else{var $=c.location;S=$.protocol,y=y?y+"."+$.hostname:$.hostname,$=+$.port;const G=new vr(null);S&&Si(G,S),y&&(G.g=y),$&&_r(G,$),E&&(G.h=E),S=G}return E=u.G,y=u.wa,E&&y&&Ze(S,E,y),Ze(S,"VER",u.ka),Ir(u,S),S}function Nc(u,y,E){if(y&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=u.Aa&&!u.ma?new rt(new Jr({ab:E})):new rt(u.ma),y.Fa(u.L),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Dc(){}n=Dc.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function bo(){}bo.prototype.g=function(u,y){return new $t(u,y)};function $t(u,y){ht.call(this),this.g=new wo(y),this.l=u,this.h=y&&y.messageUrlParams||null,u=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(u?u["X-WebChannel-Content-Type"]=y.messageContentType:u={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(u?u["X-WebChannel-Client-Profile"]=y.sa:u={"X-WebChannel-Client-Profile":y.sa}),this.g.U=u,(u=y&&y.Qb)&&!C(u)&&(this.g.u=u),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!C(y)&&(this.g.G=y,u=this.h,u!==null&&y in u&&(u=this.h,y in u&&delete u[y])),this.j=new Ms(this)}w($t,ht),$t.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},$t.prototype.close=function(){xo(this.g)},$t.prototype.o=function(u){var y=this.g;if(typeof u=="string"){var E={};E.__data__=u,u=E}else this.v&&(E={},E.__data__=fn(u),u=E);y.i.push(new sd(y.Ya++,u)),y.I==3&&ts(y)},$t.prototype.N=function(){this.g.l=null,delete this.j,xo(this.g),delete this.g,$t.Z.N.call(this)};function Vc(u){As.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var y=u.__sm__;if(y){e:{for(const E in y){u=E;break e}u=void 0}(this.i=u)&&(u=this.i,y=y!==null&&u in y?y[u]:void 0),this.data=y}else this.data=u}w(Vc,As);function Mc(){_i.call(this),this.status=1}w(Mc,_i);function Ms(u){this.g=u}w(Ms,Dc),Ms.prototype.ra=function(){it(this.g,"a")},Ms.prototype.qa=function(u){it(this.g,new Vc(u))},Ms.prototype.pa=function(u){it(this.g,new Mc)},Ms.prototype.oa=function(){it(this.g,"b")},bo.prototype.createWebChannel=bo.prototype.g,$t.prototype.send=$t.prototype.o,$t.prototype.open=$t.prototype.m,$t.prototype.close=$t.prototype.close,Nx=function(){return new bo},Rx=function(){return Ss()},Px=Ce,Bp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ks.NO_ERROR=0,ks.TIMEOUT=8,ks.HTTP_ERROR=6,Ju=ks,Cs.COMPLETE="complete",Cx=Cs,ho.EventType=mr,mr.OPEN="a",mr.CLOSE="b",mr.ERROR="c",mr.MESSAGE="d",ht.prototype.listen=ht.prototype.J,bl=ho,rt.prototype.listenOnce=rt.prototype.K,rt.prototype.getLastError=rt.prototype.Ha,rt.prototype.getLastErrorCode=rt.prototype.ya,rt.prototype.getStatus=rt.prototype.ca,rt.prototype.getResponseJson=rt.prototype.La,rt.prototype.getResponseText=rt.prototype.la,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Fa,kx=rt}).apply(typeof Vu<"u"?Vu:typeof self<"u"?self:typeof window<"u"?window:{});const W_="@firebase/firestore",H_="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ka="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo=new Fm("@firebase/firestore");function Yo(){return oo.logLevel}function pe(n,...e){if(oo.logLevel<=$e.DEBUG){const t=e.map(Jm);oo.debug(`Firestore (${ka}): ${n}`,...t)}}function Es(n,...e){if(oo.logLevel<=$e.ERROR){const t=e.map(Jm);oo.error(`Firestore (${ka}): ${n}`,...t)}}function pa(n,...e){if(oo.logLevel<=$e.WARN){const t=e.map(Jm);oo.warn(`Firestore (${ka}): ${n}`,...t)}}function Jm(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,Dx(n,r,t)}function Dx(n,e,t){let r=`FIRESTORE (${ka}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Es(r),new Error(r)}function tt(n,e,t,r){let o="Unexpected state";typeof t=="string"?o=t:r=t,n||Dx(e,o,r)}function Ve(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends xs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ED{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(nn.UNAUTHENTICATED)))}shutdown(){}}class wD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class xD{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){tt(this.o===void 0,42304);let r=this.i;const o=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new ai;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ai,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await o(this.currentUser)}))},d=f=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ai)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(tt(typeof r.accessToken=="string",31837,{l:r}),new Vx(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string",2055,{h:e}),new nn(e)}}class TD{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class AD{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new TD(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class q_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SD{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ur(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){tt(this.o===void 0,3512);const r=a=>{a.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.m;return this.m=a.token,pe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const o=a=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>o(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new q_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(tt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new q_(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=ID(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<t&&(r+=e.charAt(o[a]%62))}return r}}function We(n,e){return n<e?-1:n>e?1:0}function Up(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const o=n.charAt(r),a=e.charAt(r);if(o!==a)return np(o)===np(a)?We(o,a):np(o)?1:-1}return We(n.length,e.length)}const bD=55296,kD=57343;function np(n){const e=n.charCodeAt(0);return e>=bD&&e<=kD}function ma(n,e,t){return n.length===e.length&&n.every(((r,o)=>t(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="__name__";class Vr{constructor(e,t,r){t===void 0?t=0:t>e.length&&be(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&be(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Vr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Vr?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const a=Vr.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return We(e.length,t.length)}static compareSegments(e,t){const r=Vr.isNumericId(e),o=Vr.isNumericId(t);return r&&!o?-1:!r&&o?1:r&&o?Vr.extractNumericId(e).compare(Vr.extractNumericId(t)):Up(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return oi.fromString(e.substring(4,e.length-2))}}class gt extends Vr{construct(e,t,r){return new gt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new xe(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((o=>o.length>0)))}return new gt(t)}static emptyPath(){return new gt([])}}const CD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Vr{construct(e,t,r){return new Kt(e,t,r)}static isValidIdentifier(e){return CD.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===G_}static keyField(){return new Kt([G_])}static fromServerFormat(e){const t=[];let r="",o=0;const a=()=>{if(r.length===0)throw new xe(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new xe(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new xe(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(r+=d,o++):(a(),o++)}if(a(),c)throw new xe(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(t)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(gt.fromString(e))}static fromName(e){return new Ie(gt.fromString(e).popFirst(5))}static empty(){return new Ie(gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return gt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new gt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(n,e,t){if(!t)throw new xe(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function RD(n,e,t,r){if(e===!0&&r===!0)throw new xe(te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function K_(n){if(!Ie.isDocumentKey(n))throw new xe(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Mx(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function eg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":be(12329,{type:typeof n})}function ao(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new xe(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=eg(n);throw new xe(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(n,e){const t={typeString:n};return e&&(t.value=e),t}function hc(n,e){if(!Mx(n))throw new xe(te.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const o=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const c=n[r];if(o&&typeof c!==o){t=`JSON field '${r}' must be a ${o}.`;break}if(a!==void 0&&c!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new xe(te.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_=-62135596800,Y_=1e6;class ut{static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Y_);return new ut(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new xe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new xe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Q_)throw new xe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Y_}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ut._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(hc(e,ut._jsonSchema))return new ut(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Q_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ut._jsonSchemaVersion="firestore/timestamp/1.0",ut._jsonSchema={type:Rt("string",ut._jsonSchemaVersion),seconds:Rt("number"),nanoseconds:Rt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new ut(0,0))}static max(){return new Ne(new ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl=-1;function ND(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Ne.fromTimestamp(r===1e9?new ut(t+1,0):new ut(t,r));return new ui(o,Ie.empty(),e)}function DD(n){return new ui(n.readTime,n.key,Xl)}class ui{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ui(Ne.min(),Ie.empty(),Xl)}static max(){return new ui(Ne.max(),Ie.empty(),Xl)}}function VD(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ie.comparator(n.documentKey,e.documentKey),t!==0?t:We(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ca(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==MD)throw n;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Z(((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Z?t:Z.resolve(t)}catch(t){return Z.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Z.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Z.reject(t)}static resolve(e){return new Z(((t,r)=>{t(e)}))}static reject(e){return new Z(((t,r)=>{r(e)}))}static waitFor(e){return new Z(((t,r)=>{let o=0,a=0,c=!1;e.forEach((d=>{++o,d.next((()=>{++a,c&&a===o&&t()}),(f=>r(f)))})),c=!0,a===o&&t()}))}static or(e){let t=Z.resolve(!1);for(const r of e)t=t.next((o=>o?Z.resolve(o):r()));return t}static forEach(e,t){const r=[];return e.forEach(((o,a)=>{r.push(t.call(this,o,a))})),this.waitFor(r)}static mapArray(e,t){return new Z(((r,o)=>{const a=e.length,c=new Array(a);let d=0;for(let f=0;f<a;f++){const m=f;t(e[m]).next((_=>{c[m]=_,++d,d===a&&r(c)}),(_=>o(_)))}}))}static doWhile(e,t){return new Z(((r,o)=>{const a=()=>{e()===!0?t().next((()=>{a()}),o):r()};a()}))}}function OD(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Pa(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}zh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg=-1;function $h(n){return n==null}function _h(n){return n===0&&1/n==-1/0}function LD(n){return typeof n=="number"&&Number.isInteger(n)&&!_h(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx="";function FD(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=X_(e)),e=BD(n.get(t),e);return X_(e)}function BD(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case jx:t+="";break;default:t+=a}}return t}function X_(n){return n+jx+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function yi(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Ox(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,t){this.comparator=e,this.root=t||Gt.EMPTY}insert(e,t){return new vt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mu(this.root,e,this.comparator,!0)}}class Mu{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,t,r,o,a){this.key=e,this.value=t,this.color=r??Gt.RED,this.left=o??Gt.EMPTY,this.right=a??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,a){return new Gt(e??this.key,t??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,r),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Gt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,t,r,o,a){return this}insert(e,t,r){return new Gt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Z_(this.data.getIterator())}getIteratorFrom(e){return new Z_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ot(this.comparator);return t.data=e,t}}class Z_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new Mn([])}unionWith(e){let t=new Ot(Kt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Mn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ma(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Lx("Invalid base64 string: "+a):a}})(e);return new Qt(t)}static fromUint8Array(e){const t=(function(o){let a="";for(let c=0;c<o.length;++c)a+=String.fromCharCode(o[c]);return a})(e);return new Qt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const UD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hi(n){if(tt(!!n,39018),typeof n=="string"){let e=0;const t=UD.exec(n);if(tt(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:It(n.seconds),nanos:It(n.nanos)}}function It(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function di(n){return typeof n=="string"?Qt.fromBase64String(n):Qt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx="server_timestamp",Bx="__type__",Ux="__previous_value__",zx="__local_write_time__";function ng(n){return(n?.mapValue?.fields||{})[Bx]?.stringValue===Fx}function Wh(n){const e=n.mapValue.fields[Ux];return ng(e)?Wh(e):e}function Jl(n){const e=hi(n.mapValue.fields[zx].timestampValue);return new ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e,t,r,o,a,c,d,f,m,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=_}}const Eh="(default)";class Zl{constructor(e,t){this.projectId=e,this.database=t||Eh}static empty(){return new Zl("","")}get isDefaultDatabase(){return this.database===Eh}isEqual(e){return e instanceof Zl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x="__type__",$D="__max__",ju={mapValue:{}},Wx="__vector__",wh="value";function fi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ng(n)?4:HD(n)?9007199254740991:WD(n)?10:11:be(28295,{value:n})}function Wr(n,e){if(n===e)return!0;const t=fi(n);if(t!==fi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Jl(n).isEqual(Jl(e));case 3:return(function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const c=hi(o.timestampValue),d=hi(a.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,a){return di(o.bytesValue).isEqual(di(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,a){return It(o.geoPointValue.latitude)===It(a.geoPointValue.latitude)&&It(o.geoPointValue.longitude)===It(a.geoPointValue.longitude)})(n,e);case 2:return(function(o,a){if("integerValue"in o&&"integerValue"in a)return It(o.integerValue)===It(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const c=It(o.doubleValue),d=It(a.doubleValue);return c===d?_h(c)===_h(d):isNaN(c)&&isNaN(d)}return!1})(n,e);case 9:return ma(n.arrayValue.values||[],e.arrayValue.values||[],Wr);case 10:case 11:return(function(o,a){const c=o.mapValue.fields||{},d=a.mapValue.fields||{};if(J_(c)!==J_(d))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(d[f]===void 0||!Wr(c[f],d[f])))return!1;return!0})(n,e);default:return be(52216,{left:n})}}function ec(n,e){return(n.values||[]).find((t=>Wr(t,e)))!==void 0}function ga(n,e){if(n===e)return 0;const t=fi(n),r=fi(e);if(t!==r)return We(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return We(n.booleanValue,e.booleanValue);case 2:return(function(a,c){const d=It(a.integerValue||a.doubleValue),f=It(c.integerValue||c.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(n,e);case 3:return eE(n.timestampValue,e.timestampValue);case 4:return eE(Jl(n),Jl(e));case 5:return Up(n.stringValue,e.stringValue);case 6:return(function(a,c){const d=di(a),f=di(c);return d.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(a,c){const d=a.split("/"),f=c.split("/");for(let m=0;m<d.length&&m<f.length;m++){const _=We(d[m],f[m]);if(_!==0)return _}return We(d.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,c){const d=We(It(a.latitude),It(c.latitude));return d!==0?d:We(It(a.longitude),It(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return tE(n.arrayValue,e.arrayValue);case 10:return(function(a,c){const d=a.fields||{},f=c.fields||{},m=d[wh]?.arrayValue,_=f[wh]?.arrayValue,w=We(m?.values?.length||0,_?.values?.length||0);return w!==0?w:tE(m,_)})(n.mapValue,e.mapValue);case 11:return(function(a,c){if(a===ju.mapValue&&c===ju.mapValue)return 0;if(a===ju.mapValue)return 1;if(c===ju.mapValue)return-1;const d=a.fields||{},f=Object.keys(d),m=c.fields||{},_=Object.keys(m);f.sort(),_.sort();for(let w=0;w<f.length&&w<_.length;++w){const T=Up(f[w],_[w]);if(T!==0)return T;const I=ga(d[f[w]],m[_[w]]);if(I!==0)return I}return We(f.length,_.length)})(n.mapValue,e.mapValue);default:throw be(23264,{he:t})}}function eE(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return We(n,e);const t=hi(n),r=hi(e),o=We(t.seconds,r.seconds);return o!==0?o:We(t.nanos,r.nanos)}function tE(n,e){const t=n.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const a=ga(t[o],r[o]);if(a)return a}return We(t.length,r.length)}function ya(n){return zp(n)}function zp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=hi(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return di(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Ie.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",o=!0;for(const a of t.values||[])o?o=!1:r+=",",r+=zp(a);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const c of r)a?a=!1:o+=",",o+=`${c}:${zp(t.fields[c])}`;return o+"}"})(n.mapValue):be(61005,{value:n})}function Zu(n){switch(fi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wh(n);return e?16+Zu(e):16;case 5:return 2*n.stringValue.length;case 6:return di(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,a)=>o+Zu(a)),0)})(n.arrayValue);case 10:case 11:return(function(r){let o=0;return yi(r.fields,((a,c)=>{o+=a.length+Zu(c)})),o})(n.mapValue);default:throw be(13486,{value:n})}}function $p(n){return!!n&&"integerValue"in n}function rg(n){return!!n&&"arrayValue"in n}function nE(n){return!!n&&"nullValue"in n}function rE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function eh(n){return!!n&&"mapValue"in n}function WD(n){return(n?.mapValue?.fields||{})[$x]?.stringValue===Wx}function Ll(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return yi(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Ll(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ll(n.arrayValue.values[t]);return e}return{...n}}function HD(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===$D}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!eh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ll(t)}setAll(e){let t=Kt.emptyPath(),r={},o=[];e.forEach(((c,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,r,o),r={},o=[],t=d.popLast()}c?r[d.lastSegment()]=Ll(c):o.push(d.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,r,o)}delete(e){const t=this.field(e.popLast());eh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Wr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];eh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){yi(t,((o,a)=>e[o]=a));for(const o of r)delete e[o]}clone(){return new xn(Ll(this.value))}}function Hx(n){const e=[];return yi(n.fields,((t,r)=>{const o=new Kt([t]);if(eh(r)){const a=Hx(r.mapValue).fields;if(a.length===0)e.push(o);else for(const c of a)e.push(o.child(c))}else e.push(o)})),new Mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,t,r,o,a,c,d){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=a,this.data=c,this.documentState=d}static newInvalidDocument(e){return new rn(e,0,Ne.min(),Ne.min(),Ne.min(),xn.empty(),0)}static newFoundDocument(e,t,r,o){return new rn(e,1,t,Ne.min(),r,o,0)}static newNoDocument(e,t){return new rn(e,2,t,Ne.min(),Ne.min(),xn.empty(),0)}static newUnknownDocument(e,t){return new rn(e,3,t,Ne.min(),Ne.min(),xn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,t){this.position=e,this.inclusive=t}}function sE(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const a=e[o],c=n.position[o];if(a.field.isKeyField()?r=Ie.comparator(Ie.fromName(c.referenceValue),t.key):r=ga(c,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function iE(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Wr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,t="asc"){this.field=e,this.dir=t}}function qD(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{}class Mt extends qx{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new KD(e,t,r):t==="array-contains"?new XD(e,r):t==="in"?new JD(e,r):t==="not-in"?new ZD(e,r):t==="array-contains-any"?new eV(e,r):new Mt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new QD(e,r):new YD(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ga(t,this.value)):t!==null&&fi(this.value)===fi(t)&&this.matchesComparison(ga(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hr extends qx{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Hr(e,t)}matches(e){return Gx(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Gx(n){return n.op==="and"}function Kx(n){return GD(n)&&Gx(n)}function GD(n){for(const e of n.filters)if(e instanceof Hr)return!1;return!0}function Wp(n){if(n instanceof Mt)return n.field.canonicalString()+n.op.toString()+ya(n.value);if(Kx(n))return n.filters.map((e=>Wp(e))).join(",");{const e=n.filters.map((t=>Wp(t))).join(",");return`${n.op}(${e})`}}function Qx(n,e){return n instanceof Mt?(function(r,o){return o instanceof Mt&&r.op===o.op&&r.field.isEqual(o.field)&&Wr(r.value,o.value)})(n,e):n instanceof Hr?(function(r,o){return o instanceof Hr&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((a,c,d)=>a&&Qx(c,o.filters[d])),!0):!1})(n,e):void be(19439)}function Yx(n){return n instanceof Mt?(function(t){return`${t.field.canonicalString()} ${t.op} ${ya(t.value)}`})(n):n instanceof Hr?(function(t){return t.op.toString()+" {"+t.getFilters().map(Yx).join(" ,")+"}"})(n):"Filter"}class KD extends Mt{constructor(e,t,r){super(e,t,r),this.key=Ie.fromName(r.referenceValue)}matches(e){const t=Ie.comparator(e.key,this.key);return this.matchesComparison(t)}}class QD extends Mt{constructor(e,t){super(e,"in",t),this.keys=Xx("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class YD extends Mt{constructor(e,t){super(e,"not-in",t),this.keys=Xx("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Xx(n,e){return(e.arrayValue?.values||[]).map((t=>Ie.fromName(t.referenceValue)))}class XD extends Mt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return rg(t)&&ec(t.arrayValue,this.value)}}class JD extends Mt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ec(this.value.arrayValue,t)}}class ZD extends Mt{constructor(e,t){super(e,"not-in",t)}matches(e){if(ec(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!ec(this.value.arrayValue,t)}}class eV extends Mt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!rg(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>ec(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(e,t=null,r=[],o=[],a=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=c,this.endAt=d,this.Te=null}}function oE(n,e=null,t=[],r=[],o=null,a=null,c=null){return new tV(n,e,t,r,o,a,c)}function sg(n){const e=Ve(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>Wp(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),$h(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>ya(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>ya(r))).join(",")),e.Te=t}return e.Te}function ig(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!qD(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Qx(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!iE(n.startAt,e.startAt)&&iE(n.endAt,e.endAt)}function Hp(n){return Ie.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,t=null,r=[],o=[],a=null,c="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=c,this.startAt=d,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function nV(n,e,t,r,o,a,c,d){return new Hh(n,e,t,r,o,a,c,d)}function og(n){return new Hh(n)}function aE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function rV(n){return n.collectionGroup!==null}function Fl(n){const e=Ve(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Ot(Kt.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((m=>{m.isInequality()&&(d=d.add(m.field))}))})),d})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Th(a,r))})),t.has(Kt.keyField().canonicalString())||e.Ie.push(new Th(Kt.keyField(),r))}return e.Ie}function Lr(n){const e=Ve(n);return e.Ee||(e.Ee=sV(e,Fl(n))),e.Ee}function sV(n,e){if(n.limitType==="F")return oE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const a=o.dir==="desc"?"asc":"desc";return new Th(o.field,a)}));const t=n.endAt?new xh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new xh(n.startAt.position,n.startAt.inclusive):null;return oE(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function qp(n,e,t){return new Hh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function qh(n,e){return ig(Lr(n),Lr(e))&&n.limitType===e.limitType}function Jx(n){return`${sg(Lr(n))}|lt:${n.limitType}`}function Xo(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((o=>Yx(o))).join(", ")}]`),$h(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((o=>ya(o))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((o=>ya(o))).join(",")),`Target(${r})`})(Lr(n))}; limitType=${n.limitType})`}function Gh(n,e){return e.isFoundDocument()&&(function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ie.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(n,e)&&(function(r,o){for(const a of Fl(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0})(n,e)&&(function(r,o){return!(r.startAt&&!(function(c,d,f){const m=sE(c,d,f);return c.inclusive?m<=0:m<0})(r.startAt,Fl(r),o)||r.endAt&&!(function(c,d,f){const m=sE(c,d,f);return c.inclusive?m>=0:m>0})(r.endAt,Fl(r),o))})(n,e)}function iV(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Zx(n){return(e,t)=>{let r=!1;for(const o of Fl(n)){const a=oV(o,e,t);if(a!==0)return a;r=r||o.field.isKeyField()}return 0}}function oV(n,e,t){const r=n.field.isKeyField()?Ie.comparator(e.key,t.key):(function(a,c,d){const f=c.data.field(a),m=d.data.field(a);return f!==null&&m!==null?ga(f,m):be(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return be(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,a]of r)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){yi(this.inner,((t,r)=>{for(const[o,a]of r)e(o,a)}))}isEmpty(){return Ox(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV=new vt(Ie.comparator);function ws(){return aV}const e2=new vt(Ie.comparator);function kl(...n){let e=e2;for(const t of n)e=e.insert(t.key,t);return e}function t2(n){let e=e2;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Zi(){return Bl()}function n2(){return Bl()}function Bl(){return new co((n=>n.toString()),((n,e)=>n.isEqual(e)))}const lV=new vt(Ie.comparator),cV=new Ot(Ie.comparator);function He(...n){let e=cV;for(const t of n)e=e.add(t);return e}const uV=new Ot(We);function hV(){return uV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_h(e)?"-0":e}}function r2(n){return{integerValue:""+n}}function dV(n,e){return LD(e)?r2(e):ag(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(){this._=void 0}}function fV(n,e,t){return n instanceof Ah?(function(o,a){const c={fields:{[Bx]:{stringValue:Fx},[zx]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&ng(a)&&(a=Wh(a)),a&&(c.fields[Ux]=a),{mapValue:c}})(t,e):n instanceof va?i2(n,e):n instanceof _a?o2(n,e):(function(o,a){const c=s2(o,a),d=lE(c)+lE(o.Ae);return $p(c)&&$p(o.Ae)?r2(d):ag(o.serializer,d)})(n,e)}function pV(n,e,t){return n instanceof va?i2(n,e):n instanceof _a?o2(n,e):t}function s2(n,e){return n instanceof Sh?(function(r){return $p(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Ah extends Kh{}class va extends Kh{constructor(e){super(),this.elements=e}}function i2(n,e){const t=a2(e);for(const r of n.elements)t.some((o=>Wr(o,r)))||t.push(r);return{arrayValue:{values:t}}}class _a extends Kh{constructor(e){super(),this.elements=e}}function o2(n,e){let t=a2(e);for(const r of n.elements)t=t.filter((o=>!Wr(o,r)));return{arrayValue:{values:t}}}class Sh extends Kh{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function lE(n){return It(n.integerValue||n.doubleValue)}function a2(n){return rg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e,t){this.field=e,this.transform=t}}function mV(n,e){return n.field.isEqual(e.field)&&(function(r,o){return r instanceof va&&o instanceof va||r instanceof _a&&o instanceof _a?ma(r.elements,o.elements,Wr):r instanceof Sh&&o instanceof Sh?Wr(r.Ae,o.Ae):r instanceof Ah&&o instanceof Ah})(n.transform,e.transform)}class gV{constructor(e,t){this.version=e,this.transformResults=t}}class Fr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Fr}static exists(e){return new Fr(void 0,e)}static updateTime(e){return new Fr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function th(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Qh{}function c2(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new h2(n.key,Fr.none()):new dc(n.key,n.data,Fr.none());{const t=n.data,r=xn.empty();let o=new Ot(Kt.comparator);for(let a of e.fields)if(!o.has(a)){let c=t.field(a);c===null&&a.length>1&&(a=a.popLast(),c=t.field(a)),c===null?r.delete(a):r.set(a,c),o=o.add(a)}return new vi(n.key,r,new Mn(o.toArray()),Fr.none())}}function yV(n,e,t){n instanceof dc?(function(o,a,c){const d=o.value.clone(),f=uE(o.fieldTransforms,a,c.transformResults);d.setAll(f),a.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(n,e,t):n instanceof vi?(function(o,a,c){if(!th(o.precondition,a))return void a.convertToUnknownDocument(c.version);const d=uE(o.fieldTransforms,a,c.transformResults),f=a.data;f.setAll(u2(o)),f.setAll(d),a.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,e,t):(function(o,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Ul(n,e,t,r){return n instanceof dc?(function(a,c,d,f){if(!th(a.precondition,c))return d;const m=a.value.clone(),_=hE(a.fieldTransforms,f,c);return m.setAll(_),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(n,e,t,r):n instanceof vi?(function(a,c,d,f){if(!th(a.precondition,c))return d;const m=hE(a.fieldTransforms,f,c),_=c.data;return _.setAll(u2(a)),_.setAll(m),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((w=>w.field)))})(n,e,t,r):(function(a,c,d){return th(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(n,e,t)}function vV(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),a=s2(r.transform,o||null);a!=null&&(t===null&&(t=xn.empty()),t.set(r.field,a))}return t||null}function cE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&ma(r,o,((a,c)=>mV(a,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class dc extends Qh{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class vi extends Qh{constructor(e,t,r,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function u2(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function uE(n,e,t){const r=new Map;tt(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let o=0;o<t.length;o++){const a=n[o],c=a.transform,d=e.data.field(a.field);r.set(a.field,pV(c,d,t[o]))}return r}function hE(n,e,t){const r=new Map;for(const o of n){const a=o.transform,c=t.data.field(o.field);r.set(o.field,fV(a,c,e))}return r}class h2 extends Qh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _V extends Qh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&yV(a,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ul(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Ul(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=n2();return this.mutations.forEach((o=>{const a=e.get(o.key),c=a.overlayedDocument;let d=this.applyToLocalView(c,a.mutatedFields);d=t.has(o.key)?null:d;const f=c2(c,d);f!==null&&r.set(o.key,f),c.isValidDocument()||c.convertToNoDocument(Ne.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),He())}isEqual(e){return this.batchId===e.batchId&&ma(this.mutations,e.mutations,((t,r)=>cE(t,r)))&&ma(this.baseMutations,e.baseMutations,((t,r)=>cE(t,r)))}}class lg{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){tt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return lV})();const a=e.mutations;for(let c=0;c<a.length;c++)o=o.insert(a[c].key,r[c].version);return new lg(e,t,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct,Ke;function TV(n){switch(n){case te.OK:return be(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return be(15467,{code:n})}}function d2(n){if(n===void 0)return Es("GRPC error has no .code"),te.UNKNOWN;switch(n){case Ct.OK:return te.OK;case Ct.CANCELLED:return te.CANCELLED;case Ct.UNKNOWN:return te.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return te.INTERNAL;case Ct.UNAVAILABLE:return te.UNAVAILABLE;case Ct.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Ct.NOT_FOUND:return te.NOT_FOUND;case Ct.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Ct.ABORTED:return te.ABORTED;case Ct.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Ct.DATA_LOSS:return te.DATA_LOSS;default:return be(39323,{code:n})}}(Ke=Ct||(Ct={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SV=new oi([4294967295,4294967295],0);function dE(n){const e=AV().encode(n),t=new bx;return t.update(e),new Uint8Array(t.digest())}function fE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new oi([t,r],0),new oi([o,a],0)]}class cg{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Cl(`Invalid padding: ${t}`);if(r<0)throw new Cl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Cl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Cl(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=oi.fromNumber(this.ge)}ye(e,t,r){let o=e.add(t.multiply(oi.fromNumber(r)));return o.compare(SV)===1&&(o=new oi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=dE(e),[r,o]=fE(t);for(let a=0;a<this.hashCount;a++){const c=this.ye(r,o,a);if(!this.we(c))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new cg(a,o,t);return r.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const t=dE(e),[r,o]=fE(t);for(let a=0;a<this.hashCount;a++){const c=this.ye(r,o,a);this.Se(c)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Cl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,t,r,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,fc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Yh(Ne.min(),o,new vt(We),ws(),He())}}class fc{constructor(e,t,r,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new fc(r,t,He(),He(),He())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,t,r,o){this.be=e,this.removedTargetIds=t,this.key=r,this.De=o}}class f2{constructor(e,t){this.targetId=e,this.Ce=t}}class p2{constructor(e,t,r=Qt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class pE{constructor(){this.ve=0,this.Fe=mE(),this.Me=Qt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=He(),t=He(),r=He();return this.Fe.forEach(((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:be(38017,{changeType:a})}})),new fc(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=mE()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,tt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class IV{constructor(e){this.Ge=e,this.ze=new Map,this.je=ws(),this.Je=Ou(),this.He=Ou(),this.Ye=new vt(We)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,r=e.Ce.count,o=this.ot(t);if(o){const a=o.target;if(Hp(a))if(r===0){const c=new Ie(a.path);this.et(t,c,rn.newNoDocument(c,Ne.min()))}else tt(r===1,20013,{expectedCount:r});else{const c=this._t(t);if(c!==r){const d=this.ut(e),f=d?this.ct(d,e,c):1;if(f!==0){this.it(t);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,m)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=t;let c,d;try{c=di(r).toUint8Array()}catch(f){if(f instanceof Lx)return pa("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new cg(c,o,a)}catch(f){return pa(f instanceof Cl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.ge===0?null:d}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let o=0;return r.forEach((a=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.et(t,a,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((a,c)=>{const d=this.ot(c);if(d){if(a.current&&Hp(d.target)){const f=new Ie(d.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,rn.newNoDocument(f,e))}a.Be&&(t.set(c,a.ke()),a.qe())}}));let r=He();this.He.forEach(((a,c)=>{let d=!0;c.forEachWhile((f=>{const m=this.ot(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(a))})),this.je.forEach(((a,c)=>c.setReadTime(e)));const o=new Yh(e,t,this.Ye,this.je,r);return this.je=ws(),this.Je=Ou(),this.He=Ou(),this.Ye=new vt(We),o}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new pE,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Ot(We),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Ot(We),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||pe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new pE),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Ou(){return new vt(Ie.comparator)}function mE(){return new vt(Ie.comparator)}const bV={asc:"ASCENDING",desc:"DESCENDING"},kV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CV={and:"AND",or:"OR"};class PV{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Gp(n,e){return n.useProto3Json||$h(e)?e:{value:e}}function Ih(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function m2(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function RV(n,e){return Ih(n,e.toTimestamp())}function Br(n){return tt(!!n,49232),Ne.fromTimestamp((function(t){const r=hi(t);return new ut(r.seconds,r.nanos)})(n))}function ug(n,e){return Kp(n,e).canonicalString()}function Kp(n,e){const t=(function(o){return new gt(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function g2(n){const e=gt.fromString(n);return tt(w2(e),10190,{key:e.toString()}),e}function Qp(n,e){return ug(n.databaseId,e.path)}function rp(n,e){const t=g2(e);if(t.get(1)!==n.databaseId.projectId)throw new xe(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new xe(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ie(v2(t))}function y2(n,e){return ug(n.databaseId,e)}function NV(n){const e=g2(n);return e.length===4?gt.emptyPath():v2(e)}function Yp(n){return new gt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function v2(n){return tt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function gE(n,e,t){return{name:Qp(n,e),fields:t.value.mapValue.fields}}function DV(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:be(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=(function(m,_){return m.useProto3Json?(tt(_===void 0||typeof _=="string",58123),Qt.fromBase64String(_||"")):(tt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Qt.fromUint8Array(_||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(m){const _=m.code===void 0?te.UNKNOWN:d2(m.code);return new xe(_,m.message||"")})(c);t=new p2(r,o,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=rp(n,r.document.name),a=Br(r.document.updateTime),c=r.document.createTime?Br(r.document.createTime):Ne.min(),d=new xn({mapValue:{fields:r.document.fields}}),f=rn.newFoundDocument(o,a,c,d),m=r.targetIds||[],_=r.removedTargetIds||[];t=new nh(m,_,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=rp(n,r.document),a=r.readTime?Br(r.readTime):Ne.min(),c=rn.newNoDocument(o,a),d=r.removedTargetIds||[];t=new nh([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=rp(n,r.document),a=r.removedTargetIds||[];t=new nh([],a,o,null)}else{if(!("filter"in e))return be(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:a}=r,c=new xV(o,a),d=r.targetId;t=new f2(d,c)}}return t}function VV(n,e){let t;if(e instanceof dc)t={update:gE(n,e.key,e.value)};else if(e instanceof h2)t={delete:Qp(n,e.key)};else if(e instanceof vi)t={update:gE(n,e.key,e.data),updateMask:$V(e.fieldMask)};else{if(!(e instanceof _V))return be(16599,{Vt:e.type});t={verify:Qp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(a,c){const d=c.transform;if(d instanceof Ah)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof va)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof _a)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Sh)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw be(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(o,a){return a.updateTime!==void 0?{updateTime:RV(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:be(27497)})(n,e.precondition)),t}function MV(n,e){return n&&n.length>0?(tt(e!==void 0,14353),n.map((t=>(function(o,a){let c=o.updateTime?Br(o.updateTime):Br(a);return c.isEqual(Ne.min())&&(c=Br(a)),new gV(c,o.transformResults||[])})(t,e)))):[]}function jV(n,e){return{documents:[y2(n,e.path)]}}function OV(n,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=y2(n,o);const a=(function(m){if(m.length!==0)return E2(Hr.create(m,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const c=(function(m){if(m.length!==0)return m.map((_=>(function(T){return{field:Jo(T.field),direction:BV(T.dir)}})(_)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=Gp(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:t,parent:o}}function LV(n){let e=NV(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){tt(r===1,65062);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let a=[];t.where&&(a=(function(w){const T=_2(w);return T instanceof Hr&&Kx(T)?T.getFilters():[T]})(t.where));let c=[];t.orderBy&&(c=(function(w){return w.map((T=>(function(O){return new Th(Zo(O.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(O.direction))})(T)))})(t.orderBy));let d=null;t.limit&&(d=(function(w){let T;return T=typeof w=="object"?w.value:w,$h(T)?null:T})(t.limit));let f=null;t.startAt&&(f=(function(w){const T=!!w.before,I=w.values||[];return new xh(I,T)})(t.startAt));let m=null;return t.endAt&&(m=(function(w){const T=!w.before,I=w.values||[];return new xh(I,T)})(t.endAt)),nV(e,o,c,a,d,"F",f,m)}function FV(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function _2(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Zo(t.unaryFilter.field);return Mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Zo(t.unaryFilter.field);return Mt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Zo(t.unaryFilter.field);return Mt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Zo(t.unaryFilter.field);return Mt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Mt.create(Zo(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Hr.create(t.compositeFilter.filters.map((r=>_2(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(t.compositeFilter.op))})(n):be(30097,{filter:n})}function BV(n){return bV[n]}function UV(n){return kV[n]}function zV(n){return CV[n]}function Jo(n){return{fieldPath:n.canonicalString()}}function Zo(n){return Kt.fromServerFormat(n.fieldPath)}function E2(n){return n instanceof Mt?(function(t){if(t.op==="=="){if(rE(t.value))return{unaryFilter:{field:Jo(t.field),op:"IS_NAN"}};if(nE(t.value))return{unaryFilter:{field:Jo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(rE(t.value))return{unaryFilter:{field:Jo(t.field),op:"IS_NOT_NAN"}};if(nE(t.value))return{unaryFilter:{field:Jo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jo(t.field),op:UV(t.op),value:t.value}}})(n):n instanceof Hr?(function(t){const r=t.getFilters().map((o=>E2(o)));return r.length===1?r[0]:{compositeFilter:{op:zV(t.op),filters:r}}})(n):be(54877,{filter:n})}function $V(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function w2(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e,t,r,o,a=Ne.min(),c=Ne.min(),d=Qt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new ni(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ni(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(e){this.yt=e}}function HV(n){const e=LV({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?qp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(){this.Cn=new GV}addToCollectionParentIndex(e,t){return this.Cn.add(t),Z.resolve()}getCollectionParents(e,t){return Z.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Z.resolve()}deleteFieldIndex(e,t){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,t){return Z.resolve()}getDocumentsMatchingTarget(e,t){return Z.resolve(null)}getIndexType(e,t){return Z.resolve(0)}getFieldIndexes(e,t){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,t){return Z.resolve(ui.min())}getMinOffsetFromCollectionGroup(e,t){return Z.resolve(ui.min())}updateCollectionGroup(e,t,r){return Z.resolve()}updateIndexEntries(e,t){return Z.resolve()}}class GV{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Ot(gt.comparator),a=!o.has(r);return this.index[t]=o.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Ot(gt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},x2=41943040;class wn{static withCacheSize(e){return new wn(e,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(x2,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ea(0)}static cr(){return new Ea(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="LruGarbageCollector",KV=1048576;function _E([n,e],[t,r]){const o=We(n,t);return o===0?We(e,r):o}class QV{constructor(e){this.Ir=e,this.buffer=new Ot(_E),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();_E(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class YV{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){pe(vE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Pa(t)?pe(vE,"Ignoring IndexedDB error during garbage collection: ",t):await Ca(t)}await this.Vr(3e5)}))}}class XV{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return Z.resolve(zh.ce);const r=new QV(t);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(yE)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yE):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,o,a,c,d,f,m;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,c=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(r=w,d=Date.now(),this.removeTargets(e,r,t)))).next((w=>(a=w,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((w=>(m=Date.now(),Yo()<=$e.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${a} targets in `+(f-d)+`ms
	Removed ${w} documents in `+(m-f)+`ms
Total Duration: ${m-_}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:w}))))}}function JV(n,e){return new XV(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(){this.changes=new co((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Z.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(r!==null&&Ul(r.mutation,o,Mn.empty(),ut.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,He()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=He()){const o=Zi();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,r).next((a=>{let c=kl();return a.forEach(((d,f)=>{c=c.insert(d,f.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const r=Zi();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,He())))}populateOverlays(e,t,r){const o=[];return r.forEach((a=>{t.has(a)||o.push(a)})),this.documentOverlayCache.getOverlays(e,o).next((a=>{a.forEach(((c,d)=>{t.set(c,d)}))}))}computeViews(e,t,r,o){let a=ws();const c=Bl(),d=(function(){return Bl()})();return t.forEach(((f,m)=>{const _=r.get(m.key);o.has(m.key)&&(_===void 0||_.mutation instanceof vi)?a=a.insert(m.key,m):_!==void 0?(c.set(m.key,_.mutation.getFieldMask()),Ul(_.mutation,m,_.mutation.getFieldMask(),ut.now())):c.set(m.key,Mn.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((m,_)=>c.set(m,_))),t.forEach(((m,_)=>d.set(m,new e3(_,c.get(m)??null)))),d)))}recalculateAndSaveOverlays(e,t){const r=Bl();let o=new vt(((c,d)=>c-d)),a=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const d of c)d.keys().forEach((f=>{const m=t.get(f);if(m===null)return;let _=r.get(f)||Mn.empty();_=d.applyToLocalView(m,_),r.set(f,_);const w=(o.get(d.batchId)||He()).add(f);o=o.insert(d.batchId,w)}))})).next((()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),m=f.key,_=f.value,w=n2();_.forEach((T=>{if(!a.has(T)){const I=c2(t.get(T),r.get(T));I!==null&&w.set(T,I),a=a.add(T)}})),c.push(this.documentOverlayCache.saveOverlays(e,m,w))}return Z.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,o){return(function(c){return Ie.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):rV(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next((a=>{const c=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-a.size):Z.resolve(Zi());let d=Xl,f=a;return c.next((m=>Z.forEach(m,((_,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),a.get(_)?Z.resolve():this.remoteDocumentCache.getEntry(e,_).next((T=>{f=f.insert(_,T)}))))).next((()=>this.populateOverlays(e,m,a))).next((()=>this.computeViews(e,f,m,He()))).next((_=>({batchId:d,changes:t2(_)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ie(t)).next((r=>{let o=kl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const a=t.collectionGroup;let c=kl();return this.indexManager.getCollectionParents(e,a).next((d=>Z.forEach(d,(f=>{const m=(function(w,T){return new Hh(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,o).next((_=>{_.forEach(((w,T)=>{c=c.insert(w,T)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,r,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,o)))).next((c=>{a.forEach(((f,m)=>{const _=m.getKey();c.get(_)===null&&(c=c.insert(_,rn.newInvalidDocument(_)))}));let d=kl();return c.forEach(((f,m)=>{const _=a.get(f);_!==void 0&&Ul(_.mutation,m,Mn.empty(),ut.now()),Gh(t,m)&&(d=d.insert(f,m))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Z.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:Br(o.createTime)}})(t)),Z.resolve()}getNamedQuery(e,t){return Z.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:HV(o.bundledQuery),readTime:Br(o.readTime)}})(t)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(){this.overlays=new vt(Ie.comparator),this.qr=new Map}getOverlay(e,t){return Z.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Zi();return Z.forEach(t,(o=>this.getOverlay(e,o).next((a=>{a!==null&&r.set(o,a)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((o,a)=>{this.St(e,t,a)})),Z.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),Z.resolve()}getOverlaysForCollection(e,t,r){const o=Zi(),a=t.length+1,c=new Ie(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const f=d.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&f.largestBatchId>r&&o.set(f.getKey(),f)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let a=new vt(((m,_)=>m-_));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let _=a.get(m.largestBatchId);_===null&&(_=Zi(),a=a.insert(m.largestBatchId,_)),_.set(m.getKey(),m)}}const d=Zi(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((m,_)=>d.set(m,_))),!(d.size()>=o)););return Z.resolve(d)}St(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new wV(t,r));let a=this.qr.get(t);a===void 0&&(a=He(),this.qr.set(t,a)),this.qr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(){this.Qr=new Ot(Ut.$r),this.Ur=new Ot(Ut.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new Ut(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new Ut(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new Ie(new gt([])),r=new Ut(t,e),o=new Ut(t,e+1),a=[];return this.Ur.forEachInRange([r,o],(c=>{this.Gr(c),a.push(c.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Ie(new gt([])),r=new Ut(t,e),o=new Ut(t,e+1);let a=He();return this.Ur.forEachInRange([r,o],(c=>{a=a.add(c.key)})),a}containsKey(e){const t=new Ut(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Ut{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Ie.comparator(e.key,t.key)||We(e.Yr,t.Yr)}static Kr(e,t){return We(e.Yr,t.Yr)||Ie.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Ot(Ut.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new EV(a,t,r,o);this.mutationQueue.push(c);for(const d of o)this.Zr=this.Zr.add(new Ut(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Z.resolve(c)}lookupMutationBatch(e,t){return Z.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.ei(r),a=o<0?0:o;return Z.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?tg:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ut(t,0),o=new Ut(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,o],(c=>{const d=this.Xr(c.Yr);a.push(d)})),Z.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ot(We);return t.forEach((o=>{const a=new Ut(o,0),c=new Ut(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,c],(d=>{r=r.add(d.Yr)}))})),Z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let a=r;Ie.isDocumentKey(a)||(a=a.child(""));const c=new Ut(new Ie(a),0);let d=new Ot(We);return this.Zr.forEachWhile((f=>{const m=f.key.path;return!!r.isPrefixOf(m)&&(m.length===o&&(d=d.add(f.Yr)),!0)}),c),Z.resolve(this.ti(d))}ti(e){const t=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){tt(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Z.forEach(t.mutations,(o=>{const a=new Ut(o.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new Ut(t,0),o=this.Zr.firstAfterOrEqual(r);return Z.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(e){this.ri=e,this.docs=(function(){return new vt(Ie.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),a=o?o.size:0,c=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Z.resolve(r?r.document.mutableCopy():rn.newInvalidDocument(t))}getEntries(e,t){let r=ws();return t.forEach((o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():rn.newInvalidDocument(o))})),Z.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let a=ws();const c=t.path,d=new Ie(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:m,value:{document:_}}=f.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||VD(DD(_),r)<=0||(o.has(_.key)||Gh(t,_))&&(a=a.insert(_.key,_.mutableCopy()))}return Z.resolve(a)}getAllFromCollectionGroup(e,t,r,o){be(9500)}ii(e,t){return Z.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new a3(this)}getSize(e){return Z.resolve(this.size)}}class a3 extends ZV{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),Z.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(e){this.persistence=e,this.si=new co((t=>sg(t)),ig),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.oi=0,this._i=new hg,this.targetCount=0,this.ai=Ea.ur()}forEachTarget(e,t){return this.si.forEach(((r,o)=>t(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),Z.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Ea(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Z.resolve()}updateTargetData(e,t){return this.Pr(t),Z.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,t,r){let o=0;const a=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.si.delete(c),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)})),Z.waitFor(a).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return Z.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),Z.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach((c=>{a.push(o.markPotentiallyOrphaned(e,c))})),Z.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Z.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return Z.resolve(r)}containsKey(e,t){return Z.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,t){this.ui={},this.overlays={},this.ci=new zh(0),this.li=!1,this.li=!0,this.hi=new s3,this.referenceDelegate=e(this),this.Pi=new l3(this),this.indexManager=new qV,this.remoteDocumentCache=(function(o){return new o3(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new WV(t),this.Ii=new n3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new r3,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new i3(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){pe("MemoryPersistence","Starting transaction:",e);const o=new c3(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((a=>this.referenceDelegate.di(o).next((()=>a)))).toPromise().then((a=>(o.raiseOnCommittedEvent(),a)))}Ai(e,t){return Z.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class c3 extends jD{constructor(e){super(),this.currentSequenceNumber=e}}class dg{constructor(e){this.persistence=e,this.Ri=new hg,this.Vi=null}static mi(e){return new dg(e)}get fi(){if(this.Vi)return this.Vi;throw be(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),Z.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Z.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(r=>{const o=Ie.fromPath(r);return this.gi(e,o).next((a=>{a||t.removeEntry(o,Ne.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return Z.or([()=>Z.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class bh{constructor(e,t){this.persistence=e,this.pi=new co((r=>FD(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=JV(this,t)}static mi(e,t){return new bh(e,t)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((o=>r+o))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return Z.forEach(this.pi,((r,o)=>this.br(e,r,o).next((a=>a?Z.resolve():t(o)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.ii(e,(c=>this.br(e,c,t).next((d=>{d||(r++,a.removeEntry(c,Ne.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Z.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Z.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Zu(e.data.value)),t}br(e,t,r){return Z.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return Z.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=o}static As(e,t){let r=He(),o=He();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new fg(e,t.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ZP()?8:OD(on())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,o){const a={result:null};return this.ys(e,t).next((c=>{a.result=c})).next((()=>{if(!a.result)return this.ws(e,t,o,r).next((c=>{a.result=c}))})).next((()=>{if(a.result)return;const c=new u3;return this.Ss(e,t,c).next((d=>{if(a.result=d,this.Vs)return this.bs(e,t,c,d.size)}))})).next((()=>a.result))}bs(e,t,r,o){return r.documentReadCount<this.fs?(Yo()<=$e.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Xo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(Yo()<=$e.DEBUG&&pe("QueryEngine","Query:",Xo(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Yo()<=$e.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Xo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Lr(t))):Z.resolve())}ys(e,t){if(aE(t))return Z.resolve(null);let r=Lr(t);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=qp(t,null,"F"),r=Lr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const c=He(...a);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,r).next((f=>{const m=this.Ds(t,d);return this.Cs(t,m,c,f.readTime)?this.ys(e,qp(t,null,"F")):this.vs(e,m,t,f)}))))})))))}ws(e,t,r,o){return aE(t)||o.isEqual(Ne.min())?Z.resolve(null):this.ps.getDocuments(e,r).next((a=>{const c=this.Ds(t,a);return this.Cs(t,c,r,o)?Z.resolve(null):(Yo()<=$e.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Xo(t)),this.vs(e,c,t,ND(o,Xl)).next((d=>d)))}))}Ds(e,t){let r=new Ot(Zx(e));return t.forEach(((o,a)=>{Gh(e,a)&&(r=r.add(a))})),r}Cs(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Ss(e,t,r){return Yo()<=$e.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Xo(t)),this.ps.getDocumentsMatchingQuery(e,t,ui.min(),r)}vs(e,t,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((a=>(t.forEach((c=>{a=a.insert(c.key,c)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg="LocalStore",d3=3e8;class f3{constructor(e,t,r,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new vt(We),this.xs=new co((a=>sg(a)),ig),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new t3(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function p3(n,e,t,r){return new f3(n,e,t,r)}async function A2(n,e){const t=Ve(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next((a=>(o=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((a=>{const c=[],d=[];let f=He();for(const m of o){c.push(m.batchId);for(const _ of m.mutations)f=f.add(_.key)}for(const m of a){d.push(m.batchId);for(const _ of m.mutations)f=f.add(_.key)}return t.localDocuments.getDocuments(r,f).next((m=>({Ls:m,removedBatchIds:c,addedBatchIds:d})))}))}))}function m3(n,e){const t=Ve(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,f,m,_){const w=m.batch,T=w.keys();let I=Z.resolve();return T.forEach((O=>{I=I.next((()=>_.getEntry(f,O))).next((B=>{const L=m.docVersions.get(O);tt(L!==null,48541),B.version.compareTo(L)<0&&(w.applyToRemoteDocument(B,m),B.isValidDocument()&&(B.setReadTime(m.commitVersion),_.addEntry(B)))}))})),I.next((()=>d.mutationQueue.removeMutationBatch(f,w)))})(t,r,e,a).next((()=>a.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let f=He();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(f=f.add(d.batch.mutations[m].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(r,o)))}))}function S2(n){const e=Ve(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function g3(n,e){const t=Ve(n),r=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const d=[];e.targetChanges.forEach(((_,w)=>{const T=o.get(w);if(!T)return;d.push(t.Pi.removeMatchingKeys(a,_.removedDocuments,w).next((()=>t.Pi.addMatchingKeys(a,_.addedDocuments,w))));let I=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?I=I.withResumeToken(Qt.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):_.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(_.resumeToken,r)),o=o.insert(w,I),(function(B,L,K){return B.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=d3?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0})(T,I,_)&&d.push(t.Pi.updateTargetData(a,I))}));let f=ws(),m=He();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,_))})),d.push(y3(a,c,e.documentUpdates).next((_=>{f=_.ks,m=_.qs}))),!r.isEqual(Ne.min())){const _=t.Pi.getLastRemoteSnapshotVersion(a).next((w=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));d.push(_)}return Z.waitFor(d).next((()=>c.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,f,m))).next((()=>f))})).then((a=>(t.Ms=o,a)))}function y3(n,e,t){let r=He(),o=He();return t.forEach((a=>r=r.add(a))),e.getEntries(n,r).next((a=>{let c=ws();return t.forEach(((d,f)=>{const m=a.get(d);f.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(d)),f.isNoDocument()&&f.version.isEqual(Ne.min())?(e.removeEntry(d,f.readTime),c=c.insert(d,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),c=c.insert(d,f)):pe(pg,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",f.version)})),{ks:c,qs:o}}))}function v3(n,e){const t=Ve(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=tg),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function _3(n,e){const t=Ve(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return t.Pi.getTargetData(r,e).next((a=>a?(o=a,Z.resolve(o)):t.Pi.allocateTargetId(r).next((c=>(o=new ni(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=t.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function Xp(n,e,t){const r=Ve(n),o=r.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Pa(c))throw c;pe(pg,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function EE(n,e,t){const r=Ve(n);let o=Ne.min(),a=He();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,m,_){const w=Ve(f),T=w.xs.get(_);return T!==void 0?Z.resolve(w.Ms.get(T)):w.Pi.getTargetData(m,_)})(r,c,Lr(e)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,d.targetId).next((f=>{a=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,e,t?o:Ne.min(),t?a:He()))).next((d=>(E3(r,iV(e),d),{documents:d,Qs:a})))))}function E3(n,e,t){let r=n.Os.get(e)||Ne.min();t.forEach(((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),n.Os.set(e,r)}class wE{constructor(){this.activeTargetIds=hV()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class w3{constructor(){this.Mo=new wE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new wE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="ConnectivityMonitor";class TE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){pe(xE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){pe(xE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lu=null;function Jp(){return Lu===null?Lu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Lu++,"0x"+Lu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp="RestConnection",T3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class A3{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Eh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,t,r,o,a){const c=Jp(),d=this.zo(e,t.toUriEncodedString());pe(sp,`Sending RPC '${e}' ${c}:`,d,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,o,a);const{host:m}=new URL(d),_=Sa(m);return this.Jo(e,d,f,r,_).then((w=>(pe(sp,`Received RPC '${e}' ${c}: `,w),w)),(w=>{throw pa(sp,`RPC '${e}' ${c} failed with error: `,w,"url: ",d,"request:",r),w}))}Ho(e,t,r,o,a,c){return this.Go(e,t,r,o,a)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ka})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,a)=>e[a]=o)),r&&r.headers.forEach(((o,a)=>e[a]=o))}zo(e,t){const r=T3[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection";class I3 extends A3{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,o,a){const c=Jp();return new Promise(((d,f)=>{const m=new kx;m.setWithCredentials(!0),m.listenOnce(Cx.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Ju.NO_ERROR:const w=m.getResponseJson();pe(tn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(w)),d(w);break;case Ju.TIMEOUT:pe(tn,`RPC '${e}' ${c} timed out`),f(new xe(te.DEADLINE_EXCEEDED,"Request time out"));break;case Ju.HTTP_ERROR:const T=m.getStatus();if(pe(tn,`RPC '${e}' ${c} failed with status:`,T,"response text:",m.getResponseText()),T>0){let I=m.getResponseJson();Array.isArray(I)&&(I=I[0]);const O=I?.error;if(O&&O.status&&O.message){const B=(function(K){const Q=K.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(Q)>=0?Q:te.UNKNOWN})(O.status);f(new xe(B,O.message))}else f(new xe(te.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new xe(te.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{pe(tn,`RPC '${e}' ${c} completed.`)}}));const _=JSON.stringify(o);pe(tn,`RPC '${e}' ${c} sending request:`,o),m.send(t,"POST",_,r,15)}))}T_(e,t,r){const o=Jp(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Nx(),d=Rx(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const _=a.join("");pe(tn,`Creating RPC '${e}' stream ${o}: ${_}`,f);const w=c.createWebChannel(_,f);this.I_(w);let T=!1,I=!1;const O=new S3({Yo:L=>{I?pe(tn,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(T||(pe(tn,`Opening RPC '${e}' stream ${o} transport.`),w.open(),T=!0),pe(tn,`RPC '${e}' stream ${o} sending:`,L),w.send(L))},Zo:()=>w.close()}),B=(L,K,Q)=>{L.listen(K,(Y=>{try{Q(Y)}catch(ue){setTimeout((()=>{throw ue}),0)}}))};return B(w,bl.EventType.OPEN,(()=>{I||(pe(tn,`RPC '${e}' stream ${o} transport opened.`),O.o_())})),B(w,bl.EventType.CLOSE,(()=>{I||(I=!0,pe(tn,`RPC '${e}' stream ${o} transport closed`),O.a_(),this.E_(w))})),B(w,bl.EventType.ERROR,(L=>{I||(I=!0,pa(tn,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),O.a_(new xe(te.UNAVAILABLE,"The operation could not be completed")))})),B(w,bl.EventType.MESSAGE,(L=>{if(!I){const K=L.data[0];tt(!!K,16349);const Q=K,Y=Q?.error||Q[0]?.error;if(Y){pe(tn,`RPC '${e}' stream ${o} received error:`,Y);const ue=Y.status;let ae=(function(A){const b=Ct[A];if(b!==void 0)return d2(b)})(ue),ie=Y.message;ae===void 0&&(ae=te.INTERNAL,ie="Unknown error status: "+ue+" with message "+Y.message),I=!0,O.a_(new xe(ae,ie)),w.close()}else pe(tn,`RPC '${e}' stream ${o} received:`,K),O.u_(K)}})),B(d,Px.STAT_EVENT,(L=>{L.stat===Bp.PROXY?pe(tn,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===Bp.NOPROXY&&pe(tn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{O.__()}),0),O}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function ip(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xh(n){return new PV(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e,t,r=1e3,o=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=o,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-r);o>0&&pe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="PersistentStream";class b2{constructor(e,t,r,o,a,c,d,f){this.Mi=e,this.S_=r,this.b_=o,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new I2(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(Es(t.toString()),Es("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===t&&this.G_(r,o)}),(r=>{e((()=>{const o=new xe(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return pe(AE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(pe(AE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class b3 extends b2{constructor(e,t,r,o,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,c),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=DV(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Ne.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Ne.min():c.readTime?Br(c.readTime):Ne.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=Yp(this.serializer),t.addTarget=(function(a,c){let d;const f=c.target;if(d=Hp(f)?{documents:jV(a,f)}:{query:OV(a,f).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=m2(a,c.resumeToken);const m=Gp(a,c.expectedCount);m!==null&&(d.expectedCount=m)}else if(c.snapshotVersion.compareTo(Ne.min())>0){d.readTime=Ih(a,c.snapshotVersion.toTimestamp());const m=Gp(a,c.expectedCount);m!==null&&(d.expectedCount=m)}return d})(this.serializer,e);const r=FV(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=Yp(this.serializer),t.removeTarget=e,this.q_(t)}}class k3 extends b2{constructor(e,t,r,o,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,c),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=MV(e.writeResults,e.commitTime),r=Br(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=Yp(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>VV(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{}class P3 extends C3{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new xe(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,c])=>this.connection.Go(e,Kp(t,r),o,a,c))).catch((a=>{throw a.name==="FirebaseError"?(a.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new xe(te.UNKNOWN,a.toString())}))}Ho(e,t,r,o,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,Kp(t,r),o,c,d,a))).catch((c=>{throw c.name==="FirebaseError"?(c.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new xe(te.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class R3{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Es(t),this.aa=!1):pe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo="RemoteStore";class N3{constructor(e,t,r,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{uo(this)&&(pe(lo,"Restarting streams for network reachability change."),await(async function(f){const m=Ve(f);m.Ea.add(4),await pc(m),m.Ra.set("Unknown"),m.Ea.delete(4),await Jh(m)})(this))}))})),this.Ra=new R3(r,o)}}async function Jh(n){if(uo(n))for(const e of n.da)await e(!0)}async function pc(n){for(const e of n.da)await e(!1)}function k2(n,e){const t=Ve(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),vg(t)?yg(t):Ra(t).O_()&&gg(t,e))}function mg(n,e){const t=Ve(n),r=Ra(t);t.Ia.delete(e),r.O_()&&C2(t,e),t.Ia.size===0&&(r.O_()?r.L_():uo(t)&&t.Ra.set("Unknown"))}function gg(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ra(n).Y_(e)}function C2(n,e){n.Va.Ue(e),Ra(n).Z_(e)}function yg(n){n.Va=new IV({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Ra(n).start(),n.Ra.ua()}function vg(n){return uo(n)&&!Ra(n).x_()&&n.Ia.size>0}function uo(n){return Ve(n).Ea.size===0}function P2(n){n.Va=void 0}async function D3(n){n.Ra.set("Online")}async function V3(n){n.Ia.forEach(((e,t)=>{gg(n,e)}))}async function M3(n,e){P2(n),vg(n)?(n.Ra.ha(e),yg(n)):n.Ra.set("Unknown")}async function j3(n,e,t){if(n.Ra.set("Online"),e instanceof p2&&e.state===2&&e.cause)try{await(async function(o,a){const c=a.cause;for(const d of a.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.Ia.delete(d),o.Va.removeTarget(d))})(n,e)}catch(r){pe(lo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await kh(n,r)}else if(e instanceof nh?n.Va.Ze(e):e instanceof f2?n.Va.st(e):n.Va.tt(e),!t.isEqual(Ne.min()))try{const r=await S2(n.localStore);t.compareTo(r)>=0&&await(function(a,c){const d=a.Va.Tt(c);return d.targetChanges.forEach(((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const _=a.Ia.get(m);_&&a.Ia.set(m,_.withResumeToken(f.resumeToken,c))}})),d.targetMismatches.forEach(((f,m)=>{const _=a.Ia.get(f);if(!_)return;a.Ia.set(f,_.withResumeToken(Qt.EMPTY_BYTE_STRING,_.snapshotVersion)),C2(a,f);const w=new ni(_.target,f,m,_.sequenceNumber);gg(a,w)})),a.remoteSyncer.applyRemoteEvent(d)})(n,t)}catch(r){pe(lo,"Failed to raise snapshot:",r),await kh(n,r)}}async function kh(n,e,t){if(!Pa(e))throw e;n.Ea.add(1),await pc(n),n.Ra.set("Offline"),t||(t=()=>S2(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{pe(lo,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Jh(n)}))}function R2(n,e){return e().catch((t=>kh(n,t,e)))}async function Zh(n){const e=Ve(n),t=pi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:tg;for(;O3(e);)try{const o=await v3(e.localStore,r);if(o===null){e.Ta.length===0&&t.L_();break}r=o.batchId,L3(e,o)}catch(o){await kh(e,o)}N2(e)&&D2(e)}function O3(n){return uo(n)&&n.Ta.length<10}function L3(n,e){n.Ta.push(e);const t=pi(n);t.O_()&&t.X_&&t.ea(e.mutations)}function N2(n){return uo(n)&&!pi(n).x_()&&n.Ta.length>0}function D2(n){pi(n).start()}async function F3(n){pi(n).ra()}async function B3(n){const e=pi(n);for(const t of n.Ta)e.ea(t.mutations)}async function U3(n,e,t){const r=n.Ta.shift(),o=lg.from(r,e,t);await R2(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await Zh(n)}async function z3(n,e){e&&pi(n).X_&&await(async function(r,o){if((function(c){return TV(c)&&c!==te.ABORTED})(o.code)){const a=r.Ta.shift();pi(r).B_(),await R2(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,o))),await Zh(r)}})(n,e),N2(n)&&D2(n)}async function SE(n,e){const t=Ve(n);t.asyncQueue.verifyOperationInProgress(),pe(lo,"RemoteStore received new credentials");const r=uo(t);t.Ea.add(3),await pc(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Jh(t)}async function $3(n,e){const t=Ve(n);e?(t.Ea.delete(2),await Jh(t)):e||(t.Ea.add(2),await pc(t),t.Ra.set("Unknown"))}function Ra(n){return n.ma||(n.ma=(function(t,r,o){const a=Ve(t);return a.sa(),new b3(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Xo:D3.bind(null,n),t_:V3.bind(null,n),r_:M3.bind(null,n),H_:j3.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),vg(n)?yg(n):n.Ra.set("Unknown")):(await n.ma.stop(),P2(n))}))),n.ma}function pi(n){return n.fa||(n.fa=(function(t,r,o){const a=Ve(t);return a.sa(),new k3(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:F3.bind(null,n),r_:z3.bind(null,n),ta:B3.bind(null,n),na:U3.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await Zh(n)):(await n.fa.stop(),n.Ta.length>0&&(pe(lo,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,t,r,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new ai,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,a){const c=Date.now()+r,d=new _g(e,t,c,o,a);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xe(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Eg(n,e){if(Es("AsyncQueue",`${e}: ${n}`),Pa(n))return new xe(te.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{static emptySet(e){return new ca(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ie.comparator(t.key,r.key):(t,r)=>Ie.comparator(t.key,r.key),this.keyedMap=kl(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ca)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new ca;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(){this.ga=new vt(Ie.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):be(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class wa{constructor(e,t,r,o,a,c,d,f,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,o,a){const c=[];return t.forEach((d=>{c.push({type:0,doc:d})})),new wa(e,t,ca.emptySet(t),c,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class H3{constructor(){this.queries=bE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const o=Ve(t),a=o.queries;o.queries=bE(),a.forEach(((c,d)=>{for(const f of d.Sa)f.onError(r)}))})(this,new xe(te.ABORTED,"Firestore shutting down"))}}function bE(){return new co((n=>Jx(n)),qh)}async function q3(n,e){const t=Ve(n);let r=3;const o=e.query;let a=t.queries.get(o);a?!a.ba()&&e.Da()&&(r=2):(a=new W3,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await t.onListen(o,!0);break;case 1:a.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const d=Eg(c,`Initialization of query '${Xo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&wg(t)}async function G3(n,e){const t=Ve(n),r=e.query;let o=3;const a=t.queries.get(r);if(a){const c=a.Sa.indexOf(e);c>=0&&(a.Sa.splice(c,1),a.Sa.length===0?o=e.Da()?0:1:!a.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function K3(n,e){const t=Ve(n);let r=!1;for(const o of e){const a=o.query,c=t.queries.get(a);if(c){for(const d of c.Sa)d.Fa(o)&&(r=!0);c.wa=o}}r&&wg(t)}function Q3(n,e,t){const r=Ve(n),o=r.queries.get(e);if(o)for(const a of o.Sa)a.onError(t);r.queries.delete(e)}function wg(n){n.Ca.forEach((e=>{e.next()}))}var Zp,kE;(kE=Zp||(Zp={})).Ma="default",kE.Cache="cache";class Y3{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new wa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=wa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Zp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e){this.key=e}}class M2{constructor(e){this.key=e}}class X3{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=He(),this.mutatedKeys=He(),this.eu=Zx(e),this.tu=new ca(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new IE,o=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,c=o,d=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,w)=>{const T=o.get(_),I=Gh(this.query,w)?w:null,O=!!T&&this.mutatedKeys.has(T.key),B=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let L=!1;T&&I?T.data.isEqual(I.data)?O!==B&&(r.track({type:3,doc:I}),L=!0):this.su(T,I)||(r.track({type:2,doc:I}),L=!0,(f&&this.eu(I,f)>0||m&&this.eu(I,m)<0)&&(d=!0)):!T&&I?(r.track({type:0,doc:I}),L=!0):T&&!I&&(r.track({type:1,doc:T}),L=!0,(f||m)&&(d=!0)),L&&(I?(c=c.add(I),a=B?a.add(_):a.delete(_)):(c=c.delete(_),a=a.delete(_)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),a=a.delete(_.key),r.track({type:1,doc:_})}return{tu:c,iu:r,Cs:d,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((_,w)=>(function(I,O){const B=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Rt:L})}};return B(I)-B(O)})(_.type,w.type)||this.eu(_.doc,w.doc))),this.ou(r),o=o??!1;const d=t&&!o?this._u():[],f=this.Xa.size===0&&this.current&&!o?1:0,m=f!==this.Za;return this.Za=f,c.length!==0||m?{snapshot:new wa(this.query,e.tu,a,c,e.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new IE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=He(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new M2(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new V2(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=He();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return wa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const xg="SyncEngine";class J3{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Z3{constructor(e){this.key=e,this.hu=!1}}class eM{constructor(e,t,r,o,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new co((d=>Jx(d)),qh),this.Iu=new Map,this.Eu=new Set,this.du=new vt(Ie.comparator),this.Au=new Map,this.Ru=new hg,this.Vu={},this.mu=new Map,this.fu=Ea.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function tM(n,e,t=!0){const r=U2(n);let o;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.lu()):o=await j2(r,e,t,!0),o}async function nM(n,e){const t=U2(n);await j2(t,e,!0,!1)}async function j2(n,e,t,r){const o=await _3(n.localStore,Lr(e)),a=o.targetId,c=n.sharedClientState.addLocalQueryTarget(a,t);let d;return r&&(d=await rM(n,e,a,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&k2(n.remoteStore,o),d}async function rM(n,e,t,r,o){n.pu=(w,T,I)=>(async function(B,L,K,Q){let Y=L.view.ru(K);Y.Cs&&(Y=await EE(B.localStore,L.query,!1).then((({documents:P})=>L.view.ru(P,Y))));const ue=Q&&Q.targetChanges.get(L.targetId),ae=Q&&Q.targetMismatches.get(L.targetId)!=null,ie=L.view.applyChanges(Y,B.isPrimaryClient,ue,ae);return PE(B,L.targetId,ie.au),ie.snapshot})(n,w,T,I);const a=await EE(n.localStore,e,!0),c=new X3(e,a.Qs),d=c.ru(a.documents),f=fc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",o),m=c.applyChanges(d,n.isPrimaryClient,f);PE(n,t,m.au);const _=new J3(e,t,c);return n.Tu.set(e,_),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),m.snapshot}async function sM(n,e,t){const r=Ve(n),o=r.Tu.get(e),a=r.Iu.get(o.targetId);if(a.length>1)return r.Iu.set(o.targetId,a.filter((c=>!qh(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Xp(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),t&&mg(r.remoteStore,o.targetId),em(r,o.targetId)})).catch(Ca)):(em(r,o.targetId),await Xp(r.localStore,o.targetId,!0))}async function iM(n,e){const t=Ve(n),r=t.Tu.get(e),o=t.Iu.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),mg(t.remoteStore,r.targetId))}async function oM(n,e,t){const r=fM(n);try{const o=await(function(c,d){const f=Ve(c),m=ut.now(),_=d.reduce(((I,O)=>I.add(O.key)),He());let w,T;return f.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let O=ws(),B=He();return f.Ns.getEntries(I,_).next((L=>{O=L,O.forEach(((K,Q)=>{Q.isValidDocument()||(B=B.add(K))}))})).next((()=>f.localDocuments.getOverlayedDocuments(I,O))).next((L=>{w=L;const K=[];for(const Q of d){const Y=vV(Q,w.get(Q.key).overlayedDocument);Y!=null&&K.push(new vi(Q.key,Y,Hx(Y.value.mapValue),Fr.exists(!0)))}return f.mutationQueue.addMutationBatch(I,m,K,d)})).next((L=>{T=L;const K=L.applyToLocalDocumentSet(w,B);return f.documentOverlayCache.saveOverlays(I,L.batchId,K)}))})).then((()=>({batchId:T.batchId,changes:t2(w)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(c,d,f){let m=c.Vu[c.currentUser.toKey()];m||(m=new vt(We)),m=m.insert(d,f),c.Vu[c.currentUser.toKey()]=m})(r,o.batchId,t),await mc(r,o.changes),await Zh(r.remoteStore)}catch(o){const a=Eg(o,"Failed to persist write");t.reject(a)}}async function O2(n,e){const t=Ve(n);try{const r=await g3(t.localStore,e);e.targetChanges.forEach(((o,a)=>{const c=t.Au.get(a);c&&(tt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?tt(c.hu,14607):o.removedDocuments.size>0&&(tt(c.hu,42227),c.hu=!1))})),await mc(t,r,e)}catch(r){await Ca(r)}}function CE(n,e,t){const r=Ve(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.Tu.forEach(((a,c)=>{const d=c.view.va(e);d.snapshot&&o.push(d.snapshot)})),(function(c,d){const f=Ve(c);f.onlineState=d;let m=!1;f.queries.forEach(((_,w)=>{for(const T of w.Sa)T.va(d)&&(m=!0)})),m&&wg(f)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function aM(n,e,t){const r=Ve(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Au.get(e),a=o&&o.key;if(a){let c=new vt(Ie.comparator);c=c.insert(a,rn.newNoDocument(a,Ne.min()));const d=He().add(a),f=new Yh(Ne.min(),new Map,new vt(We),c,d);await O2(r,f),r.du=r.du.remove(a),r.Au.delete(e),Tg(r)}else await Xp(r.localStore,e,!1).then((()=>em(r,e,t))).catch(Ca)}async function lM(n,e){const t=Ve(n),r=e.batch.batchId;try{const o=await m3(t.localStore,e);F2(t,r,null),L2(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await mc(t,o)}catch(o){await Ca(o)}}async function cM(n,e,t){const r=Ve(n);try{const o=await(function(c,d){const f=Ve(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let _;return f.mutationQueue.lookupMutationBatch(m,d).next((w=>(tt(w!==null,37113),_=w.keys(),f.mutationQueue.removeMutationBatch(m,w)))).next((()=>f.mutationQueue.performConsistencyCheck(m))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(m,_,d))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,_))).next((()=>f.localDocuments.getDocuments(m,_)))}))})(r.localStore,e);F2(r,e,t),L2(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await mc(r,o)}catch(o){await Ca(o)}}function L2(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function F2(n,e,t){const r=Ve(n);let o=r.Vu[r.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function em(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||B2(n,r)}))}function B2(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(mg(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Tg(n))}function PE(n,e,t){for(const r of t)r instanceof V2?(n.Ru.addReference(r.key,e),uM(n,r)):r instanceof M2?(pe(xg,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||B2(n,r.key)):be(19791,{wu:r})}function uM(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(pe(xg,"New document in limbo: "+t),n.Eu.add(r),Tg(n))}function Tg(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Ie(gt.fromString(e)),r=n.fu.next();n.Au.set(r,new Z3(t)),n.du=n.du.insert(t,r),k2(n.remoteStore,new ni(Lr(og(t.path)),r,"TargetPurposeLimboResolution",zh.ce))}}async function mc(n,e,t){const r=Ve(n),o=[],a=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,f)=>{c.push(r.pu(f,e,t).then((m=>{if((m||t)&&r.isPrimaryClient){const _=m?!m.fromCache:t?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,_?"current":"not-current")}if(m){o.push(m);const _=fg.As(f.targetId,m);a.push(_)}})))})),await Promise.all(c),r.Pu.H_(o),await(async function(f,m){const _=Ve(f);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>Z.forEach(m,(T=>Z.forEach(T.Es,(I=>_.persistence.referenceDelegate.addReference(w,T.targetId,I))).next((()=>Z.forEach(T.ds,(I=>_.persistence.referenceDelegate.removeReference(w,T.targetId,I)))))))))}catch(w){if(!Pa(w))throw w;pe(pg,"Failed to update sequence numbers: "+w)}for(const w of m){const T=w.targetId;if(!w.fromCache){const I=_.Ms.get(T),O=I.snapshotVersion,B=I.withLastLimboFreeSnapshotVersion(O);_.Ms=_.Ms.insert(T,B)}}})(r.localStore,a))}async function hM(n,e){const t=Ve(n);if(!t.currentUser.isEqual(e)){pe(xg,"User change. New user:",e.toKey());const r=await A2(t.localStore,e);t.currentUser=e,(function(a,c){a.mu.forEach((d=>{d.forEach((f=>{f.reject(new xe(te.CANCELLED,c))}))})),a.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await mc(t,r.Ls)}}function dM(n,e){const t=Ve(n),r=t.Au.get(e);if(r&&r.hu)return He().add(r.key);{let o=He();const a=t.Iu.get(e);if(!a)return o;for(const c of a){const d=t.Tu.get(c);o=o.unionWith(d.view.nu)}return o}}function U2(n){const e=Ve(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=O2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=aM.bind(null,e),e.Pu.H_=K3.bind(null,e.eventManager),e.Pu.yu=Q3.bind(null,e.eventManager),e}function fM(n){const e=Ve(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cM.bind(null,e),e}class Ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Xh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return p3(this.persistence,new h3,e.initialUser,this.serializer)}Cu(e){return new T2(dg.mi,this.serializer)}Du(e){return new w3}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ch.provider={build:()=>new Ch};class pM extends Ch{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){tt(this.persistence.referenceDelegate instanceof bh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new YV(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new T2((r=>bh.mi(r,t)),this.serializer)}}class tm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>CE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=hM.bind(null,this.syncEngine),await $3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new H3})()}createDatastore(e){const t=Xh(e.databaseInfo.databaseId),r=(function(a){return new I3(a)})(e.databaseInfo);return(function(a,c,d,f){return new P3(a,c,d,f)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,o,a,c,d){return new N3(r,o,a,c,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>CE(this.syncEngine,t,0)),(function(){return TE.v()?new TE:new x3})())}createSyncEngine(e,t){return(function(o,a,c,d,f,m,_){const w=new eM(o,a,c,d,f,m);return _&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=Ve(t);pe(lo,"RemoteStore shutting down."),r.Ea.add(5),await pc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}tm.provider={build:()=>new tm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Es("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi="FirestoreClient";class gM{constructor(e,t,r,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=nn.UNAUTHENTICATED,this.clientId=Zm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async c=>{pe(mi,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(pe(mi,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ai;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Eg(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function op(n,e){n.asyncQueue.verifyOperationInProgress(),pe(mi,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async o=>{r.isEqual(o)||(await A2(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function RE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await yM(n);pe(mi,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>SE(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,o)=>SE(e.remoteStore,o))),n._onlineComponents=e}async function yM(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){pe(mi,"Using user provided OfflineComponentProvider");try{await op(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;pa("Error using user provided cache. Falling back to memory cache: "+t),await op(n,new Ch)}}else pe(mi,"Using default OfflineComponentProvider"),await op(n,new pM(void 0));return n._offlineComponents}async function z2(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(pe(mi,"Using user provided OnlineComponentProvider"),await RE(n,n._uninitializedComponentsProvider._online)):(pe(mi,"Using default OnlineComponentProvider"),await RE(n,new tm))),n._onlineComponents}function vM(n){return z2(n).then((e=>e.syncEngine))}async function _M(n){const e=await z2(n),t=e.eventManager;return t.onListen=tM.bind(null,e.syncEngine),t.onUnlisten=sM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=nM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=iM.bind(null,e.syncEngine),t}function EM(n,e,t={}){const r=new ai;return n.asyncQueue.enqueueAndForget((async()=>(function(a,c,d,f,m){const _=new mM({next:T=>{_.Nu(),c.enqueueAndForget((()=>G3(a,w)));const I=T.docs.has(d);!I&&T.fromCache?m.reject(new xe(te.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&T.fromCache&&f&&f.source==="server"?m.reject(new xe(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(T)},error:T=>m.reject(T)}),w=new Y3(og(d.path),_,{includeMetadataChanges:!0,qa:!0});return q3(a,w)})(await _M(n),n.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2="firestore.googleapis.com",DE=!0;class VE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new xe(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=W2,this.ssl=DE}else this.host=e.host,this.ssl=e.ssl??DE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=x2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<KV)throw new xe(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}RD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$2(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new xe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new xe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new xe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ag{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xe(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xe(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new ED;switch(r.type){case"firstParty":return new AD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new xe(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=NE.get(t);r&&(pe("ComponentProvider","Removing Datastore"),NE.delete(t),r.terminate())})(this),Promise.resolve()}}function wM(n,e,t,r={}){n=ao(n,Ag);const o=Sa(e),a=n._getSettings(),c={...a,emulatorOptions:n._getEmulatorOptions()},d=`${e}:${t}`;o&&($1(`https://${d}`),W1("Firestore",!0)),a.host!==W2&&a.host!==d&&pa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:d,ssl:o,emulatorOptions:r};if(!ys(f,c)&&(n._setSettings(f),r.mockUserToken)){let m,_;if(typeof r.mockUserToken=="string")m=r.mockUserToken,_=nn.MOCK_USER;else{m=WP(r.mockUserToken,n._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new xe(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new nn(w)}n._authCredentials=new wD(new Vx(m,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Sg(this.firestore,e,this._query)}}class jt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jt(this.firestore,e,this._key)}toJSON(){return{type:jt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(hc(t,jt._jsonSchema))return new jt(e,r||null,new Ie(gt.fromString(t.referencePath)))}}jt._jsonSchemaVersion="firestore/documentReference/1.0",jt._jsonSchema={type:Rt("string",jt._jsonSchemaVersion),referencePath:Rt("string")};class tc extends Sg{constructor(e,t,r){super(e,t,og(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jt(this.firestore,null,new Ie(e))}withConverter(e){return new tc(this.firestore,e,this._path)}}function Fu(n,e,...t){if(n=dn(n),arguments.length===1&&(e=Zm.newId()),PD("doc","path",e),n instanceof Ag){const r=gt.fromString(e,...t);return K_(r),new jt(n,null,new Ie(r))}{if(!(n instanceof jt||n instanceof tc))throw new xe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(gt.fromString(e,...t));return K_(r),new jt(n.firestore,n instanceof tc?n.converter:null,new Ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="AsyncQueue";class jE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new I2(this,"async_queue_retry"),this._c=()=>{const r=ip();r&&pe(ME,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=ip();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=ip();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new ai;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Pa(e))throw e;pe(ME,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Es("INTERNAL UNHANDLED ERROR: ",OE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=_g.createAndSchedule(this,e,t,r,(a=>this.hc(a)));return this.tc.push(o),o}uc(){this.nc&&be(47125,{Pc:OE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function OE(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class ed extends Ag{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new jE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jE(e),this._firestoreClient=void 0,await e}}}function xM(n,e){const t=typeof n=="object"?n:K1(),r=typeof n=="string"?n:Eh,o=Um(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const a=zP("firestore");a&&wM(o,...a)}return o}function H2(n){if(n._terminated)throw new xe(te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||TM(n),n._firestoreClient}function TM(n){const e=n._freezeSettings(),t=(function(o,a,c,d){return new zD(o,a,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,$2(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new gM(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(o){const a=o?._online.build();return{_offline:o?._offline.build(a),_online:a}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qn(Qt.fromBase64String(e))}catch(t){throw new xe(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Qn(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(hc(e,Qn._jsonSchema))return Qn.fromBase64String(e.bytes)}}Qn._jsonSchemaVersion="firestore/bytes/1.0",Qn._jsonSchema={type:Rt("string",Qn._jsonSchemaVersion),bytes:Rt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new xe(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new xe(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new xe(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ur._jsonSchemaVersion}}static fromJSON(e){if(hc(e,Ur._jsonSchema))return new Ur(e.latitude,e.longitude)}}Ur._jsonSchemaVersion="firestore/geoPoint/1.0",Ur._jsonSchema={type:Rt("string",Ur._jsonSchemaVersion),latitude:Rt("number"),longitude:Rt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==o[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:zr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(hc(e,zr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new zr(e.vectorValues);throw new xe(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}zr._jsonSchemaVersion="firestore/vectorValue/1.0",zr._jsonSchema={type:Rt("string",zr._jsonSchemaVersion),vectorValues:Rt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM=/^__.*__$/;class SM{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new vi(e,this.data,this.fieldMask,t,this.fieldTransforms):new dc(e,this.data,t,this.fieldTransforms)}}class q2{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new vi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function G2(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{Ac:n})}}class nd{constructor(e,t,r,o,a,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new nd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ph(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(G2(this.Ac)&&AM.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class IM{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Xh(e)}Cc(e,t,r,o=!1){return new nd({Ac:e,methodName:t,Dc:r,path:Kt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function K2(n){const e=n._freezeSettings(),t=Xh(n._databaseId);return new IM(n._databaseId,!!e.ignoreUndefinedProperties,t)}function bM(n,e,t,r,o,a={}){const c=n.Cc(a.merge||a.mergeFields?2:0,e,t,o);kg("Data must be an object, but it was:",c,r);const d=Y2(r,c);let f,m;if(a.merge)f=new Mn(c.fieldMask),m=c.fieldTransforms;else if(a.mergeFields){const _=[];for(const w of a.mergeFields){const T=nm(e,w,t);if(!c.contains(T))throw new xe(te.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);J2(_,T)||_.push(T)}f=new Mn(_),m=c.fieldTransforms.filter((w=>f.covers(w.field)))}else f=null,m=c.fieldTransforms;return new SM(new xn(d),f,m)}class rd extends gc{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof rd}}function Q2(n,e,t){return new nd({Ac:3,Dc:e.settings.Dc,methodName:n._methodName,fc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Ig extends gc{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=Q2(this,e,!0),r=this.vc.map((a=>Na(a,t))),o=new va(r);return new l2(e.path,o)}isEqual(e){return e instanceof Ig&&ys(this.vc,e.vc)}}class bg extends gc{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=Q2(this,e,!0),r=this.vc.map((a=>Na(a,t))),o=new _a(r);return new l2(e.path,o)}isEqual(e){return e instanceof bg&&ys(this.vc,e.vc)}}function kM(n,e,t,r){const o=n.Cc(1,e,t);kg("Data must be an object, but it was:",o,r);const a=[],c=xn.empty();yi(r,((f,m)=>{const _=Cg(e,f,t);m=dn(m);const w=o.yc(_);if(m instanceof rd)a.push(_);else{const T=Na(m,w);T!=null&&(a.push(_),c.set(_,T))}}));const d=new Mn(a);return new q2(c,d,o.fieldTransforms)}function CM(n,e,t,r,o,a){const c=n.Cc(1,e,t),d=[nm(e,r,t)],f=[o];if(a.length%2!=0)throw new xe(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<a.length;T+=2)d.push(nm(e,a[T])),f.push(a[T+1]);const m=[],_=xn.empty();for(let T=d.length-1;T>=0;--T)if(!J2(m,d[T])){const I=d[T];let O=f[T];O=dn(O);const B=c.yc(I);if(O instanceof rd)m.push(I);else{const L=Na(O,B);L!=null&&(m.push(I),_.set(I,L))}}const w=new Mn(m);return new q2(_,w,c.fieldTransforms)}function Na(n,e){if(X2(n=dn(n)))return kg("Unsupported field value:",e,n),Y2(n,e);if(n instanceof gc)return(function(r,o){if(!G2(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const a=[];let c=0;for(const d of r){let f=Na(d,o.wc(c));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),c++}return{arrayValue:{values:a}}})(n,e)}return(function(r,o){if((r=dn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return dV(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=ut.fromDate(r);return{timestampValue:Ih(o.serializer,a)}}if(r instanceof ut){const a=new ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ih(o.serializer,a)}}if(r instanceof Ur)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Qn)return{bytesValue:m2(o.serializer,r._byteString)};if(r instanceof jt){const a=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(a))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:ug(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof zr)return(function(c,d){return{mapValue:{fields:{[$x]:{stringValue:Wx},[wh]:{arrayValue:{values:c.toArray().map((m=>{if(typeof m!="number")throw d.Sc("VectorValues must only contain numeric values.");return ag(d.serializer,m)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${eg(r)}`)})(n,e)}function Y2(n,e){const t={};return Ox(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yi(n,((r,o)=>{const a=Na(o,e.mc(r));a!=null&&(t[r]=a)})),{mapValue:{fields:t}}}function X2(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ut||n instanceof Ur||n instanceof Qn||n instanceof jt||n instanceof gc||n instanceof zr)}function kg(n,e,t){if(!X2(t)||!Mx(t)){const r=eg(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function nm(n,e,t){if((e=dn(e))instanceof td)return e._internalPath;if(typeof e=="string")return Cg(n,e);throw Ph("Field path arguments must be of type string or ",n,!1,void 0,t)}const PM=new RegExp("[~\\*/\\[\\]]");function Cg(n,e,t){if(e.search(PM)>=0)throw Ph(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new td(...e.split("."))._internalPath}catch{throw Ph(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ph(n,e,t,r,o){const a=r&&!r.isEmpty(),c=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(a||c)&&(f+=" (found",a&&(f+=` in field ${r}`),c&&(f+=` in document ${o}`),f+=")"),new xe(te.INVALID_ARGUMENT,d+n+f)}function J2(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e,t,r,o,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new RM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(eT("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class RM extends Z2{data(){return super.data()}}function eT(n,e){return typeof e=="string"?Cg(n,e):e instanceof td?e._internalPath:e._delegate._internalPath}class NM{convertValue(e,t="none"){switch(fi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(di(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return yi(e,((o,a)=>{r[o]=this.convertValue(a,t)})),r}convertVectorValue(e){const t=e.fields?.[wh].arrayValue?.values?.map((r=>It(r.doubleValue)));return new zr(t)}convertGeoPoint(e){return new Ur(It(e.latitude),It(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Wh(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Jl(e));default:return null}}convertTimestamp(e){const t=hi(e);return new ut(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=gt.fromString(e);tt(w2(r),9688,{name:e});const o=new Zl(r.get(1),r.get(3)),a=new Ie(r.popFirst(5));return o.isEqual(t)||Es(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DM(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Pl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ro extends Z2{constructor(e,t,r,o,a,c){super(e,t,r,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(eT("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new xe(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ro._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ro._jsonSchemaVersion="firestore/documentSnapshot/1.0",ro._jsonSchema={type:Rt("string",ro._jsonSchemaVersion),bundleSource:Rt("string","DocumentSnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class rh extends ro{data(e={}){return super.data(e)}}class zl{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Pl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new rh(this._firestore,this._userDataWriter,r.key,r,new Pl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new xe(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,a){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((d=>{const f=new rh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Pl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>a||d.type!==3)).map((d=>{const f=new rh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Pl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,_=-1;return d.type!==0&&(m=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:VM(d.type),doc:f,oldIndex:m,newIndex:_}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new xe(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=zl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Zm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],o=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),o.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function VM(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MM(n){n=ao(n,jt);const e=ao(n.firestore,ed);return EM(H2(e),n._key).then((t=>LM(e,n,t)))}zl._jsonSchemaVersion="firestore/querySnapshot/1.0",zl._jsonSchema={type:Rt("string",zl._jsonSchemaVersion),bundleSource:Rt("string","QuerySnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class jM extends NM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new jt(this.firestore,null,t)}}function OM(n,e,t){n=ao(n,jt);const r=ao(n.firestore,ed),o=DM(n.converter,e,t);return tT(r,[bM(K2(r),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Fr.none())])}function LE(n,e,t,...r){n=ao(n,jt);const o=ao(n.firestore,ed),a=K2(o);let c;return c=typeof(e=dn(e))=="string"||e instanceof td?CM(a,"updateDoc",n._key,e,t,r):kM(a,"updateDoc",n._key,e),tT(o,[c.toMutation(n._key,Fr.exists(!0))])}function tT(n,e){return(function(r,o){const a=new ai;return r.asyncQueue.enqueueAndForget((async()=>oM(await vM(r),o,a))),a.promise})(H2(n),e)}function LM(n,e,t){const r=t.docs.get(e._key),o=new jM(n);return new ro(n,o,e._key,r,new Pl(t.hasPendingWrites,t.fromCache),e.converter)}function FM(...n){return new Ig("arrayUnion",n)}function BM(...n){return new bg("arrayRemove",n)}(function(e,t=!0){(function(o){ka=o})(Ia),da(new so("firestore",((r,{instanceIdentifier:o,options:a})=>{const c=r.getProvider("app").getImmediate(),d=new ed(new xD(r.getProvider("auth-internal")),new SD(c,r.getProvider("app-check-internal")),(function(m,_){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new xe(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zl(m.options.projectId,_)})(c,o),c);return a={useFetchStreams:t,...a},d._setSettings(a),d}),"PUBLIC").setMultipleInstances(!0)),ii(W_,H_,e),ii(W_,H_,"esm2020")})();const UM={apiKey:"AIzaSyCL2vmKWcsNlzBYrYSpxuV-TzaGusDyfT4",authDomain:"nutriplanner-811f1.firebaseapp.com",projectId:"nutriplanner-811f1",storageBucket:"nutriplanner-811f1.firebasestorage.app",messagingSenderId:"1056087332382",appId:"1:1056087332382:web:ee7b9c666f9e485bc6800f"},nT=G1(UM),ap=gD(nT),zM=new ds,Bu=xM(nT),rT=X.createContext(null);function $M({children:n}){const[e,t]=X.useState(null),[r,o]=X.useState(!0);X.useEffect(()=>{const d=s4(ap,f=>{t(f),o(!1)});return()=>d()},[]);const a=async()=>{try{console.log("[AUTH] Starting Google sign-in...");const d=performance.now();await S4(ap,zM);const f=performance.now();console.log(`[AUTH] Google sign-in completed in ${(f-d).toFixed(0)}ms`)}catch(d){throw console.error("Error signing in with Google",d),d}},c=async()=>{try{await i4(ap)}catch(d){throw console.error("Error signing out",d),d}};return v.jsx(rT.Provider,{value:{user:e,loading:r,signInWithGoogle:a,logout:c},children:n})}function Pg(){const n=X.useContext(rT);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n}function WM({onComplete:n,initialData:e}){const{user:t}=Pg(),[r,o]=X.useState({age:e?.age||"",gender:e?.gender||"male",height:e?.height||"",weight:e?.weight||"",activityLevel:e?.activityLevel||"moderate",goal:e?.goal||"maintain"}),a=t?.displayName?.split(" ")[0]||"there",c=()=>{d&&n(r)},d=r.age&&r.height&&r.weight;return v.jsxs(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[v.jsxs("div",{className:"text-center space-y-2 mb-8",children:[v.jsxs("h1",{className:"text-3xl text-[#E6E9EF]",children:["Welcome, ",a,"! "]}),v.jsx("p",{className:"text-[#9AA3B2]",children:"Let's set up your personalized nutrition plan"})]}),v.jsxs("div",{className:"rounded-2xl bg-[#121722]/40 backdrop-blur-xl border border-[#2A3242] shadow-2xl p-8 space-y-6",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsxs("label",{className:"flex items-center gap-2 text-sm text-[#E6E9EF]",children:[v.jsx(d_,{className:"w-4 h-4 text-[#22D3EE]"}),"Age"]}),v.jsx("input",{type:"number",value:r.age,onChange:f=>o({...r,age:f.target.value}),placeholder:"25",className:"w-full px-4 py-2.5 rounded-full bg-[#0B0E14] border border-[#2A3242] text-[#E6E9EF] placeholder:text-[#9AA3B2] focus:outline-none focus:ring-2 focus:ring-[#22D3EE]/50 transition-all"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("label",{className:"flex items-center gap-2 text-sm text-[#E6E9EF]",children:[v.jsx(d_,{className:"w-4 h-4 text-[#22D3EE]"}),"Gender"]}),v.jsx("div",{className:"flex gap-2",children:["male","female"].map(f=>v.jsx("button",{onClick:()=>o({...r,gender:f}),className:`flex-1 px-4 py-2.5 rounded-full border transition-all ${r.gender===f?"bg-[#22D3EE] border-[#22D3EE] text-[#0B0E14]":"bg-[#0B0E14] border-[#2A3242] text-[#9AA3B2] hover:border-[#22D3EE]/50"}`,children:f.charAt(0).toUpperCase()+f.slice(1)},f))})]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsxs("label",{className:"flex items-center gap-2 text-sm text-[#E6E9EF]",children:[v.jsx(lP,{className:"w-4 h-4 text-[#14B8A6]"}),"Height (cm)"]}),v.jsx("input",{type:"number",value:r.height,onChange:f=>o({...r,height:f.target.value}),placeholder:"170",className:"w-full px-4 py-2.5 rounded-full bg-[#0B0E14] border border-[#2A3242] text-[#E6E9EF] placeholder:text-[#9AA3B2] focus:outline-none focus:ring-2 focus:ring-[#14B8A6]/50 transition-all"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("label",{className:"flex items-center gap-2 text-sm text-[#E6E9EF]",children:[v.jsx(PP,{className:"w-4 h-4 text-[#14B8A6]"}),"Weight (kg)"]}),v.jsx("input",{type:"number",value:r.weight,onChange:f=>o({...r,weight:f.target.value}),placeholder:"70",className:"w-full px-4 py-2.5 rounded-full bg-[#0B0E14] border border-[#2A3242] text-[#E6E9EF] placeholder:text-[#9AA3B2] focus:outline-none focus:ring-2 focus:ring-[#14B8A6]/50 transition-all"})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("label",{className:"flex items-center gap-2 text-sm text-[#E6E9EF]",children:[v.jsx(R1,{className:"w-4 h-4 text-[#22D3EE]"}),"Activity Level"]}),v.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-2",children:[{value:"sedentary",label:"Sedentary"},{value:"light",label:"Light"},{value:"moderate",label:"Moderate"},{value:"active",label:"Active"},{value:"veryActive",label:"Very Active"}].map(f=>v.jsx("button",{onClick:()=>o({...r,activityLevel:f.value}),className:`px-3 py-2 rounded-full border text-sm transition-all ${r.activityLevel===f.value?"bg-[#22D3EE] border-[#22D3EE] text-[#0B0E14]":"bg-[#0B0E14] border-[#2A3242] text-[#9AA3B2] hover:border-[#22D3EE]/50"}`,children:f.label},f.value))})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("label",{className:"flex items-center gap-2 text-sm text-[#E6E9EF]",children:[v.jsx(Oh,{className:"w-4 h-4 text-[#14B8A6]"}),"Goal"]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[{value:"lose",label:"Lose Weight"},{value:"maintain",label:"Maintain"},{value:"gain",label:"Gain Weight"}].map(f=>v.jsx("button",{onClick:()=>o({...r,goal:f.value}),className:`px-4 py-2.5 rounded-full border transition-all ${r.goal===f.value?"bg-gradient-to-r from-[#22D3EE] to-[#14B8A6] border-transparent text-[#0B0E14]":"bg-[#0B0E14] border-[#2A3242] text-[#9AA3B2] hover:border-[#14B8A6]/50"}`,children:f.label},f.value))})]}),v.jsx("button",{onClick:c,disabled:!d,className:`w-full py-4 rounded-xl font-semibold text-lg transition-all ${d?"bg-gradient-to-r from-[#22D3EE] to-[#14B8A6] text-[#0B0E14] shadow-lg shadow-[#22D3EE]/20 hover:scale-[1.02] active:scale-[0.98]":"bg-[#1A202C] text-[#4B5563] cursor-not-allowed"}`,children:"Continue"})]})]})}function HM({bmi:n,bmr:e,tdee:t,dailyCalories:r,macros:o,onEditProfile:a}){const d=(f=>f<18.5?{label:"Underweight",color:"text-yellow-400"}:f<25?{label:"Normal",color:"text-[#14B8A6]"}:f<30?{label:"Overweight",color:"text-orange-400"}:{label:"Obese",color:"text-red-400"})(n);return v.jsxs(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[v.jsxs("div",{className:"text-center space-y-2 mb-8",children:[v.jsx("h1",{className:"text-3xl text-[#E6E9EF]",children:"Your Nutrition Targets"}),v.jsx("p",{className:"text-[#9AA3B2]",children:"Based on your profile and goals"}),a&&v.jsxs("button",{onClick:a,className:"mt-4 px-6 py-2.5 rounded-full bg-[#121722]/60 border border-[#2A3242] text-[#E6E9EF] hover:border-[#22D3EE]/50 transition-all inline-flex items-center gap-2",children:[v.jsx(yP,{className:"w-4 h-4"}),"Edit Profile"]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsx(Oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.1},className:"rounded-2xl bg-[#121722]/40 backdrop-blur-xl border border-[#2A3242] shadow-2xl p-6 space-y-4",children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#22D3EE]/10 flex items-center justify-center",children:v.jsx(R1,{className:"w-5 h-5 text-[#22D3EE]"})}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-sm text-[#9AA3B2]",children:"Body Mass Index"}),v.jsxs("div",{className:"flex items-baseline gap-2",children:[v.jsx("span",{className:"text-2xl text-[#E6E9EF]",children:n.toFixed(1)}),v.jsx("span",{className:`text-sm ${d.color}`,children:d.label})]})]})]})}),v.jsx(Oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.2},className:"rounded-2xl bg-[#121722]/40 backdrop-blur-xl border border-[#2A3242] shadow-2xl p-6 space-y-4",children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#14B8A6]/10 flex items-center justify-center",children:v.jsx(D1,{className:"w-5 h-5 text-[#14B8A6]"})}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-sm text-[#9AA3B2]",children:"Basal Metabolic Rate"}),v.jsxs("div",{className:"flex items-baseline gap-2",children:[v.jsx("span",{className:"text-2xl text-[#E6E9EF]",children:Math.round(e)}),v.jsx("span",{className:"text-sm text-[#9AA3B2]",children:"kcal/day"})]})]})]})}),v.jsx(Oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.3},className:"rounded-2xl bg-[#121722]/40 backdrop-blur-xl border border-[#2A3242] shadow-2xl p-6 space-y-4",children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#22D3EE]/10 flex items-center justify-center",children:v.jsx(uh,{className:"w-5 h-5 text-[#22D3EE]"})}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-sm text-[#9AA3B2]",children:"Total Daily Energy Expenditure"}),v.jsxs("div",{className:"flex items-baseline gap-2",children:[v.jsx("span",{className:"text-2xl text-[#E6E9EF]",children:Math.round(t)}),v.jsx("span",{className:"text-sm text-[#9AA3B2]",children:"kcal/day"})]})]})]})}),v.jsx(Oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.4},className:"rounded-2xl bg-gradient-to-br from-[#22D3EE]/10 to-[#14B8A6]/10 border border-[#22D3EE]/30 shadow-2xl p-6 space-y-4",children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-[#22D3EE] to-[#14B8A6] flex items-center justify-center",children:v.jsx(Oh,{className:"w-5 h-5 text-[#0B0E14]"})}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-sm text-[#9AA3B2]",children:"Daily Calorie Target"}),v.jsxs("div",{className:"flex items-baseline gap-2",children:[v.jsx("span",{className:"text-2xl text-[#E6E9EF]",children:Math.round(r)}),v.jsx("span",{className:"text-sm text-[#9AA3B2]",children:"kcal/day"})]})]})]})})]}),v.jsxs(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"rounded-2xl bg-[#121722]/40 backdrop-blur-xl border border-[#2A3242] shadow-2xl p-6 space-y-6",children:[v.jsx("h3",{className:"text-lg text-[#E6E9EF]",children:"Daily Macro Targets"}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("span",{className:"text-sm text-[#9AA3B2]",children:"Protein"}),v.jsxs("span",{className:"text-sm text-[#E6E9EF]",children:[o.protein,"g"]})]}),v.jsx("div",{className:"relative pt-1",children:v.jsx("div",{className:"w-full h-2 bg-[#2A3242] rounded-full overflow-hidden",children:v.jsx("div",{className:"h-full bg-[#22D3EE] rounded-full w-full"})})}),v.jsxs("div",{className:"flex items-center justify-between text-xs",children:[v.jsx("span",{className:"text-[#9AA3B2]",children:"30% of calories"}),v.jsxs("span",{className:"text-[#9AA3B2]",children:[Math.round(o.protein*4)," kcal"]})]})]}),v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("span",{className:"text-sm text-[#9AA3B2]",children:"Carbs"}),v.jsxs("span",{className:"text-sm text-[#E6E9EF]",children:[o.carbs,"g"]})]}),v.jsx("div",{className:"relative pt-1",children:v.jsx("div",{className:"w-full h-2 bg-[#2A3242] rounded-full overflow-hidden",children:v.jsx("div",{className:"h-full bg-[#14B8A6] rounded-full w-full"})})}),v.jsxs("div",{className:"flex items-center justify-between text-xs",children:[v.jsx("span",{className:"text-[#9AA3B2]",children:"40% of calories"}),v.jsxs("span",{className:"text-[#9AA3B2]",children:[Math.round(o.carbs*4)," kcal"]})]})]}),v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("span",{className:"text-sm text-[#9AA3B2]",children:"Fats"}),v.jsxs("span",{className:"text-sm text-[#E6E9EF]",children:[o.fats,"g"]})]}),v.jsx("div",{className:"relative pt-1",children:v.jsx("div",{className:"w-full h-2 bg-[#2A3242] rounded-full overflow-hidden",children:v.jsx("div",{className:"h-full bg-gradient-to-r from-[#22D3EE] to-[#14B8A6] rounded-full w-full"})})}),v.jsxs("div",{className:"flex items-center justify-between text-xs",children:[v.jsx("span",{className:"text-[#9AA3B2]",children:"30% of calories"}),v.jsxs("span",{className:"text-[#9AA3B2]",children:[Math.round(o.fats*9)," kcal"]})]})]})]})]})]})}const FE=[{id:"1",name:"Vegetable Biryani",calories:450,protein:12,carbs:75,fats:12,category:"Main Course"},{id:"2",name:"Chicken Curry with Rice",calories:580,protein:35,carbs:68,fats:18,category:"Main Course"},{id:"3",name:"Dal Tadka with Roti (2)",calories:320,protein:15,carbs:48,fats:8,category:"Main Course"},{id:"4",name:"Paneer Butter Masala",calories:380,protein:18,carbs:22,fats:25,category:"Main Course"},{id:"5",name:"Chole Bhature",calories:550,protein:14,carbs:72,fats:22,category:"Main Course"},{id:"6",name:"Idli Sambar (3 pcs)",calories:280,protein:8,carbs:52,fats:4,category:"Breakfast"},{id:"7",name:"Masala Dosa",calories:420,protein:10,carbs:65,fats:14,category:"Breakfast"},{id:"8",name:"Poha",calories:250,protein:6,carbs:42,fats:6,category:"Breakfast"},{id:"9",name:"Upma",calories:220,protein:5,carbs:38,fats:5,category:"Breakfast"},{id:"10",name:"Mixed Veg Salad",calories:80,protein:3,carbs:12,fats:2,category:"Sides"},{id:"11",name:"Raita (Bowl)",calories:90,protein:4,carbs:8,fats:5,category:"Sides"},{id:"12",name:"Papad (2 pcs)",calories:80,protein:2,carbs:10,fats:3,category:"Sides"},{id:"13",name:"Rajma Chawal",calories:420,protein:16,carbs:64,fats:10,category:"Main Course"},{id:"14",name:"Aloo Paratha (2)",calories:480,protein:10,carbs:68,fats:18,category:"Breakfast"},{id:"15",name:"Fruit Bowl (Mixed)",calories:150,protein:2,carbs:36,fats:0,category:"Snacks"}];function qM({onSelectItem:n,selectedItems:e}){const[t,r]=X.useState(""),[o,a]=X.useState("All"),c=["All",...Array.from(new Set(FE.map(m=>m.category)))],d=FE.filter(m=>{const _=m.name.toLowerCase().includes(t.toLowerCase()),w=o==="All"||m.category===o;return _&&w}),f=m=>e.some(_=>_.id===m);return v.jsxs(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[v.jsxs("div",{className:"text-center space-y-2 mb-8",children:[v.jsx("h1",{className:"text-3xl text-[#E6E9EF]",children:"Cafeteria Menu"}),v.jsx("p",{className:"text-[#9AA3B2]",children:"Browse and select items to log or get suggestions"})]}),v.jsxs("div",{className:"rounded-2xl bg-[#121722]/40 backdrop-blur-xl border border-[#2A3242] shadow-2xl p-6 space-y-4",children:[v.jsxs("div",{className:"relative",children:[v.jsx(dP,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-[#9AA3B2]"}),v.jsx("input",{type:"text",value:t,onChange:m=>r(m.target.value),placeholder:"Search menu items...",className:"w-full pl-11 pr-4 py-2.5 rounded-full bg-[#0B0E14] border border-[#2A3242] text-[#E6E9EF] placeholder:text-[#9AA3B2] focus:outline-none focus:ring-2 focus:ring-[#22D3EE]/50 transition-all"})]}),v.jsx("div",{className:"flex flex-wrap gap-2",children:c.map(m=>v.jsx("button",{onClick:()=>a(m),className:`px-4 py-1.5 rounded-full text-sm transition-all ${o===m?"bg-[#22D3EE] text-[#0B0E14]":"bg-[#0B0E14] border border-[#2A3242] text-[#9AA3B2] hover:border-[#22D3EE]/50"}`,children:m},m))})]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:d.map((m,_)=>v.jsxs(Oe.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:_*.05},onClick:()=>n(m),className:`text-left rounded-2xl bg-[#121722]/40 backdrop-blur-xl border shadow-lg p-5 space-y-3 transition-all hover:shadow-xl ${f(m.id)?"border-[#22D3EE] ring-2 ring-[#22D3EE]/20":"border-[#2A3242] hover:border-[#22D3EE]/50"}`,children:[v.jsxs("div",{className:"flex items-start justify-between",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#22D3EE]/10 flex items-center justify-center",children:v.jsx(j1,{className:"w-5 h-5 text-[#22D3EE]"})}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-[#E6E9EF]",children:m.name}),v.jsx("p",{className:"text-xs text-[#9AA3B2]",children:m.category})]})]}),v.jsx("span",{className:"text-lg text-[#E6E9EF]",children:m.calories})]}),v.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx("div",{className:"w-2 h-2 rounded-full bg-[#22D3EE]"}),v.jsxs("span",{className:"text-[#9AA3B2]",children:["P: ",m.protein,"g"]})]}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx("div",{className:"w-2 h-2 rounded-full bg-[#14B8A6]"}),v.jsxs("span",{className:"text-[#9AA3B2]",children:["C: ",m.carbs,"g"]})]}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx("div",{className:"w-2 h-2 rounded-full bg-gradient-to-r from-[#22D3EE] to-[#14B8A6]"}),v.jsxs("span",{className:"text-[#9AA3B2]",children:["F: ",m.fats,"g"]})]})]})]},m.id))}),d.length===0&&v.jsx("div",{className:"text-center py-12",children:v.jsx("p",{className:"text-[#9AA3B2]",children:"No items found matching your search."})})]})}async function GM(n,e){try{console.log("[OPENAI] Calling OpenAI API...");const t=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({model:"gpt-3.5-turbo",messages:[{role:"system",content:"You are a nutrition expert specializing in Indian cuisine and food analysis. Parse menu text accurately and provide detailed nutritional information. Return only valid JSON arrays."},{role:"user",content:`Parse the following menu text and extract all food items with their nutritional information.

INSTRUCTIONS:
1. Extract all food items from the text
2. Estimate calories, protein, carbs, and fats per item
3. Categorize each item by meal type
4. Focus on Indian and common foods
5. If an item says "2 rotis" or "3 eggs", calculate macros for the TOTAL quantity
6. If a line says "Paneer bhurji + 2 rotis", treat it as ONE meal and sum the macros
7. IGNORE noise like headers, prices, dates, or section titles

MENU TEXT:
${n}

OUTPUT FORMAT (return ONLY valid JSON, no markdown):
[
  {
    "name": "Food item name",
    "calories": 450,
    "protein": 25,
    "carbs": 60,
    "fats": 12,
    "category": "Breakfast|Main Course|Sides|Snacks|Dessert|Beverage|Bread",
    "servingSize": "The quantity/portion size (e.g., '1 cup', '2 pieces', '100g', '1 bowl')"
  }
]

If NO food items are found, return an empty array: []`}],temperature:.3,max_tokens:2e3})});if(!t.ok){const m=await t.json().catch(()=>({}));throw console.error("[OPENAI] API Error:",m),new Error(`OpenAI API Error: ${t.status} - ${JSON.stringify(m)}`)}const o=(await t.json()).choices?.[0]?.message?.content;if(!o)throw new Error("No response from OpenAI");console.log("[OPENAI] Raw response:",o);const a=o.replace(/```json/g,"").replace(/```/g,"").trim(),c=JSON.parse(a),d=Array.isArray(c)?c:c.items||[];if(!Array.isArray(d))throw new Error("Invalid response format: not an array");const f=d.map((m,_)=>({id:`openai-${Date.now()}-${_}`,name:m.name||"Unknown Item",calories:Number(m.calories)||0,protein:Number(m.protein)||0,carbs:Number(m.carbs)||0,fats:Number(m.fats)||0,category:m.category||"Other",servingSize:m.servingSize||"1 serving"}));return console.log("[OPENAI] Parsed items:",f),f}catch(t){throw console.error("[OPENAI] Error:",t),t}}const KM=n=>{const e=n.toLowerCase();return e.includes("biryani")?{calories:450,protein:12,carbs:75,fats:12,category:"Main Course"}:e.includes("pulao")||e.includes("pilaf")?{calories:380,protein:10,carbs:65,fats:10,category:"Main Course"}:e.includes("fried rice")?{calories:400,protein:8,carbs:70,fats:12,category:"Main Course"}:e.includes("jeera rice")||e.includes("plain rice")?{calories:200,protein:4,carbs:44,fats:1,category:"Main Course"}:e.includes("naan")?{calories:260,protein:8,carbs:45,fats:5,category:"Bread"}:e.includes("roti")||e.includes("chapati")?{calories:120,protein:4,carbs:22,fats:2,category:"Bread"}:e.includes("paratha")?{calories:280,protein:6,carbs:38,fats:12,category:"Bread"}:e.includes("puri")||e.includes("poori")?{calories:180,protein:3,carbs:20,fats:10,category:"Bread"}:e.includes("chicken curry")||e.includes("chicken masala")?{calories:320,protein:35,carbs:12,fats:18,category:"Main Course"}:e.includes("butter chicken")?{calories:400,protein:30,carbs:15,fats:25,category:"Main Course"}:e.includes("paneer")&&e.includes("butter")?{calories:380,protein:18,carbs:22,fats:25,category:"Main Course"}:e.includes("paneer")&&(e.includes("tikka")||e.includes("masala"))?{calories:320,protein:20,carbs:18,fats:20,category:"Main Course"}:e.includes("chole")||e.includes("chana")?{calories:280,protein:14,carbs:42,fats:8,category:"Main Course"}:e.includes("rajma")?{calories:250,protein:15,carbs:38,fats:6,category:"Main Course"}:e.includes("dal")&&e.includes("tadka")?{calories:180,protein:12,carbs:25,fats:5,category:"Main Course"}:e.includes("dal")?{calories:150,protein:10,carbs:22,fats:4,category:"Main Course"}:e.includes("dosa")?{calories:200,protein:6,carbs:35,fats:5,category:"Breakfast"}:e.includes("idli")?{calories:90,protein:3,carbs:17,fats:1,category:"Breakfast"}:e.includes("vada")?{calories:150,protein:4,carbs:18,fats:8,category:"Breakfast"}:e.includes("upma")?{calories:200,protein:6,carbs:32,fats:6,category:"Breakfast"}:e.includes("uttapam")?{calories:220,protein:7,carbs:38,fats:5,category:"Breakfast"}:e.includes("raita")?{calories:90,protein:4,carbs:8,fats:5,category:"Sides"}:e.includes("salad")?{calories:80,protein:3,carbs:12,fats:2,category:"Sides"}:e.includes("pickle")||e.includes("achar")?{calories:40,protein:1,carbs:6,fats:2,category:"Sides"}:e.includes("papad")?{calories:50,protein:2,carbs:8,fats:1,category:"Sides"}:e.includes("samosa")?{calories:250,protein:5,carbs:30,fats:13,category:"Snacks"}:e.includes("pakora")||e.includes("bhaji")?{calories:200,protein:4,carbs:22,fats:12,category:"Snacks"}:e.includes("sandwich")?{calories:280,protein:12,carbs:40,fats:8,category:"Snacks"}:e.includes("gulab jamun")?{calories:150,protein:3,carbs:25,fats:6,category:"Dessert"}:e.includes("kheer")?{calories:180,protein:5,carbs:28,fats:6,category:"Dessert"}:e.includes("halwa")?{calories:200,protein:3,carbs:32,fats:8,category:"Dessert"}:e.includes("tea")||e.includes("chai")?{calories:60,protein:2,carbs:10,fats:2,category:"Beverage"}:e.includes("coffee")?{calories:50,protein:2,carbs:8,fats:2,category:"Beverage"}:e.includes("lassi")?{calories:150,protein:6,carbs:22,fats:4,category:"Beverage"}:{calories:250,protein:10,carbs:35,fats:8,category:"Other"}},BE=n=>{if(!n.trim())return[];const e=n.split(`
`).filter(r=>r.trim()),t=[];return e.forEach((r,o)=>{const a=r.replace(/^[\d\.\-\*\\\\\]+\s*/,"").trim();if(a.length<3)return;const c=KM(a);t.push({id:`parsed - ${o} `,name:a,...c})}),t};function QM({dailyCalories:n,remainingCalories:e,macros:t,onSelectItem:r,selectedItems:o}){const[a,c]=X.useState(""),[d,f]=X.useState([]),[m,_]=X.useState(new Map),[w,T]=X.useState([]),[I,O]=X.useState(!1),[B,L]=X.useState(!1),[K,Q]=X.useState({breakfast:null,lunch:null,dinner:null}),[Y,ue]=X.useState(!1),[ae,ie]=X.useState(null),[P,A]=X.useState(null),b=async()=>{console.log("[PARSER] Starting menu parse..."),console.log("[PARSER] Menu text:",a),ue(!0),ie(null),A(null);try{let U=[];const N=localStorage.getItem("openai_api_key");if(console.log("[PARSER] OpenAI key present:",!!N),N)try{console.log("[PARSER] Attempting OpenAI parsing..."),U=await GM(a,N),console.log("[PARSER] OpenAI parsing successful! Items:",U),U.length===0&&ie("No food items found in the text."),A("ai")}catch(le){console.error("[PARSER] OpenAI parsing failed, using local parser:",le);const re=le instanceof Error?le.message:"";re.includes("insufficient_quota")?ie(" OpenAI quota exceeded. Add credits at platform.openai.com/billing. Using local parser."):re.includes("429")?ie(" OpenAI rate limit reached. Using local parser."):ie("OpenAI unavailable. Using local parser."),U=BE(a),console.log("[PARSER] Local parsing result:",U),U.length===0&&ie("No food items found in the text."),A("local")}else console.log("[PARSER] No OpenAI API key, using local parser"),U=BE(a),console.log("[PARSER] Local parsing result:",U),U.length===0&&ie("No food items found in the text. Tip: Add your OpenAI API key in Settings for better parsing."),A("local");console.log("[PARSER] Final items count:",U.length),f(U),L(!0),O(!1),T([]);const H=new Map;U.forEach(le=>{H.set(le.id,"optional")}),_(H)}catch(U){console.error("[PARSER] Critical parsing error:",U),ie(`Failed to parse menu: ${U instanceof Error?U.message:"Unknown error"}`)}finally{ue(!1),console.log("[PARSER] Parsing complete")}},D=(U,N)=>{_(H=>{const le=new Map(H);return le.set(U,N),le})},R=(U,N,H,le,re,de=new Set)=>{const we=[];let he={calories:0,protein:0,carbs:0,fats:0};const Me=U.filter(Je=>!de.has(Je.id)),Ue=Me.filter(Je=>m.get(Je.id)==="must-have");for(const Je of Ue)he.calories+Je.calories<=N*1.1&&(we.push(Je),he.calories+=Je.calories,he.protein+=Je.protein,he.carbs+=Je.carbs,he.fats+=Je.fats,de.add(Je.id));const st=Me.filter(Je=>m.get(Je.id)!=="must-have"&&!we.includes(Je));for(;;){const Je=N-he.calories,an=H-he.protein,An=le-he.carbs,Jn=re-he.fats;if(Je<50)break;let ln=null,Zn=-1/0;for(const xt of st){if(de.has(xt.id)||xt.calories>Je*1.05+50)continue;const fr=an>0?Math.min(xt.protein/an,1.2):xt.protein>0?-.1:0,ht=An>0?Math.min(xt.carbs/An,1.2):xt.carbs>0?-.1:0,it=Jn>0?Math.min(xt.fats/Jn,1.2):xt.fats>0?-.1:0,je=Math.min(xt.calories/Je,1),jn=fr*2+je*1.5+ht*1+it*1;jn>Zn&&(Zn=jn,ln=xt)}if(ln)we.push(ln),he.calories+=ln.calories,he.protein+=ln.protein,he.carbs+=ln.carbs,he.fats+=ln.fats,de.add(ln.id);else break}return we},F=()=>{const U=t.protein.target-t.protein.consumed,N=t.carbs.target-t.carbs.consumed,H=t.fats.target-t.fats.consumed,le=d.filter(je=>m.get(je.id)==="must-have"),re=d.filter(je=>m.get(je.id)==="optional"),de=e*.3,we=e*.4,he=e*.3,Me=U*.3,Ue=U*.4,st=U*.3,Je=N*.3,an=N*.4,An=N*.3,Jn=H*.3,ln=H*.4,Zn=H*.3,xt=[...le,...re].filter(je=>je.category==="Breakfast"||je.category==="Beverage"||je.category==="Snacks"),fr=[...le,...re].filter(je=>je.category==="Main Course"||je.category==="Bread"||je.category==="Sides"||je.category==="Beverage"),ht=[...le,...re].filter(je=>je.category==="Main Course"||je.category==="Bread"||je.category==="Sides"||je.category==="Dessert"),it=[];for(let je=0;je<3;je++){const jn=new Set,qr=[...xt.length>0?xt:fr],Ts=[...fr],On=[...ht];for(let Ce=0;Ce<je*2;Ce++)qr.push(qr.shift()),Ts.push(Ts.shift()),On.push(On.shift());const er=R(qr,de,Me,Je,Jn,jn).map(Ce=>({...Ce,id:`plan - ${je} -breakfast - ${Ce.id} `})),Ln=R(Ts,we,Ue,an,ln,jn).map(Ce=>({...Ce,id:`plan - ${je} -lunch - ${Ce.id} `})),fn=R(On,he,st,An,Zn,jn).map(Ce=>({...Ce,id:`plan - ${je} -dinner - ${Ce.id} `})),pr={name:"Breakfast",icon:UC,items:er,calories:er.reduce((Ce,et)=>Ce+et.calories,0),protein:er.reduce((Ce,et)=>Ce+et.protein,0),carbs:er.reduce((Ce,et)=>Ce+et.carbs,0),fats:er.reduce((Ce,et)=>Ce+et.fats,0)},Sn={name:"Lunch",icon:EP,items:Ln,calories:Ln.reduce((Ce,et)=>Ce+et.calories,0),protein:Ln.reduce((Ce,et)=>Ce+et.protein,0),carbs:Ln.reduce((Ce,et)=>Ce+et.carbs,0),fats:Ln.reduce((Ce,et)=>Ce+et.fats,0)},pn={name:"Dinner",icon:iP,items:fn,calories:fn.reduce((Ce,et)=>Ce+et.calories,0),protein:fn.reduce((Ce,et)=>Ce+et.protein,0),carbs:fn.reduce((Ce,et)=>Ce+et.carbs,0),fats:fn.reduce((Ce,et)=>Ce+et.fats,0)},ho=pr.calories+Sn.calories+pn.calories,mr=pr.protein+Sn.protein+pn.protein,As=pr.carbs+Sn.carbs+pn.carbs,_i=pr.fats+Sn.fats+pn.fats;it.push({id:`plan - ${je} `,name:`Option ${String.fromCharCode(65+je)} `,breakfast:pr,lunch:Sn,dinner:pn,totalCalories:ho,totalProtein:mr,totalCarbs:As,totalFats:_i})}T(it),O(!0)},C=(U,N)=>{const H=U.name.toLowerCase(),le=K[H];if(le===N)U.items.forEach(re=>{o.some(de=>de.id===re.id)&&r(re)}),Q(re=>({...re,[H]:null}));else{if(le){const re=w.find(de=>de.id===le);re&&re[H].items.forEach(we=>{o.some(he=>he.id===we.id)&&r(we)})}U.items.forEach(re=>{o.some(de=>de.id===re.id)||r(re)}),Q(re=>({...re,[H]:N}))}},Le=(U,N)=>{const H=U.name.toLowerCase();return K[H]===N},Ge=U=>o.some(N=>N.id===U),Ye=U=>m.get(U)||"optional",Te=Array.from(m.values()).filter(U=>U==="must-have").length,j=Array.from(m.values()).filter(U=>U==="optional").length,J=Array.from(m.values()).filter(U=>U==="not-necessary").length;return v.jsxs(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[v.jsxs("div",{className:"text-center space-y-2 mb-8",children:[v.jsx("h1",{className:"text-3xl text-[#E6E9EF]",children:"Smart Menu Suggestions"}),v.jsx("p",{className:"text-[#9AA3B2]",children:"Paste your cafeteria menu and get personalized recommendations"})]}),v.jsxs("div",{className:"rounded-2xl bg-gradient-to-br from-[#22D3EE]/10 to-[#14B8A6]/10 border border-[#22D3EE]/30 shadow-2xl p-6",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[v.jsx(uh,{className:"w-5 h-5 text-[#22D3EE]"}),v.jsx("h3",{className:"text-lg text-[#E6E9EF]",children:"Remaining Today"})]}),v.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-xs text-[#9AA3B2] mb-1",children:"Calories"}),v.jsx("p",{className:"text-xl text-[#E6E9EF]",children:e})]}),v.jsxs("div",{children:[v.jsx("p",{className:"text-xs text-[#9AA3B2] mb-1",children:"Protein"}),v.jsxs("p",{className:"text-xl text-[#E6E9EF]",children:[Math.max(0,t.protein.target-t.protein.consumed),"g"]})]}),v.jsxs("div",{children:[v.jsx("p",{className:"text-xs text-[#9AA3B2] mb-1",children:"Carbs"}),v.jsxs("p",{className:"text-xl text-[#E6E9EF]",children:[Math.max(0,t.carbs.target-t.carbs.consumed),"g"]})]}),v.jsxs("div",{children:[v.jsx("p",{className:"text-xs text-[#9AA3B2] mb-1",children:"Fats"}),v.jsxs("p",{className:"text-xl text-[#E6E9EF]",children:[Math.max(0,t.fats.target-t.fats.consumed),"g"]})]})]})]}),!B&&v.jsxs("div",{className:"rounded-2xl bg-[#121722]/40 backdrop-blur-xl border border-[#2A3242] shadow-lg p-6 space-y-4",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx(OC,{className:"w-5 h-5 text-[#14B8A6]"}),v.jsx("h3",{className:"text-lg text-[#E6E9EF]",children:"Paste Your Menu"})]}),v.jsx("textarea",{value:a,onChange:U=>c(U.target.value),placeholder:"Paste your cafeteria menu here... (e.g., Vegetable Biryani, Chicken Curry, Dal Tadka, etc.)",className:"w-full h-32 px-4 py-3 rounded-xl bg-[#0B0E14]/50 border border-[#2A3242] text-[#E6E9EF] placeholder-[#9AA3B2]/50 resize-none focus:outline-none focus:ring-2 focus:ring-[#22D3EE]/50 focus:border-[#22D3EE]"}),v.jsx("button",{onClick:b,disabled:!a.trim(),className:"w-full px-6 py-3 rounded-xl bg-gradient-to-r from-[#22D3EE] to-[#14B8A6] text-[#0B0E14] transition-all hover:shadow-lg hover:shadow-[#22D3EE]/20 disabled:opacity-50 disabled:cursor-not-allowed",children:"Parse Menu"}),Y&&v.jsxs("div",{className:"flex items-center justify-center gap-2 text-[#22D3EE]",children:[v.jsx(ZC,{className:"w-5 h-5 animate-spin"}),v.jsx("span",{children:"Analyzing menu with AI..."})]}),ae&&v.jsx("div",{className:"text-red-400 text-sm text-center",children:ae})]}),v.jsx(Hu,{children:B&&!I&&d.length>0&&v.jsxs(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(j1,{className:"w-5 h-5 text-[#14B8A6]"}),v.jsxs("h3",{className:"text-lg text-[#E6E9EF]",children:["Categorize Your Menu Items (",d.length,")"]})]}),v.jsx("button",{onClick:()=>{L(!1),f([]),c(""),_(new Map)},className:"text-xs text-[#9AA3B2] hover:text-[#E6E9EF] transition-colors",children:"Reset Menu"})]}),v.jsxs("div",{className:"rounded-xl bg-[#121722]/40 backdrop-blur-xl border border-[#2A3242] shadow-md p-4",children:[v.jsx("p",{className:"text-sm text-[#9AA3B2] mb-3",children:"Mark each item based on your preference:"}),v.jsxs("div",{className:"flex flex-wrap gap-4 text-xs",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(Kf,{className:"w-4 h-4 text-[#14B8A6] fill-[#14B8A6]"}),v.jsxs("span",{className:"text-[#E6E9EF]",children:["Must Have (",Te,")"]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(h_,{className:"w-4 h-4 text-[#22D3EE]"}),v.jsxs("span",{className:"text-[#E6E9EF]",children:["Optional (",j,")"]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(f_,{className:"w-4 h-4 text-[#9AA3B2]"}),v.jsxs("span",{className:"text-[#E6E9EF]",children:["Not Necessary (",J,")"]})]})]})]}),v.jsx("div",{className:"grid grid-cols-1 gap-3",children:d.map((U,N)=>{const H=Ye(U.id);return v.jsx(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:N*.03},className:`rounded-xl bg-[#121722]/40 backdrop-blur-xl border shadow-md p-4 ${H==="must-have"?"border-[#14B8A6] ring-2 ring-[#14B8A6]/20":H==="not-necessary"?"border-[#9AA3B2]/30 opacity-60":"border-[#2A3242]"}`,children:v.jsxs("div",{className:"flex items-center justify-between gap-4",children:[v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("div",{className:"flex items-center gap-2",children:v.jsx("h4",{className:"text-[#E6E9EF] truncate",children:U.name})}),v.jsxs("div",{className:"flex items-center gap-3 text-xs mt-1",children:[v.jsx("span",{className:"text-[#9AA3B2]",children:U.category}),v.jsx("span",{className:"text-[#9AA3B2]",children:""}),v.jsxs("span",{className:"text-[#E6E9EF]",children:[U.calories," cal"]}),v.jsxs("span",{className:"text-[#9AA3B2]",children:["P:",U.protein,"g C:",U.carbs,"g F:",U.fats,"g"]})]})]}),v.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[v.jsx("button",{onClick:()=>D(U.id,"must-have"),className:`p-2 rounded-lg transition-all ${H==="must-have"?"bg-[#14B8A6] text-[#0B0E14]":"bg-[#2A3242] text-[#9AA3B2] hover:bg-[#2A3242]/70"}`,title:"Must Have",children:v.jsx(Kf,{className:`w-4 h-4 ${H==="must-have"?"fill-current":""}`})}),v.jsx("button",{onClick:()=>D(U.id,"optional"),className:`p-2 rounded-lg transition-all ${H==="optional"?"bg-[#22D3EE] text-[#0B0E14]":"bg-[#2A3242] text-[#9AA3B2] hover:bg-[#2A3242]/70"}`,title:"Optional",children:v.jsx(h_,{className:"w-4 h-4"})}),v.jsx("button",{onClick:()=>D(U.id,"not-necessary"),className:`p-2 rounded-lg transition-all ${H==="not-necessary"?"bg-[#9AA3B2] text-[#0B0E14]":"bg-[#2A3242] text-[#9AA3B2] hover:bg-[#2A3242]/70"}`,title:"Not Necessary",children:v.jsx(f_,{className:"w-4 h-4"})})]})]})},U.id)})}),v.jsxs("button",{onClick:F,className:"w-full px-6 py-4 rounded-xl bg-gradient-to-r from-[#22D3EE] to-[#14B8A6] text-[#0B0E14] flex items-center justify-center gap-2 transition-all hover:shadow-lg hover:shadow-[#22D3EE]/20",children:[v.jsx(mP,{className:"w-5 h-5"}),v.jsx("span",{children:"Generate 3 Meal Plan Options"})]})]})}),v.jsx(Hu,{children:I&&w.length>0&&v.jsxs(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"rounded-2xl bg-[#121722]/40 backdrop-blur-xl border border-[#2A3242] shadow-lg p-6 space-y-4",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(uh,{className:"w-5 h-5 text-[#22D3EE]"}),v.jsx("h3",{className:"text-lg text-[#E6E9EF]",children:"Nutritional Analysis"})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{className:"rounded-xl bg-[#0B0E14]/50 border border-[#2A3242] p-4",children:[v.jsxs("div",{className:"flex items-center justify-between mb-2",children:[v.jsx("span",{className:"text-sm text-[#9AA3B2]",children:"Calories"}),v.jsx("span",{className:`text-sm font-medium ${e>0?"text-[#F59E0B]":"text-[#14B8A6]"}`,children:e>0?`${Math.round(e)} to go`:"Goal met!"})]}),v.jsx("div",{className:"w-full bg-[#2A3242] rounded-full h-2",children:v.jsx("div",{className:"bg-gradient-to-r from-[#22D3EE] to-[#14B8A6] h-2 rounded-full transition-all",style:{width:`${Math.min((n-e)/n*100,100)}%`}})})]}),v.jsxs("div",{className:"rounded-xl bg-[#0B0E14]/50 border border-[#2A3242] p-4",children:[v.jsxs("div",{className:"flex items-center justify-between mb-2",children:[v.jsx("span",{className:"text-sm text-[#9AA3B2]",children:"Protein"}),v.jsx("span",{className:`text-sm font-medium ${t.protein.consumed<t.protein.target?"text-[#F59E0B]":"text-[#14B8A6]"}`,children:t.protein.consumed<t.protein.target?`${Math.round(t.protein.target-t.protein.consumed)}g needed`:"Goal met!"})]}),v.jsx("div",{className:"w-full bg-[#2A3242] rounded-full h-2",children:v.jsx("div",{className:"bg-[#14B8A6] h-2 rounded-full transition-all",style:{width:`${Math.min(t.protein.consumed/t.protein.target*100,100)}%`}})})]}),v.jsxs("div",{className:"rounded-xl bg-[#0B0E14]/50 border border-[#2A3242] p-4",children:[v.jsxs("div",{className:"flex items-center justify-between mb-2",children:[v.jsx("span",{className:"text-sm text-[#9AA3B2]",children:"Carbs"}),v.jsx("span",{className:`text-sm font-medium ${t.carbs.consumed<t.carbs.target?"text-[#F59E0B]":"text-[#14B8A6]"}`,children:t.carbs.consumed<t.carbs.target?`${Math.round(t.carbs.target-t.carbs.consumed)}g needed`:"Goal met!"})]}),v.jsx("div",{className:"w-full bg-[#2A3242] rounded-full h-2",children:v.jsx("div",{className:"bg-[#22D3EE] h-2 rounded-full transition-all",style:{width:`${Math.min(t.carbs.consumed/t.carbs.target*100,100)}%`}})})]}),v.jsxs("div",{className:"rounded-xl bg-[#0B0E14]/50 border border-[#2A3242] p-4",children:[v.jsxs("div",{className:"flex items-center justify-between mb-2",children:[v.jsx("span",{className:"text-sm text-[#9AA3B2]",children:"Fats"}),v.jsx("span",{className:`text-sm font-medium ${t.fats.consumed<t.fats.target?"text-[#F59E0B]":"text-[#14B8A6]"}`,children:t.fats.consumed<t.fats.target?`${Math.round(t.fats.target-t.fats.consumed)}g needed`:"Goal met!"})]}),v.jsx("div",{className:"w-full bg-[#2A3242] rounded-full h-2",children:v.jsx("div",{className:"bg-[#F59E0B] h-2 rounded-full transition-all",style:{width:`${Math.min(t.fats.consumed/t.fats.target*100,100)}%`}})})]})]}),e>100&&v.jsx("div",{className:"rounded-xl bg-gradient-to-r from-[#22D3EE]/10 to-[#14B8A6]/10 border border-[#22D3EE]/30 p-4",children:v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx(ch,{className:"w-5 h-5 text-[#22D3EE] flex-shrink-0 mt-0.5"}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("p",{className:"text-sm text-[#E6E9EF] font-medium",children:"Recommendations to meet your goals:"}),v.jsxs("ul",{className:"text-sm text-[#9AA3B2] space-y-1",children:[t.protein.consumed<t.protein.target&&v.jsxs("li",{children:[" Add protein-rich foods like chicken, eggs, paneer, or dal (",Math.round(t.protein.target-t.protein.consumed),"g protein needed)"]}),t.carbs.consumed<t.carbs.target&&v.jsxs("li",{children:[" Include carbs like rice, roti, oats, or fruits (",Math.round(t.carbs.target-t.carbs.consumed),"g carbs needed)"]}),t.fats.consumed<t.fats.target&&v.jsxs("li",{children:[" Add healthy fats from nuts, ghee, or avocado (",Math.round(t.fats.target-t.fats.consumed),"g fats needed)"]}),e>0&&t.protein.consumed>=t.protein.target&&t.carbs.consumed>=t.carbs.target&&t.fats.consumed>=t.fats.target&&v.jsxs("li",{children:[" You need ",Math.round(e)," more calories. Add any balanced meal or snack."]})]})]})]})})]})}),v.jsx(Hu,{children:I&&w.length>0&&v.jsxs(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(ch,{className:"w-5 h-5 text-[#22D3EE]"}),v.jsx("h3",{className:"text-lg text-[#E6E9EF]",children:"3 Full Day Meal Options"})]}),v.jsx("button",{onClick:()=>{O(!1),L(!0)},className:"text-xs text-[#9AA3B2] hover:text-[#E6E9EF] transition-colors",children:"Back to Categories"})]}),v.jsx("p",{className:"text-sm text-[#9AA3B2] text-center",children:"Select individual meals from any option or pick specific items"}),v.jsx("div",{className:"grid grid-cols-1 gap-6",children:w.map((U,N)=>v.jsxs(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:N*.1},className:"rounded-2xl bg-[#121722]/40 backdrop-blur-xl border border-[#2A3242] shadow-lg overflow-hidden",children:[v.jsxs("div",{className:"bg-gradient-to-r from-[#22D3EE]/10 to-[#14B8A6]/10 border-b border-[#2A3242] p-5",children:[v.jsx("div",{className:"flex items-center justify-between mb-3",children:v.jsx("h3",{className:"text-xl text-[#E6E9EF]",children:U.name})}),v.jsxs("div",{className:"flex items-center flex-wrap gap-6 text-sm",children:[v.jsxs("span",{className:"text-[#E6E9EF]",children:[U.totalCalories," cal"]}),v.jsxs("span",{className:"text-[#9AA3B2]",children:["Protein: ",U.totalProtein,"g"]}),v.jsxs("span",{className:"text-[#9AA3B2]",children:["Carbs: ",U.totalCarbs,"g"]}),v.jsxs("span",{className:"text-[#9AA3B2]",children:["Fats: ",U.totalFats,"g"]})]})]}),v.jsx("div",{className:"p-5 space-y-4",children:[U.breakfast,U.lunch,U.dinner].map((H,le)=>v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{className:"flex items-center justify-between pb-2 border-b border-[#2A3242]",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-[#22D3EE]/20 to-[#14B8A6]/20 flex items-center justify-center",children:v.jsx(H.icon,{className:"w-4 h-4 text-[#22D3EE]"})}),v.jsxs("div",{className:"flex-1",children:[v.jsx("h4",{className:"text-[#E6E9EF]",children:H.name}),v.jsxs("p",{className:"text-xs text-[#9AA3B2]",children:[H.calories," cal  P:",H.protein,"g C:",H.carbs,"g F:",H.fats,"g"]})]})]}),v.jsxs("button",{onClick:()=>C(H,U.id),className:`px-3 py-1.5 rounded-lg text-xs flex items-center gap-1.5 transition-all ${Le(H,U.id)?"bg-[#22D3EE] text-[#0B0E14]":"bg-[#2A3242] text-[#E6E9EF] hover:bg-[#2A3242]/70"}`,children:[v.jsx(VC,{className:"w-3.5 h-3.5"}),v.jsx("span",{children:Le(H,U.id)?"Selected":"Select Meal"})]})]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:H.items.map(re=>{const de=Ye(re.id);return v.jsxs("button",{onClick:()=>r(re),className:`text-left rounded-lg bg-[#0B0E14]/50 border p-3 space-y-2 transition-all hover:shadow-md ${Ge(re.id)?"border-[#22D3EE] ring-1 ring-[#22D3EE]/20":"border-[#2A3242] hover:border-[#22D3EE]/50"}`,children:[v.jsxs("div",{className:"flex items-start justify-between",children:[v.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[de==="must-have"&&v.jsx(Kf,{className:"w-3 h-3 text-[#14B8A6] fill-[#14B8A6] flex-shrink-0"}),v.jsx("span",{className:"text-sm text-[#E6E9EF] truncate",children:re.name})]}),v.jsxs("div",{className:"flex flex-col items-end ml-2",children:[re.servingSize&&v.jsx("span",{className:"text-xs text-[#9AA3B2]",children:re.servingSize}),v.jsxs("span",{className:"text-sm text-[#E6E9EF]",children:[re.calories," cal"]})]})]}),v.jsxs("div",{className:"flex items-center gap-3 text-xs text-[#9AA3B2]",children:[v.jsxs("span",{children:["P:",re.protein,"g"]}),v.jsxs("span",{children:["C:",re.carbs,"g"]}),v.jsxs("span",{children:["F:",re.fats,"g"]}),Ge(re.id)&&v.jsxs("span",{className:"ml-auto text-[#22D3EE] flex items-center gap-1",children:[v.jsx(Ki,{className:"w-3 h-3"}),"Selected"]})]})]},re.id)})})]},le))})]},U.id))})]})})]})}const YM=n=>{const e=n.toLowerCase();return e.includes("biryani")?{calories:450,protein:12,carbs:75,fats:12,category:"Main Course"}:e.includes("pulao")||e.includes("pilaf")?{calories:380,protein:10,carbs:65,fats:10,category:"Main Course"}:e.includes("fried rice")?{calories:400,protein:8,carbs:70,fats:12,category:"Main Course"}:e.includes("jeera rice")||e.includes("plain rice")?{calories:200,protein:4,carbs:44,fats:1,category:"Main Course"}:e.includes("naan")?{calories:260,protein:8,carbs:45,fats:5,category:"Bread"}:e.includes("roti")||e.includes("chapati")?{calories:120,protein:4,carbs:22,fats:2,category:"Bread"}:e.includes("paratha")?{calories:280,protein:6,carbs:38,fats:12,category:"Bread"}:e.includes("puri")||e.includes("poori")?{calories:180,protein:3,carbs:20,fats:10,category:"Bread"}:e.includes("chicken curry")||e.includes("chicken masala")?{calories:320,protein:35,carbs:12,fats:18,category:"Main Course"}:e.includes("butter chicken")?{calories:400,protein:30,carbs:15,fats:25,category:"Main Course"}:e.includes("paneer")&&e.includes("butter")?{calories:380,protein:18,carbs:22,fats:25,category:"Main Course"}:e.includes("paneer")&&(e.includes("tikka")||e.includes("masala"))?{calories:320,protein:20,carbs:18,fats:20,category:"Main Course"}:e.includes("chole")||e.includes("chana")?{calories:280,protein:14,carbs:42,fats:8,category:"Main Course"}:e.includes("rajma")?{calories:250,protein:15,carbs:38,fats:6,category:"Main Course"}:e.includes("dal")&&e.includes("tadka")?{calories:180,protein:12,carbs:25,fats:5,category:"Main Course"}:e.includes("dal")?{calories:150,protein:10,carbs:22,fats:4,category:"Main Course"}:e.includes("dosa")?{calories:200,protein:6,carbs:35,fats:5,category:"Breakfast"}:e.includes("idli")?{calories:90,protein:3,carbs:17,fats:1,category:"Breakfast"}:e.includes("vada")?{calories:150,protein:4,carbs:18,fats:8,category:"Breakfast"}:e.includes("upma")?{calories:200,protein:6,carbs:32,fats:6,category:"Breakfast"}:e.includes("uttapam")?{calories:220,protein:7,carbs:38,fats:5,category:"Breakfast"}:e.includes("raita")?{calories:90,protein:4,carbs:8,fats:5,category:"Sides"}:e.includes("salad")?{calories:80,protein:3,carbs:12,fats:2,category:"Sides"}:e.includes("pickle")||e.includes("achar")?{calories:40,protein:1,carbs:6,fats:2,category:"Sides"}:e.includes("papad")?{calories:50,protein:2,carbs:8,fats:1,category:"Sides"}:e.includes("samosa")?{calories:250,protein:5,carbs:30,fats:13,category:"Snacks"}:e.includes("pakora")||e.includes("bhaji")?{calories:200,protein:4,carbs:22,fats:12,category:"Snacks"}:e.includes("sandwich")?{calories:280,protein:12,carbs:40,fats:8,category:"Snacks"}:e.includes("gulab jamun")?{calories:150,protein:3,carbs:25,fats:6,category:"Dessert"}:e.includes("kheer")?{calories:180,protein:5,carbs:28,fats:6,category:"Dessert"}:e.includes("halwa")?{calories:200,protein:3,carbs:32,fats:8,category:"Dessert"}:e.includes("tea")||e.includes("chai")?{calories:60,protein:2,carbs:10,fats:2,category:"Beverage"}:e.includes("coffee")?{calories:50,protein:2,carbs:8,fats:2,category:"Beverage"}:e.includes("lassi")?{calories:150,protein:6,carbs:22,fats:4,category:"Beverage"}:{calories:250,protein:10,carbs:35,fats:8,category:"Other"}};function XM({loggedItems:n,onRemoveItem:e,onAddManualMeal:t}){const[r,o]=X.useState(""),[a,c]=X.useState(!1),d=n.reduce((I,O)=>I+O.item.calories,0),f=n.reduce((I,O)=>I+O.item.protein,0),m=n.reduce((I,O)=>I+O.item.carbs,0),_=n.reduce((I,O)=>I+O.item.fats,0),w=I=>new Date(I).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"}),T=()=>{if(r.trim()&&t){const I=YM(r),O={id:`manual-${Date.now()}`,name:r.trim(),...I};t(O),o(""),c(!1)}};return v.jsxs(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[v.jsxs("div",{className:"text-center space-y-2 mb-8",children:[v.jsx("h1",{className:"text-3xl text-[#E6E9EF]",children:"Meal Log"}),v.jsx("p",{className:"text-[#9AA3B2]",children:"Track your daily food intake"})]}),v.jsxs("div",{className:"rounded-2xl bg-gradient-to-br from-[#22D3EE]/10 to-[#14B8A6]/10 border border-[#22D3EE]/30 shadow-2xl p-6",children:[v.jsx("h3",{className:"text-lg text-[#E6E9EF] mb-4",children:"Today's Total"}),v.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("p",{className:"text-xs text-[#9AA3B2] mb-1",children:"Calories"}),v.jsx("p",{className:"text-2xl text-[#E6E9EF]",children:d})]}),v.jsxs("div",{className:"text-center",children:[v.jsx("p",{className:"text-xs text-[#9AA3B2] mb-1",children:"Protein"}),v.jsxs("p",{className:"text-2xl text-[#22D3EE]",children:[f,"g"]})]}),v.jsxs("div",{className:"text-center",children:[v.jsx("p",{className:"text-xs text-[#9AA3B2] mb-1",children:"Carbs"}),v.jsxs("p",{className:"text-2xl text-[#14B8A6]",children:[m,"g"]})]}),v.jsxs("div",{className:"text-center",children:[v.jsx("p",{className:"text-xs text-[#9AA3B2] mb-1",children:"Fats"}),v.jsxs("p",{className:"text-2xl text-[#E6E9EF]",children:[_,"g"]})]})]})]}),a?v.jsxs(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"rounded-2xl bg-[#121722]/40 backdrop-blur-xl border border-[#2A3242] shadow-lg p-6 space-y-4",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("h3",{className:"text-lg text-[#E6E9EF]",children:"Add New Meal"}),v.jsx("button",{onClick:()=>{c(!1),o("")},className:"text-xs text-[#9AA3B2] hover:text-[#E6E9EF] transition-colors",children:"Cancel"})]}),v.jsx("input",{type:"text",value:r,onChange:I=>o(I.target.value),onKeyDown:I=>I.key==="Enter"&&T(),placeholder:"e.g., Chicken Biryani, Paneer Butter Masala, Idli...",className:"w-full px-4 py-3 rounded-xl bg-[#0B0E14]/50 border border-[#2A3242] text-[#E6E9EF] placeholder-[#9AA3B2]/50 focus:outline-none focus:ring-2 focus:ring-[#22D3EE]/50 focus:border-[#22D3EE]",autoFocus:!0}),v.jsx("button",{onClick:T,disabled:!r.trim(),className:"w-full px-6 py-3 rounded-xl bg-gradient-to-r from-[#22D3EE] to-[#14B8A6] text-[#0B0E14] transition-all hover:shadow-lg hover:shadow-[#22D3EE]/20 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add Meal"})]}):v.jsx("button",{onClick:()=>c(!0),className:"w-full rounded-xl bg-[#121722]/40 backdrop-blur-xl border border-[#2A3242] shadow-lg p-4 hover:border-[#22D3EE]/50 transition-all group",children:v.jsxs("div",{className:"flex items-center justify-center gap-2 text-[#9AA3B2] group-hover:text-[#22D3EE]",children:[v.jsx(V1,{className:"w-5 h-5"}),v.jsx("span",{children:"Add a New Meal"})]})}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("h3",{className:"text-lg text-[#E6E9EF]",children:["Logged Items (",n.length,")"]}),n.length>0?v.jsx("div",{className:"space-y-3",children:n.map((I,O)=>v.jsxs(Oe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:O*.05},className:"rounded-2xl bg-[#121722]/40 backdrop-blur-xl border border-[#2A3242] shadow-lg p-5 space-y-3",children:[v.jsxs("div",{className:"flex items-start justify-between",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx("div",{className:"flex items-center gap-2 mb-1",children:v.jsx("h3",{className:"text-[#E6E9EF]",children:I.item.name})}),v.jsxs("div",{className:"flex items-center gap-2 text-xs text-[#9AA3B2]",children:[v.jsx(FC,{className:"w-3 h-3"}),v.jsx("span",{children:w(I.timestamp)}),v.jsx("span",{children:""}),v.jsx("span",{children:I.item.category})]})]}),v.jsx("button",{onClick:()=>e(O),className:"p-2 rounded-lg hover:bg-red-500/10 text-[#9AA3B2] hover:text-red-400 transition-colors",children:v.jsx(TP,{className:"w-4 h-4"})})]}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx("div",{className:"w-2 h-2 rounded-full bg-[#22D3EE]"}),v.jsxs("span",{className:"text-[#9AA3B2]",children:["P: ",I.item.protein,"g"]})]}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx("div",{className:"w-2 h-2 rounded-full bg-[#14B8A6]"}),v.jsxs("span",{className:"text-[#9AA3B2]",children:["C: ",I.item.carbs,"g"]})]}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx("div",{className:"w-2 h-2 rounded-full bg-gradient-to-r from-[#22D3EE] to-[#14B8A6]"}),v.jsxs("span",{className:"text-[#9AA3B2]",children:["F: ",I.item.fats,"g"]})]})]}),v.jsxs("span",{className:"text-lg text-[#E6E9EF]",children:[I.item.calories," kcal"]})]})]},O))}):v.jsx("div",{className:"rounded-2xl bg-[#121722]/40 backdrop-blur-xl border border-[#2A3242] shadow-lg p-12 text-center",children:v.jsx("p",{className:"text-[#9AA3B2]",children:"No meals logged yet. Start by selecting items from the menu or suggestions."})})]})]})}function UE(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function JM(...n){return e=>{let t=!1;const r=n.map(o=>{const a=UE(o,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let o=0;o<r.length;o++){const a=r[o];typeof a=="function"?a():UE(n[o],null)}}}}var ZM=Symbol.for("react.lazy"),Rh=LA[" use ".trim().toString()];function ej(n){return typeof n=="object"&&n!==null&&"then"in n}function sT(n){return n!=null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===ZM&&"_payload"in n&&ej(n._payload)}function iT(n){const e=nj(n),t=X.forwardRef((r,o)=>{let{children:a,...c}=r;sT(a)&&typeof Rh=="function"&&(a=Rh(a._payload));const d=X.Children.toArray(a),f=d.find(sj);if(f){const m=f.props.children,_=d.map(w=>w===f?X.Children.count(m)>1?X.Children.only(null):X.isValidElement(m)?m.props.children:null:w);return v.jsx(e,{...c,ref:o,children:X.isValidElement(m)?X.cloneElement(m,void 0,_):null})}return v.jsx(e,{...c,ref:o,children:a})});return t.displayName=`${n}.Slot`,t}var tj=iT("Slot");function nj(n){const e=X.forwardRef((t,r)=>{let{children:o,...a}=t;if(sT(o)&&typeof Rh=="function"&&(o=Rh(o._payload)),X.isValidElement(o)){const c=oj(o),d=ij(a,o.props);return o.type!==X.Fragment&&(d.ref=r?JM(r,c):c),X.cloneElement(o,d)}return X.Children.count(o)>1?X.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var rj=Symbol("radix.slottable");function sj(n){return X.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===rj}function ij(n,e){const t={...e};for(const r in e){const o=n[r],a=e[r];/^on[A-Z]/.test(r)?o&&a?t[r]=(...d)=>{const f=a(...d);return o(...d),f}:o&&(t[r]=o):r==="style"?t[r]={...o,...a}:r==="className"&&(t[r]=[o,a].filter(Boolean).join(" "))}return{...n,...t}}function oj(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function oT(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=oT(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function aT(){for(var n,e,t=0,r="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=oT(n))&&(r&&(r+=" "),r+=e);return r}const zE=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,$E=aT,aj=(n,e)=>t=>{var r;if(e?.variants==null)return $E(n,t?.class,t?.className);const{variants:o,defaultVariants:a}=e,c=Object.keys(o).map(m=>{const _=t?.[m],w=a?.[m];if(_===null)return null;const T=zE(_)||zE(w);return o[m][T]}),d=t&&Object.entries(t).reduce((m,_)=>{let[w,T]=_;return T===void 0||(m[w]=T),m},{}),f=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((m,_)=>{let{class:w,className:T,...I}=_;return Object.entries(I).every(O=>{let[B,L]=O;return Array.isArray(L)?L.includes({...a,...d}[B]):{...a,...d}[B]===L})?[...m,w,T]:m},[]);return $E(n,c,f,t?.class,t?.className)},lj=(n,e)=>{const t=new Array(n.length+e.length);for(let r=0;r<n.length;r++)t[r]=n[r];for(let r=0;r<e.length;r++)t[n.length+r]=e[r];return t},cj=(n,e)=>({classGroupId:n,validator:e}),lT=(n=new Map,e=null,t)=>({nextPart:n,validators:e,classGroupId:t}),Nh="-",WE=[],uj="arbitrary..",hj=n=>{const e=fj(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return dj(c);const d=c.split(Nh),f=d[0]===""&&d.length>1?1:0;return cT(d,f,e)},getConflictingClassGroupIds:(c,d)=>{if(d){const f=r[c],m=t[c];return f?m?lj(m,f):f:m||WE}return t[c]||WE}}},cT=(n,e,t)=>{if(n.length-e===0)return t.classGroupId;const o=n[e],a=t.nextPart.get(o);if(a){const m=cT(n,e+1,a);if(m)return m}const c=t.validators;if(c===null)return;const d=e===0?n.join(Nh):n.slice(e).join(Nh),f=c.length;for(let m=0;m<f;m++){const _=c[m];if(_.validator(d))return _.classGroupId}},dj=n=>n.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=n.slice(1,-1),t=e.indexOf(":"),r=e.slice(0,t);return r?uj+r:void 0})(),fj=n=>{const{theme:e,classGroups:t}=n;return pj(t,e)},pj=(n,e)=>{const t=lT();for(const r in n){const o=n[r];Rg(o,t,r,e)}return t},Rg=(n,e,t,r)=>{const o=n.length;for(let a=0;a<o;a++){const c=n[a];mj(c,e,t,r)}},mj=(n,e,t,r)=>{if(typeof n=="string"){gj(n,e,t);return}if(typeof n=="function"){yj(n,e,t,r);return}vj(n,e,t,r)},gj=(n,e,t)=>{const r=n===""?e:uT(e,n);r.classGroupId=t},yj=(n,e,t,r)=>{if(_j(n)){Rg(n(r),e,t,r);return}e.validators===null&&(e.validators=[]),e.validators.push(cj(t,n))},vj=(n,e,t,r)=>{const o=Object.entries(n),a=o.length;for(let c=0;c<a;c++){const[d,f]=o[c];Rg(f,uT(e,d),t,r)}},uT=(n,e)=>{let t=n;const r=e.split(Nh),o=r.length;for(let a=0;a<o;a++){const c=r[a];let d=t.nextPart.get(c);d||(d=lT(),t.nextPart.set(c,d)),t=d}return t},_j=n=>"isThemeGetter"in n&&n.isThemeGetter===!0,Ej=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=Object.create(null),r=Object.create(null);const o=(a,c)=>{t[a]=c,e++,e>n&&(e=0,r=t,t=Object.create(null))};return{get(a){let c=t[a];if(c!==void 0)return c;if((c=r[a])!==void 0)return o(a,c),c},set(a,c){a in t?t[a]=c:o(a,c)}}},rm="!",HE=":",wj=[],qE=(n,e,t,r,o)=>({modifiers:n,hasImportantModifier:e,baseClassName:t,maybePostfixModifierPosition:r,isExternal:o}),xj=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=o=>{const a=[];let c=0,d=0,f=0,m;const _=o.length;for(let B=0;B<_;B++){const L=o[B];if(c===0&&d===0){if(L===HE){a.push(o.slice(f,B)),f=B+1;continue}if(L==="/"){m=B;continue}}L==="["?c++:L==="]"?c--:L==="("?d++:L===")"&&d--}const w=a.length===0?o:o.slice(f);let T=w,I=!1;w.endsWith(rm)?(T=w.slice(0,-1),I=!0):w.startsWith(rm)&&(T=w.slice(1),I=!0);const O=m&&m>f?m-f:void 0;return qE(a,I,T,O)};if(e){const o=e+HE,a=r;r=c=>c.startsWith(o)?a(c.slice(o.length)):qE(wj,!1,c,void 0,!0)}if(t){const o=r;r=a=>t({className:a,parseClassName:o})}return r},Tj=n=>{const e=new Map;return n.orderSensitiveModifiers.forEach((t,r)=>{e.set(t,1e6+r)}),t=>{const r=[];let o=[];for(let a=0;a<t.length;a++){const c=t[a],d=c[0]==="[",f=e.has(c);d||f?(o.length>0&&(o.sort(),r.push(...o),o=[]),r.push(c)):o.push(c)}return o.length>0&&(o.sort(),r.push(...o)),r}},Aj=n=>({cache:Ej(n.cacheSize),parseClassName:xj(n),sortModifiers:Tj(n),...hj(n)}),Sj=/\s+/,Ij=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:o,sortModifiers:a}=e,c=[],d=n.trim().split(Sj);let f="";for(let m=d.length-1;m>=0;m-=1){const _=d[m],{isExternal:w,modifiers:T,hasImportantModifier:I,baseClassName:O,maybePostfixModifierPosition:B}=t(_);if(w){f=_+(f.length>0?" "+f:f);continue}let L=!!B,K=r(L?O.substring(0,B):O);if(!K){if(!L){f=_+(f.length>0?" "+f:f);continue}if(K=r(O),!K){f=_+(f.length>0?" "+f:f);continue}L=!1}const Q=T.length===0?"":T.length===1?T[0]:a(T).join(":"),Y=I?Q+rm:Q,ue=Y+K;if(c.indexOf(ue)>-1)continue;c.push(ue);const ae=o(K,L);for(let ie=0;ie<ae.length;++ie){const P=ae[ie];c.push(Y+P)}f=_+(f.length>0?" "+f:f)}return f},bj=(...n)=>{let e=0,t,r,o="";for(;e<n.length;)(t=n[e++])&&(r=hT(t))&&(o&&(o+=" "),o+=r);return o},hT=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=hT(n[r]))&&(t&&(t+=" "),t+=e);return t},kj=(n,...e)=>{let t,r,o,a;const c=f=>{const m=e.reduce((_,w)=>w(_),n());return t=Aj(m),r=t.cache.get,o=t.cache.set,a=d,d(f)},d=f=>{const m=r(f);if(m)return m;const _=Ij(f,t);return o(f,_),_};return a=c,(...f)=>a(bj(...f))},Cj=[],Vt=n=>{const e=t=>t[n]||Cj;return e.isThemeGetter=!0,e},dT=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,fT=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Pj=/^\d+\/\d+$/,Rj=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Nj=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Dj=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Vj=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Mj=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qo=n=>Pj.test(n),Fe=n=>!!n&&!Number.isNaN(Number(n)),Xs=n=>!!n&&Number.isInteger(Number(n)),lp=n=>n.endsWith("%")&&Fe(n.slice(0,-1)),hs=n=>Rj.test(n),jj=()=>!0,Oj=n=>Nj.test(n)&&!Dj.test(n),pT=()=>!1,Lj=n=>Vj.test(n),Fj=n=>Mj.test(n),Bj=n=>!ye(n)&&!ve(n),Uj=n=>Da(n,yT,pT),ye=n=>dT.test(n),qi=n=>Da(n,vT,Oj),cp=n=>Da(n,qj,Fe),GE=n=>Da(n,mT,pT),zj=n=>Da(n,gT,Fj),Uu=n=>Da(n,_T,Lj),ve=n=>fT.test(n),Sl=n=>Va(n,vT),$j=n=>Va(n,Gj),KE=n=>Va(n,mT),Wj=n=>Va(n,yT),Hj=n=>Va(n,gT),zu=n=>Va(n,_T,!0),Da=(n,e,t)=>{const r=dT.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},Va=(n,e,t=!1)=>{const r=fT.exec(n);return r?r[1]?e(r[1]):t:!1},mT=n=>n==="position"||n==="percentage",gT=n=>n==="image"||n==="url",yT=n=>n==="length"||n==="size"||n==="bg-size",vT=n=>n==="length",qj=n=>n==="number",Gj=n=>n==="family-name",_T=n=>n==="shadow",Kj=()=>{const n=Vt("color"),e=Vt("font"),t=Vt("text"),r=Vt("font-weight"),o=Vt("tracking"),a=Vt("leading"),c=Vt("breakpoint"),d=Vt("container"),f=Vt("spacing"),m=Vt("radius"),_=Vt("shadow"),w=Vt("inset-shadow"),T=Vt("text-shadow"),I=Vt("drop-shadow"),O=Vt("blur"),B=Vt("perspective"),L=Vt("aspect"),K=Vt("ease"),Q=Vt("animate"),Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ue=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],ae=()=>[...ue(),ve,ye],ie=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto","contain","none"],A=()=>[ve,ye,f],b=()=>[Qo,"full","auto",...A()],D=()=>[Xs,"none","subgrid",ve,ye],R=()=>["auto",{span:["full",Xs,ve,ye]},Xs,ve,ye],F=()=>[Xs,"auto",ve,ye],C=()=>["auto","min","max","fr",ve,ye],Le=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ge=()=>["start","end","center","stretch","center-safe","end-safe"],Ye=()=>["auto",...A()],Te=()=>[Qo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],j=()=>[n,ve,ye],J=()=>[...ue(),KE,GE,{position:[ve,ye]}],U=()=>["no-repeat",{repeat:["","x","y","space","round"]}],N=()=>["auto","cover","contain",Wj,Uj,{size:[ve,ye]}],H=()=>[lp,Sl,qi],le=()=>["","none","full",m,ve,ye],re=()=>["",Fe,Sl,qi],de=()=>["solid","dashed","dotted","double"],we=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],he=()=>[Fe,lp,KE,GE],Me=()=>["","none",O,ve,ye],Ue=()=>["none",Fe,ve,ye],st=()=>["none",Fe,ve,ye],Je=()=>[Fe,ve,ye],an=()=>[Qo,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[hs],breakpoint:[hs],color:[jj],container:[hs],"drop-shadow":[hs],ease:["in","out","in-out"],font:[Bj],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[hs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[hs],shadow:[hs],spacing:["px",Fe],text:[hs],"text-shadow":[hs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Qo,ye,ve,L]}],container:["container"],columns:[{columns:[Fe,ye,ve,d]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:ae()}],overflow:[{overflow:ie()}],"overflow-x":[{"overflow-x":ie()}],"overflow-y":[{"overflow-y":ie()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:b()}],"inset-x":[{"inset-x":b()}],"inset-y":[{"inset-y":b()}],start:[{start:b()}],end:[{end:b()}],top:[{top:b()}],right:[{right:b()}],bottom:[{bottom:b()}],left:[{left:b()}],visibility:["visible","invisible","collapse"],z:[{z:[Xs,"auto",ve,ye]}],basis:[{basis:[Qo,"full","auto",d,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Fe,Qo,"auto","initial","none",ye]}],grow:[{grow:["",Fe,ve,ye]}],shrink:[{shrink:["",Fe,ve,ye]}],order:[{order:[Xs,"first","last","none",ve,ye]}],"grid-cols":[{"grid-cols":D()}],"col-start-end":[{col:R()}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":D()}],"row-start-end":[{row:R()}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":C()}],"auto-rows":[{"auto-rows":C()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...Le(),"normal"]}],"justify-items":[{"justify-items":[...Ge(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ge()]}],"align-content":[{content:["normal",...Le()]}],"align-items":[{items:[...Ge(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ge(),{baseline:["","last"]}]}],"place-content":[{"place-content":Le()}],"place-items":[{"place-items":[...Ge(),"baseline"]}],"place-self":[{"place-self":["auto",...Ge()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:Ye()}],mx:[{mx:Ye()}],my:[{my:Ye()}],ms:[{ms:Ye()}],me:[{me:Ye()}],mt:[{mt:Ye()}],mr:[{mr:Ye()}],mb:[{mb:Ye()}],ml:[{ml:Ye()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:Te()}],w:[{w:[d,"screen",...Te()]}],"min-w":[{"min-w":[d,"screen","none",...Te()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[c]},...Te()]}],h:[{h:["screen","lh",...Te()]}],"min-h":[{"min-h":["screen","lh","none",...Te()]}],"max-h":[{"max-h":["screen","lh",...Te()]}],"font-size":[{text:["base",t,Sl,qi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ve,cp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",lp,ye]}],"font-family":[{font:[$j,ye,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,ve,ye]}],"line-clamp":[{"line-clamp":[Fe,"none",ve,cp]}],leading:[{leading:[a,...A()]}],"list-image":[{"list-image":["none",ve,ye]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ve,ye]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:j()}],"text-color":[{text:j()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...de(),"wavy"]}],"text-decoration-thickness":[{decoration:[Fe,"from-font","auto",ve,qi]}],"text-decoration-color":[{decoration:j()}],"underline-offset":[{"underline-offset":[Fe,"auto",ve,ye]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ve,ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ve,ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:J()}],"bg-repeat":[{bg:U()}],"bg-size":[{bg:N()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Xs,ve,ye],radial:["",ve,ye],conic:[Xs,ve,ye]},Hj,zj]}],"bg-color":[{bg:j()}],"gradient-from-pos":[{from:H()}],"gradient-via-pos":[{via:H()}],"gradient-to-pos":[{to:H()}],"gradient-from":[{from:j()}],"gradient-via":[{via:j()}],"gradient-to":[{to:j()}],rounded:[{rounded:le()}],"rounded-s":[{"rounded-s":le()}],"rounded-e":[{"rounded-e":le()}],"rounded-t":[{"rounded-t":le()}],"rounded-r":[{"rounded-r":le()}],"rounded-b":[{"rounded-b":le()}],"rounded-l":[{"rounded-l":le()}],"rounded-ss":[{"rounded-ss":le()}],"rounded-se":[{"rounded-se":le()}],"rounded-ee":[{"rounded-ee":le()}],"rounded-es":[{"rounded-es":le()}],"rounded-tl":[{"rounded-tl":le()}],"rounded-tr":[{"rounded-tr":le()}],"rounded-br":[{"rounded-br":le()}],"rounded-bl":[{"rounded-bl":le()}],"border-w":[{border:re()}],"border-w-x":[{"border-x":re()}],"border-w-y":[{"border-y":re()}],"border-w-s":[{"border-s":re()}],"border-w-e":[{"border-e":re()}],"border-w-t":[{"border-t":re()}],"border-w-r":[{"border-r":re()}],"border-w-b":[{"border-b":re()}],"border-w-l":[{"border-l":re()}],"divide-x":[{"divide-x":re()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":re()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...de(),"hidden","none"]}],"divide-style":[{divide:[...de(),"hidden","none"]}],"border-color":[{border:j()}],"border-color-x":[{"border-x":j()}],"border-color-y":[{"border-y":j()}],"border-color-s":[{"border-s":j()}],"border-color-e":[{"border-e":j()}],"border-color-t":[{"border-t":j()}],"border-color-r":[{"border-r":j()}],"border-color-b":[{"border-b":j()}],"border-color-l":[{"border-l":j()}],"divide-color":[{divide:j()}],"outline-style":[{outline:[...de(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Fe,ve,ye]}],"outline-w":[{outline:["",Fe,Sl,qi]}],"outline-color":[{outline:j()}],shadow:[{shadow:["","none",_,zu,Uu]}],"shadow-color":[{shadow:j()}],"inset-shadow":[{"inset-shadow":["none",w,zu,Uu]}],"inset-shadow-color":[{"inset-shadow":j()}],"ring-w":[{ring:re()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:j()}],"ring-offset-w":[{"ring-offset":[Fe,qi]}],"ring-offset-color":[{"ring-offset":j()}],"inset-ring-w":[{"inset-ring":re()}],"inset-ring-color":[{"inset-ring":j()}],"text-shadow":[{"text-shadow":["none",T,zu,Uu]}],"text-shadow-color":[{"text-shadow":j()}],opacity:[{opacity:[Fe,ve,ye]}],"mix-blend":[{"mix-blend":[...we(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":we()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Fe]}],"mask-image-linear-from-pos":[{"mask-linear-from":he()}],"mask-image-linear-to-pos":[{"mask-linear-to":he()}],"mask-image-linear-from-color":[{"mask-linear-from":j()}],"mask-image-linear-to-color":[{"mask-linear-to":j()}],"mask-image-t-from-pos":[{"mask-t-from":he()}],"mask-image-t-to-pos":[{"mask-t-to":he()}],"mask-image-t-from-color":[{"mask-t-from":j()}],"mask-image-t-to-color":[{"mask-t-to":j()}],"mask-image-r-from-pos":[{"mask-r-from":he()}],"mask-image-r-to-pos":[{"mask-r-to":he()}],"mask-image-r-from-color":[{"mask-r-from":j()}],"mask-image-r-to-color":[{"mask-r-to":j()}],"mask-image-b-from-pos":[{"mask-b-from":he()}],"mask-image-b-to-pos":[{"mask-b-to":he()}],"mask-image-b-from-color":[{"mask-b-from":j()}],"mask-image-b-to-color":[{"mask-b-to":j()}],"mask-image-l-from-pos":[{"mask-l-from":he()}],"mask-image-l-to-pos":[{"mask-l-to":he()}],"mask-image-l-from-color":[{"mask-l-from":j()}],"mask-image-l-to-color":[{"mask-l-to":j()}],"mask-image-x-from-pos":[{"mask-x-from":he()}],"mask-image-x-to-pos":[{"mask-x-to":he()}],"mask-image-x-from-color":[{"mask-x-from":j()}],"mask-image-x-to-color":[{"mask-x-to":j()}],"mask-image-y-from-pos":[{"mask-y-from":he()}],"mask-image-y-to-pos":[{"mask-y-to":he()}],"mask-image-y-from-color":[{"mask-y-from":j()}],"mask-image-y-to-color":[{"mask-y-to":j()}],"mask-image-radial":[{"mask-radial":[ve,ye]}],"mask-image-radial-from-pos":[{"mask-radial-from":he()}],"mask-image-radial-to-pos":[{"mask-radial-to":he()}],"mask-image-radial-from-color":[{"mask-radial-from":j()}],"mask-image-radial-to-color":[{"mask-radial-to":j()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":ue()}],"mask-image-conic-pos":[{"mask-conic":[Fe]}],"mask-image-conic-from-pos":[{"mask-conic-from":he()}],"mask-image-conic-to-pos":[{"mask-conic-to":he()}],"mask-image-conic-from-color":[{"mask-conic-from":j()}],"mask-image-conic-to-color":[{"mask-conic-to":j()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:J()}],"mask-repeat":[{mask:U()}],"mask-size":[{mask:N()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ve,ye]}],filter:[{filter:["","none",ve,ye]}],blur:[{blur:Me()}],brightness:[{brightness:[Fe,ve,ye]}],contrast:[{contrast:[Fe,ve,ye]}],"drop-shadow":[{"drop-shadow":["","none",I,zu,Uu]}],"drop-shadow-color":[{"drop-shadow":j()}],grayscale:[{grayscale:["",Fe,ve,ye]}],"hue-rotate":[{"hue-rotate":[Fe,ve,ye]}],invert:[{invert:["",Fe,ve,ye]}],saturate:[{saturate:[Fe,ve,ye]}],sepia:[{sepia:["",Fe,ve,ye]}],"backdrop-filter":[{"backdrop-filter":["","none",ve,ye]}],"backdrop-blur":[{"backdrop-blur":Me()}],"backdrop-brightness":[{"backdrop-brightness":[Fe,ve,ye]}],"backdrop-contrast":[{"backdrop-contrast":[Fe,ve,ye]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Fe,ve,ye]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Fe,ve,ye]}],"backdrop-invert":[{"backdrop-invert":["",Fe,ve,ye]}],"backdrop-opacity":[{"backdrop-opacity":[Fe,ve,ye]}],"backdrop-saturate":[{"backdrop-saturate":[Fe,ve,ye]}],"backdrop-sepia":[{"backdrop-sepia":["",Fe,ve,ye]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ve,ye]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Fe,"initial",ve,ye]}],ease:[{ease:["linear","initial",K,ve,ye]}],delay:[{delay:[Fe,ve,ye]}],animate:[{animate:["none",Q,ve,ye]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[B,ve,ye]}],"perspective-origin":[{"perspective-origin":ae()}],rotate:[{rotate:Ue()}],"rotate-x":[{"rotate-x":Ue()}],"rotate-y":[{"rotate-y":Ue()}],"rotate-z":[{"rotate-z":Ue()}],scale:[{scale:st()}],"scale-x":[{"scale-x":st()}],"scale-y":[{"scale-y":st()}],"scale-z":[{"scale-z":st()}],"scale-3d":["scale-3d"],skew:[{skew:Je()}],"skew-x":[{"skew-x":Je()}],"skew-y":[{"skew-y":Je()}],transform:[{transform:[ve,ye,"","none","gpu","cpu"]}],"transform-origin":[{origin:ae()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:an()}],"translate-x":[{"translate-x":an()}],"translate-y":[{"translate-y":an()}],"translate-z":[{"translate-z":an()}],"translate-none":["translate-none"],accent:[{accent:j()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:j()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ve,ye]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ve,ye]}],fill:[{fill:["none",...j()]}],"stroke-w":[{stroke:[Fe,Sl,qi,cp]}],stroke:[{stroke:["none",...j()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Qj=kj(Kj);function Ng(...n){return Qj(aT(n))}const Yj=aj("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function QE({className:n,variant:e,size:t,asChild:r=!1,...o}){const a=r?tj:"button";return v.jsx(a,{"data-slot":"button",className:Ng(Yj({variant:e,size:t,className:n})),...o})}function up({className:n,type:e,...t}){return v.jsx("input",{type:e,"data-slot":"input",className:Ng("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...t})}XE();var Xj=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Jj=Xj.reduce((n,e)=>{const t=iT(`Primitive.${e}`),r=X.forwardRef((o,a)=>{const{asChild:c,...d}=o,f=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(f,{...d,ref:a})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{}),Zj="Separator",YE="horizontal",eO=["horizontal","vertical"],ET=X.forwardRef((n,e)=>{const{decorative:t,orientation:r=YE,...o}=n,a=tO(r)?r:YE,d=t?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return v.jsx(Jj.div,{"data-orientation":a,...d,...o,ref:e})});ET.displayName=Zj;function tO(n){return eO.includes(n)}var nO=ET;function rO({className:n,orientation:e="horizontal",decorative:t=!0,...r}){return v.jsx(nO,{"data-slot":"separator-root",decorative:t,orientation:e,className:Ng("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",n),...r})}function sO({onComplete:n}){const{signInWithGoogle:e}=Pg(),t=async()=>{try{await e()}catch(o){console.error("Failed to sign in",o)}},r=o=>{o.preventDefault(),console.log("Email signup initiated"),n&&n()};return v.jsx("div",{className:"min-h-screen bg-[#0B0E14] flex items-center justify-center px-4 py-12",children:v.jsxs(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:[v.jsxs(Oe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-center mb-8",children:[v.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br from-[#22D3EE] to-[#14B8A6] mb-4",children:v.jsx(N1,{className:"w-8 h-8 text-[#0B0E14]"})}),v.jsx("h1",{className:"text-[#E6E9EF] mb-2",children:"Welcome to NutriPlan"}),v.jsx("p",{className:"text-[#9AA3B2]",children:"Your personalized nutrition companion"})]}),v.jsxs(Oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.2},className:"p-8 rounded-2xl bg-[#121722]/60 backdrop-blur-xl border border-[#2A3242] shadow-2xl",children:[v.jsxs(QE,{onClick:t,className:"w-full h-12 bg-white hover:bg-gray-50 text-[#1f1f1f] border-0 rounded-xl transition-all duration-200 hover:scale-[1.02] active:scale-[0.98] mb-4",children:[v.jsx(RC,{className:"w-5 h-5 mr-2"}),"Continue with Google"]}),v.jsxs("div",{className:"relative my-6",children:[v.jsx(rO,{className:"bg-[#2A3242]"}),v.jsx("span",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 px-3 bg-[#121722] text-[#9AA3B2] text-sm",children:"or"})]}),v.jsxs("form",{onSubmit:r,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"name",className:"block text-[#E6E9EF] mb-2",children:"Full Name"}),v.jsx(up,{id:"name",type:"text",placeholder:"Enter your full name",className:"h-11 bg-[#0B0E14]/50 border-[#2A3242] text-[#E6E9EF] placeholder:text-[#9AA3B2]/50 rounded-xl focus:border-[#22D3EE] focus:ring-[#22D3EE]/20",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"email",className:"block text-[#E6E9EF] mb-2",children:"Email Address"}),v.jsx(up,{id:"email",type:"email",placeholder:"your.email@example.com",className:"h-11 bg-[#0B0E14]/50 border-[#2A3242] text-[#E6E9EF] placeholder:text-[#9AA3B2]/50 rounded-xl focus:border-[#22D3EE] focus:ring-[#22D3EE]/20",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"password",className:"block text-[#E6E9EF] mb-2",children:"Password"}),v.jsx(up,{id:"password",type:"password",placeholder:"Create a secure password",className:"h-11 bg-[#0B0E14]/50 border-[#2A3242] text-[#E6E9EF] placeholder:text-[#9AA3B2]/50 rounded-xl focus:border-[#22D3EE] focus:ring-[#22D3EE]/20",required:!0})]}),v.jsxs(QE,{type:"submit",className:"w-full h-12 bg-gradient-to-r from-[#22D3EE] to-[#14B8A6] hover:from-[#22D3EE]/90 hover:to-[#14B8A6]/90 text-[#0B0E14] border-0 rounded-xl transition-all duration-200 hover:scale-[1.02] active:scale-[0.98] mt-6",children:[v.jsx(rP,{className:"w-5 h-5 mr-2"}),"Sign Up with Email"]})]}),v.jsxs("p",{className:"text-[#9AA3B2] text-center text-sm mt-6",children:["By continuing, you agree to our"," ",v.jsx("button",{className:"text-[#22D3EE] hover:underline",children:"Terms of Service"})," ","and"," ",v.jsx("button",{className:"text-[#22D3EE] hover:underline",children:"Privacy Policy"})]})]}),v.jsx(Oe.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"text-center mt-6",children:v.jsxs("p",{className:"text-[#9AA3B2]",children:["Already have an account?"," ",v.jsx("button",{className:"text-[#22D3EE] hover:underline",children:"Sign In"})]})})]})})}function iO(){const[n,e]=X.useState(""),[t,r]=X.useState(!1),[o,a]=X.useState("idle"),[c,d]=X.useState("idle");X.useEffect(()=>{const w=localStorage.getItem("openai_api_key");w&&e(w)},[]);const f=()=>{a("saving");try{n.trim()?localStorage.setItem("openai_api_key",n.trim()):localStorage.removeItem("openai_api_key"),a("saved"),setTimeout(()=>a("idle"),2e3)}catch{a("error"),setTimeout(()=>a("idle"),2e3)}},m=async()=>{if(!n.trim()){d("error"),setTimeout(()=>d("idle"),2e3);return}d("testing");try{(await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n.trim()}`},body:JSON.stringify({model:"gpt-3.5-turbo",messages:[{role:"user",content:"Say 'test' if you can read this."}],max_tokens:10})})).ok?(d("success"),setTimeout(()=>d("idle"),3e3)):(d("error"),setTimeout(()=>d("idle"),3e3))}catch{d("error"),setTimeout(()=>d("idle"),3e3)}},_=()=>{e(""),localStorage.removeItem("openai_api_key"),a("idle"),d("idle")};return v.jsxs(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-3xl mx-auto space-y-6",children:[v.jsxs("div",{className:"text-center space-y-2 mb-8",children:[v.jsxs("div",{className:"flex items-center justify-center gap-2",children:[v.jsx(M1,{className:"w-8 h-8 text-[#22D3EE]"}),v.jsx("h1",{className:"text-3xl text-[#E6E9EF]",children:"Settings"})]}),v.jsx("p",{className:"text-[#9AA3B2]",children:"Configure your Gemini API key for enhanced menu parsing"})]}),v.jsx("div",{className:"rounded-2xl bg-gradient-to-br from-[#22D3EE]/10 to-[#14B8A6]/10 border border-[#22D3EE]/30 shadow-2xl p-6",children:v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx(u_,{className:"w-5 h-5 text-[#22D3EE] flex-shrink-0 mt-0.5"}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("h3",{className:"text-[#E6E9EF]",children:"About BYOK (Bring Your Own Key)"}),v.jsx("p",{className:"text-sm text-[#9AA3B2] leading-relaxed",children:"NutriPlan can use OpenAI's API to provide more accurate menu parsing and nutritional analysis. Your API key is stored locally in your browser and never sent to our servers."}),v.jsxs("a",{href:"https://platform.openai.com/api-keys",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-sm text-[#22D3EE] hover:text-[#14B8A6] transition-colors",children:["Get your free OpenAI API key",v.jsx($C,{className:"w-3.5 h-3.5"})]})]})]})}),v.jsxs("div",{className:"rounded-2xl bg-[#121722]/40 backdrop-blur-xl border border-[#2A3242] shadow-lg p-6 space-y-6",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx(YC,{className:"w-5 h-5 text-[#14B8A6]"}),v.jsx("h3",{className:"text-lg text-[#E6E9EF]",children:"OpenAI API Key"})]}),v.jsxs("div",{className:"space-y-3",children:[v.jsx("label",{className:"block text-sm text-[#9AA3B2]",children:"API Key"}),v.jsxs("div",{className:"relative",children:[v.jsx("input",{type:t?"text":"password",value:n,onChange:w=>e(w.target.value),placeholder:"AIza...",className:"w-full px-4 py-3 pr-12 rounded-xl bg-[#0B0E14]/50 border border-[#2A3242] text-[#E6E9EF] placeholder-[#9AA3B2]/50 focus:outline-none focus:ring-2 focus:ring-[#22D3EE]/50 focus:border-[#22D3EE] font-mono text-sm"}),v.jsx("button",{onClick:()=>r(!t),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#9AA3B2] hover:text-[#E6E9EF] transition-colors",children:t?v.jsx(HC,{className:"w-4 h-4"}):v.jsx(GC,{className:"w-4 h-4"})})]}),v.jsx("p",{className:"text-xs text-[#9AA3B2]",children:"Your API key is stored securely in your browser's local storage"})]}),v.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[v.jsx("button",{onClick:f,disabled:o==="saving",className:"flex-1 px-6 py-3 rounded-xl bg-gradient-to-r from-[#22D3EE] to-[#14B8A6] text-[#0B0E14] transition-all hover:shadow-lg hover:shadow-[#22D3EE]/20 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:o==="saving"?v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"w-4 h-4 border-2 border-[#0B0E14]/30 border-t-[#0B0E14] rounded-full animate-spin"}),v.jsx("span",{children:"Saving..."})]}):o==="saved"?v.jsxs(v.Fragment,{children:[v.jsx(Ki,{className:"w-4 h-4"}),v.jsx("span",{children:"Saved!"})]}):v.jsxs(v.Fragment,{children:[v.jsx(uP,{className:"w-4 h-4"}),v.jsx("span",{children:"Save API Key"})]})}),v.jsx("button",{onClick:m,disabled:!n.trim()||c==="testing",className:"flex-1 px-6 py-3 rounded-xl bg-[#2A3242] text-[#E6E9EF] transition-all hover:bg-[#2A3242]/70 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:c==="testing"?v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"w-4 h-4 border-2 border-[#E6E9EF]/30 border-t-[#E6E9EF] rounded-full animate-spin"}),v.jsx("span",{children:"Testing..."})]}):c==="success"?v.jsxs(v.Fragment,{children:[v.jsx(Ki,{className:"w-4 h-4 text-[#14B8A6]"}),v.jsx("span",{className:"text-[#14B8A6]",children:"Valid!"})]}):c==="error"?v.jsxs(v.Fragment,{children:[v.jsx(u_,{className:"w-4 h-4 text-red-400"}),v.jsx("span",{className:"text-red-400",children:"Invalid"})]}):v.jsx("span",{children:"Test Connection"})}),n&&v.jsx("button",{onClick:_,className:"px-6 py-3 rounded-xl bg-[#2A3242]/50 text-[#9AA3B2] hover:text-[#E6E9EF] hover:bg-[#2A3242] transition-all",children:"Clear"})]})]}),v.jsxs("div",{className:"rounded-2xl bg-[#121722]/40 backdrop-blur-xl border border-[#2A3242] shadow-lg p-6",children:[v.jsx("h3",{className:"text-[#E6E9EF] mb-4",children:"Enhanced Features with Gemini API"}),v.jsxs("ul",{className:"space-y-3",children:[v.jsxs("li",{className:"flex items-start gap-3 text-sm text-[#9AA3B2]",children:[v.jsx(Ki,{className:"w-4 h-4 text-[#14B8A6] flex-shrink-0 mt-0.5"}),v.jsx("span",{children:"More accurate nutritional estimation from menu text"})]}),v.jsxs("li",{className:"flex items-start gap-3 text-sm text-[#9AA3B2]",children:[v.jsx(Ki,{className:"w-4 h-4 text-[#14B8A6] flex-shrink-0 mt-0.5"}),v.jsx("span",{children:"Better food item recognition and categorization"})]}),v.jsxs("li",{className:"flex items-start gap-3 text-sm text-[#9AA3B2]",children:[v.jsx(Ki,{className:"w-4 h-4 text-[#14B8A6] flex-shrink-0 mt-0.5"}),v.jsx("span",{children:"Understanding of regional and cultural food variations"})]}),v.jsxs("li",{className:"flex items-start gap-3 text-sm text-[#9AA3B2]",children:[v.jsx(Ki,{className:"w-4 h-4 text-[#14B8A6] flex-shrink-0 mt-0.5"}),v.jsx("span",{children:"Intelligent portion size estimation"})]})]})]}),v.jsx("div",{className:"rounded-xl bg-[#121722]/40 backdrop-blur-xl border border-[#2A3242] p-4",children:v.jsx("p",{className:"text-xs text-[#9AA3B2] text-center",children:" Your API key is stored locally on your device and is never shared with third parties. Menu data is sent directly to Google's Gemini API only when you use the parsing feature."})})]})}function oO(){const{user:n,loading:e,logout:t}=Pg(),[r,o]=X.useState("signup"),[a,c]=X.useState(null),[d,f]=X.useState(null),[m,_]=X.useState([]),[w,T]=X.useState([]),[I,O]=X.useState(!1);X.useEffect(()=>{console.log("[APP] Auth state changed:",{user:n?.email,authLoading:e}),!e&&(n?(async()=>{O(!0);const J=performance.now();try{console.log("[APP] Loading user data for:",n.uid);const U=Fu(Bu,"users",n.uid),N=performance.now(),H=new Promise((de,we)=>setTimeout(()=>we(new Error("Firestore timeout after 5s")),5e3)),le=await Promise.race([MM(U),H]).catch(de=>(console.error("[APP] Firestore fetch failed:",de),null)),re=performance.now();if(console.log(`[APP] Firestore fetch took ${(re-N).toFixed(0)}ms`),le&&le.exists()){const de=le.data();if(console.log("[APP] User document exists:",de),de.profile){if(c(de.profile),de.targets)f(de.targets);else{const we=Q(de.profile);we&&f(we)}o("targets")}else console.log("[APP] No profile found, going to onboarding"),o("onboarding");de.logs&&T(de.logs)}else console.log("[APP] New user or Firestore timeout, going to onboarding"),o("onboarding")}catch(U){console.error("[APP] Error loading user data:",U),o("onboarding")}finally{const U=performance.now();console.log(`[APP] Total data loading took ${(U-J).toFixed(0)}ms`),O(!1)}})():(console.log("[APP] No user, showing signup"),o("signup"),c(null),f(null),T([])))},[n,e]);const B=async j=>{if(n)try{const J=Q(j),U=Fu(Bu,"users",n.uid);await OM(U,{profile:j,targets:J},{merge:!0})}catch(J){console.error("Error saving profile:",J)}},L=async j=>{if(n)try{const J=Fu(Bu,"users",n.uid);await LE(J,{logs:FM(j)})}catch(J){console.error("Error saving log:",J)}},K=async j=>{if(n)try{const J=Fu(Bu,"users",n.uid);await LE(J,{logs:BM(j)})}catch(J){console.error("Error removing log:",J)}},Q=j=>{const J=parseInt(j.age),U=parseInt(j.height),N=parseInt(j.weight);if(isNaN(J)||isNaN(U)||isNaN(N)||J<=0||U<=0||N<=0)return null;const H=U/100,le=N/(H*H);let re;j.gender==="male"?re=10*N+6.25*U-5*J+5:re=10*N+6.25*U-5*J-161;const we=re*{sedentary:1.2,light:1.375,moderate:1.55,active:1.725,veryActive:1.9}[j.activityLevel];let he=we;j.goal==="lose"?he=we-500:j.goal==="gain"&&(he=we+300);const Me=Math.round(he*.3/4),Ue=Math.round(he*.4/4),st=Math.round(he*.3/9);return{bmi:le,bmr:re,tdee:we,dailyCalories:he,macros:{protein:Me,carbs:Ue,fats:st}}},Y=j=>{c(j);const J=Q(j);J&&f(J),B(j),o("targets")},ue=()=>{if(a){const j=Q(a);j&&(f(j),o("targets"))}},ae=j=>{_(J=>J.some(N=>N.id===j.id)?J.filter(N=>N.id!==j.id):[...J,j])},ie=()=>{if(m.length>0){const j=m.map(J=>({item:J,timestamp:new Date().toISOString()}));T(J=>[...J,...j]),j.forEach(J=>L(J)),_([]),o("log")}},P=j=>{const J=w[j];T(U=>U.filter((N,H)=>H!==j)),J&&K(J)},A=j=>{const J={item:j,timestamp:new Date().toISOString()};T(U=>[...U,J]),L(J)},b=()=>{o("options")},D=()=>{o("onboarding")},R=w.reduce((j,J)=>j+J.item.calories,0),F=w.reduce((j,J)=>j+J.item.protein,0),C=w.reduce((j,J)=>j+J.item.carbs,0),Le=w.reduce((j,J)=>j+J.item.fats,0),Ge=d?d.dailyCalories-R:0,Ye=a&&a.age&&a.height&&a.weight,Te=[{id:"onboarding",label:"Profile",icon:bP,disabled:!1},{id:"targets",label:"Targets",icon:Oh,disabled:!d},{id:"options",label:"Suggestions",icon:ch,disabled:!d},{id:"log",label:"Log",icon:IC,disabled:!d}];return v.jsxs("div",{className:"min-h-screen bg-[#0B0E14] pb-32",children:[v.jsx(NP,{onSettingsClick:()=>o("settings")}),n&&v.jsx("div",{className:"absolute top-4 right-20 z-50",children:v.jsx("button",{onClick:t,className:"p-2 text-[#9AA3B2] hover:text-red-400 transition-colors",title:"Sign Out",children:v.jsx(tP,{className:"w-5 h-5"})})}),v.jsx("div",{className:"pt-20 px-4 sm:px-6 lg:px-8",children:v.jsxs("div",{className:"max-w-7xl mx-auto",children:[d&&v.jsx(Oe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-8 flex justify-center",children:v.jsx("div",{className:"inline-flex items-center gap-2 p-2 rounded-full bg-[#121722]/60 backdrop-blur-xl border border-[#2A3242]",children:Te.map(j=>v.jsxs("button",{onClick:()=>!j.disabled&&o(j.id),disabled:j.disabled,className:`flex items-center gap-2 px-4 py-2 rounded-full transition-all ${r===j.id?"bg-gradient-to-r from-[#22D3EE] to-[#14B8A6] text-[#0B0E14]":j.disabled?"text-[#9AA3B2]/40 cursor-not-allowed":"text-[#9AA3B2] hover:text-[#E6E9EF] hover:bg-[#2A3242]/50"}`,children:[v.jsx(j.icon,{className:"w-4 h-4"}),v.jsx("span",{className:"text-sm hidden sm:inline",children:j.label})]},j.id))})}),v.jsxs("div",{className:`grid gap-6 ${d?"grid-cols-1 lg:grid-cols-[1fr_320px]":"grid-cols-1"}`,children:[v.jsx("div",{children:v.jsxs(Hu,{mode:"wait",children:[r==="signup"&&v.jsx(Oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:v.jsx(sO,{onComplete:D})},"signup"),r==="onboarding"&&v.jsx(Oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:v.jsx(WM,{onComplete:Y,initialData:a})},"onboarding"),r==="targets"&&d&&v.jsx(Oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:v.jsx(HM,{bmi:d.bmi,bmr:d.bmr,tdee:d.tdee,dailyCalories:d.dailyCalories,macros:d.macros,onEditProfile:()=>o("onboarding")})},"targets"),r==="menu"&&d&&v.jsx(Oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:v.jsx(qM,{onSelectItem:ae,selectedItems:m})},"menu"),r==="options"&&d&&v.jsx(Oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:v.jsx(QM,{dailyCalories:d.dailyCalories,remainingCalories:Ge,macros:{protein:{consumed:F,target:d.macros.protein},carbs:{consumed:C,target:d.macros.carbs},fats:{consumed:Le,target:d.macros.fats}},onSelectItem:ae,selectedItems:m})},"options"),r==="log"&&d&&v.jsx(Oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:v.jsx(XM,{loggedItems:w,onRemoveItem:P,onAddManualMeal:A})},"log"),r==="settings"&&v.jsx(Oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:v.jsx(iO,{})},"settings")]})}),d&&v.jsx("div",{className:"hidden lg:block",children:v.jsx(DP,{dailyCalories:d.dailyCalories,consumedCalories:R,remainingCalories:Ge,macros:{protein:{consumed:F,target:d.macros.protein},carbs:{consumed:C,target:d.macros.carbs},fats:{consumed:Le,target:d.macros.fats}}})})]})]})}),d&&v.jsx(p_,{currentScreen:r,onCalculate:void 0,onSuggest:r==="menu"?b:void 0,onLog:m.length>0?ie:void 0}),r==="onboarding"&&!d&&v.jsx(p_,{currentScreen:r,onCalculate:ue,onSuggest:void 0,onLog:void 0,isFormValid:!!Ye})]})}function aO(){return v.jsx($M,{children:v.jsx(oO,{})})}jA.createRoot(document.getElementById("root")).render(v.jsx(aO,{}));
